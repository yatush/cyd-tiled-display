(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))d(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&d(h)}).observe(document,{childList:!0,subtree:!0});function o(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function d(u){if(u.ep)return;u.ep=!0;const f=o(u);fetch(u.href,f)}})();function yf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var da={exports:{}},Hl={},fa={exports:{}},ue={};var Rd;function Em(){if(Rd)return ue;Rd=1;var n=Symbol.for("react.element"),l=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.iterator;function k(_){return _===null||typeof _!="object"?null:(_=v&&_[v]||_["@@iterator"],typeof _=="function"?_:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,S={};function D(_,F,le){this.props=_,this.context=F,this.refs=S,this.updater=le||x}D.prototype.isReactComponent={},D.prototype.setState=function(_,F){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,F,"setState")},D.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function z(){}z.prototype=D.prototype;function A(_,F,le){this.props=_,this.context=F,this.refs=S,this.updater=le||x}var P=A.prototype=new z;P.constructor=A,j(P,D.prototype),P.isPureReactComponent=!0;var $=Array.isArray,V=Object.prototype.hasOwnProperty,T={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function W(_,F,le){var oe,ce={},ae=null,ve=null;if(F!=null)for(oe in F.ref!==void 0&&(ve=F.ref),F.key!==void 0&&(ae=""+F.key),F)V.call(F,oe)&&!M.hasOwnProperty(oe)&&(ce[oe]=F[oe]);var fe=arguments.length-2;if(fe===1)ce.children=le;else if(1<fe){for(var we=Array(fe),ke=0;ke<fe;ke++)we[ke]=arguments[ke+2];ce.children=we}if(_&&_.defaultProps)for(oe in fe=_.defaultProps,fe)ce[oe]===void 0&&(ce[oe]=fe[oe]);return{$$typeof:n,type:_,key:ae,ref:ve,props:ce,_owner:T.current}}function Z(_,F){return{$$typeof:n,type:_.type,key:F,ref:_.ref,props:_.props,_owner:_._owner}}function ie(_){return typeof _=="object"&&_!==null&&_.$$typeof===n}function pe(_){var F={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(le){return F[le]})}var ge=/\/+/g;function he(_,F){return typeof _=="object"&&_!==null&&_.key!=null?pe(""+_.key):F.toString(36)}function Se(_,F,le,oe,ce){var ae=typeof _;(ae==="undefined"||ae==="boolean")&&(_=null);var ve=!1;if(_===null)ve=!0;else switch(ae){case"string":case"number":ve=!0;break;case"object":switch(_.$$typeof){case n:case l:ve=!0}}if(ve)return ve=_,ce=ce(ve),_=oe===""?"."+he(ve,0):oe,$(ce)?(le="",_!=null&&(le=_.replace(ge,"$&/")+"/"),Se(ce,F,le,"",function(ke){return ke})):ce!=null&&(ie(ce)&&(ce=Z(ce,le+(!ce.key||ve&&ve.key===ce.key?"":(""+ce.key).replace(ge,"$&/")+"/")+_)),F.push(ce)),1;if(ve=0,oe=oe===""?".":oe+":",$(_))for(var fe=0;fe<_.length;fe++){ae=_[fe];var we=oe+he(ae,fe);ve+=Se(ae,F,le,we,ce)}else if(we=k(_),typeof we=="function")for(_=we.call(_),fe=0;!(ae=_.next()).done;)ae=ae.value,we=oe+he(ae,fe++),ve+=Se(ae,F,le,we,ce);else if(ae==="object")throw F=String(_),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return ve}function _e(_,F,le){if(_==null)return _;var oe=[],ce=0;return Se(_,oe,"","",function(ae){return F.call(le,ae,ce++)}),oe}function Pe(_){if(_._status===-1){var F=_._result;F=F(),F.then(function(le){(_._status===0||_._status===-1)&&(_._status=1,_._result=le)},function(le){(_._status===0||_._status===-1)&&(_._status=2,_._result=le)}),_._status===-1&&(_._status=0,_._result=F)}if(_._status===1)return _._result.default;throw _._result}var me={current:null},Y={transition:null},ee={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:Y,ReactCurrentOwner:T};function K(){throw Error("act(...) is not supported in production builds of React.")}return ue.Children={map:_e,forEach:function(_,F,le){_e(_,function(){F.apply(this,arguments)},le)},count:function(_){var F=0;return _e(_,function(){F++}),F},toArray:function(_){return _e(_,function(F){return F})||[]},only:function(_){if(!ie(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},ue.Component=D,ue.Fragment=o,ue.Profiler=u,ue.PureComponent=A,ue.StrictMode=d,ue.Suspense=m,ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,ue.act=K,ue.cloneElement=function(_,F,le){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var oe=j({},_.props),ce=_.key,ae=_.ref,ve=_._owner;if(F!=null){if(F.ref!==void 0&&(ae=F.ref,ve=T.current),F.key!==void 0&&(ce=""+F.key),_.type&&_.type.defaultProps)var fe=_.type.defaultProps;for(we in F)V.call(F,we)&&!M.hasOwnProperty(we)&&(oe[we]=F[we]===void 0&&fe!==void 0?fe[we]:F[we])}var we=arguments.length-2;if(we===1)oe.children=le;else if(1<we){fe=Array(we);for(var ke=0;ke<we;ke++)fe[ke]=arguments[ke+2];oe.children=fe}return{$$typeof:n,type:_.type,key:ce,ref:ae,props:oe,_owner:ve}},ue.createContext=function(_){return _={$$typeof:h,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:f,_context:_},_.Consumer=_},ue.createElement=W,ue.createFactory=function(_){var F=W.bind(null,_);return F.type=_,F},ue.createRef=function(){return{current:null}},ue.forwardRef=function(_){return{$$typeof:p,render:_}},ue.isValidElement=ie,ue.lazy=function(_){return{$$typeof:b,_payload:{_status:-1,_result:_},_init:Pe}},ue.memo=function(_,F){return{$$typeof:y,type:_,compare:F===void 0?null:F}},ue.startTransition=function(_){var F=Y.transition;Y.transition={};try{_()}finally{Y.transition=F}},ue.unstable_act=K,ue.useCallback=function(_,F){return me.current.useCallback(_,F)},ue.useContext=function(_){return me.current.useContext(_)},ue.useDebugValue=function(){},ue.useDeferredValue=function(_){return me.current.useDeferredValue(_)},ue.useEffect=function(_,F){return me.current.useEffect(_,F)},ue.useId=function(){return me.current.useId()},ue.useImperativeHandle=function(_,F,le){return me.current.useImperativeHandle(_,F,le)},ue.useInsertionEffect=function(_,F){return me.current.useInsertionEffect(_,F)},ue.useLayoutEffect=function(_,F){return me.current.useLayoutEffect(_,F)},ue.useMemo=function(_,F){return me.current.useMemo(_,F)},ue.useReducer=function(_,F,le){return me.current.useReducer(_,F,le)},ue.useRef=function(_){return me.current.useRef(_)},ue.useState=function(_){return me.current.useState(_)},ue.useSyncExternalStore=function(_,F,le){return me.current.useSyncExternalStore(_,F,le)},ue.useTransition=function(){return me.current.useTransition()},ue.version="18.3.1",ue}var Ld;function Fa(){return Ld||(Ld=1,fa.exports=Em()),fa.exports}var Od;function _m(){if(Od)return Hl;Od=1;var n=Fa(),l=Symbol.for("react.element"),o=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,u=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function h(p,m,y){var b,v={},k=null,x=null;y!==void 0&&(k=""+y),m.key!==void 0&&(k=""+m.key),m.ref!==void 0&&(x=m.ref);for(b in m)d.call(m,b)&&!f.hasOwnProperty(b)&&(v[b]=m[b]);if(p&&p.defaultProps)for(b in m=p.defaultProps,m)v[b]===void 0&&(v[b]=m[b]);return{$$typeof:l,type:p,key:k,ref:x,props:v,_owner:u.current}}return Hl.Fragment=o,Hl.jsx=h,Hl.jsxs=h,Hl}var Td;function Am(){return Td||(Td=1,da.exports=_m()),da.exports}var a=Am(),N=Fa();const kt=yf(N);var so={},pa={exports:{}},bt={},ha={exports:{}},ma={};var Md;function Dm(){return Md||(Md=1,(function(n){function l(Y,ee){var K=Y.length;Y.push(ee);e:for(;0<K;){var _=K-1>>>1,F=Y[_];if(0<u(F,ee))Y[_]=ee,Y[K]=F,K=_;else break e}}function o(Y){return Y.length===0?null:Y[0]}function d(Y){if(Y.length===0)return null;var ee=Y[0],K=Y.pop();if(K!==ee){Y[0]=K;e:for(var _=0,F=Y.length,le=F>>>1;_<le;){var oe=2*(_+1)-1,ce=Y[oe],ae=oe+1,ve=Y[ae];if(0>u(ce,K))ae<F&&0>u(ve,ce)?(Y[_]=ve,Y[ae]=K,_=ae):(Y[_]=ce,Y[oe]=K,_=oe);else if(ae<F&&0>u(ve,K))Y[_]=ve,Y[ae]=K,_=ae;else break e}}return ee}function u(Y,ee){var K=Y.sortIndex-ee.sortIndex;return K!==0?K:Y.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();n.unstable_now=function(){return h.now()-p}}var m=[],y=[],b=1,v=null,k=3,x=!1,j=!1,S=!1,D=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(Y){for(var ee=o(y);ee!==null;){if(ee.callback===null)d(y);else if(ee.startTime<=Y)d(y),ee.sortIndex=ee.expirationTime,l(m,ee);else break;ee=o(y)}}function $(Y){if(S=!1,P(Y),!j)if(o(m)!==null)j=!0,Pe(V);else{var ee=o(y);ee!==null&&me($,ee.startTime-Y)}}function V(Y,ee){j=!1,S&&(S=!1,z(W),W=-1),x=!0;var K=k;try{for(P(ee),v=o(m);v!==null&&(!(v.expirationTime>ee)||Y&&!pe());){var _=v.callback;if(typeof _=="function"){v.callback=null,k=v.priorityLevel;var F=_(v.expirationTime<=ee);ee=n.unstable_now(),typeof F=="function"?v.callback=F:v===o(m)&&d(m),P(ee)}else d(m);v=o(m)}if(v!==null)var le=!0;else{var oe=o(y);oe!==null&&me($,oe.startTime-ee),le=!1}return le}finally{v=null,k=K,x=!1}}var T=!1,M=null,W=-1,Z=5,ie=-1;function pe(){return!(n.unstable_now()-ie<Z)}function ge(){if(M!==null){var Y=n.unstable_now();ie=Y;var ee=!0;try{ee=M(!0,Y)}finally{ee?he():(T=!1,M=null)}}else T=!1}var he;if(typeof A=="function")he=function(){A(ge)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,_e=Se.port2;Se.port1.onmessage=ge,he=function(){_e.postMessage(null)}}else he=function(){D(ge,0)};function Pe(Y){M=Y,T||(T=!0,he())}function me(Y,ee){W=D(function(){Y(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){j||x||(j=!0,Pe(V))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_getFirstCallbackNode=function(){return o(m)},n.unstable_next=function(Y){switch(k){case 1:case 2:case 3:var ee=3;break;default:ee=k}var K=k;k=ee;try{return Y()}finally{k=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,ee){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var K=k;k=Y;try{return ee()}finally{k=K}},n.unstable_scheduleCallback=function(Y,ee,K){var _=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?_+K:_):K=_,Y){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=K+F,Y={id:b++,callback:ee,priorityLevel:Y,startTime:K,expirationTime:F,sortIndex:-1},K>_?(Y.sortIndex=K,l(y,Y),o(m)===null&&Y===o(y)&&(S?(z(W),W=-1):S=!0,me($,K-_))):(Y.sortIndex=F,l(m,Y),j||x||(j=!0,Pe(V))),Y},n.unstable_shouldYield=pe,n.unstable_wrapCallback=function(Y){var ee=k;return function(){var K=k;k=ee;try{return Y.apply(this,arguments)}finally{k=K}}}})(ma)),ma}var Fd;function Rm(){return Fd||(Fd=1,ha.exports=Dm()),ha.exports}var Pd;function Lm(){if(Pd)return bt;Pd=1;var n=Fa(),l=Rm();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,u={};function f(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(u[e]=t,e=0;e<t.length;e++)d.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},v={};function k(e){return m.call(v,e)?!0:m.call(b,e)?!1:y.test(e)?v[e]=!0:(b[e]=!0,!1)}function x(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function j(e,t,r,i){if(t===null||typeof t>"u"||x(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function S(e,t,r,i,s,c,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=g}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){D[e]=new S(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];D[t]=new S(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){D[e]=new S(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){D[e]=new S(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){D[e]=new S(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){D[e]=new S(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){D[e]=new S(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){D[e]=new S(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){D[e]=new S(e,5,!1,e.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(z,A);D[t]=new S(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(z,A);D[t]=new S(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(z,A);D[t]=new S(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){D[e]=new S(e,1,!1,e.toLowerCase(),null,!1,!1)}),D.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){D[e]=new S(e,1,!1,e.toLowerCase(),null,!0,!0)});function P(e,t,r,i){var s=D.hasOwnProperty(t)?D[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(j(t,r,s,i)&&(r=null),i||s===null?k(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,i=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var $=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),T=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),pe=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=Y&&e[Y]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,_;function F(e){if(_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||""}return`
`+_+e}var le=!1;function oe(e,t){if(!e||le)return"";le=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(O){var i=O}Reflect.construct(e,[],t)}else{try{t.call()}catch(O){i=O}e.call(t.prototype)}else{try{throw Error()}catch(O){i=O}e()}}catch(O){if(O&&i&&typeof O.stack=="string"){for(var s=O.stack.split(`
`),c=i.stack.split(`
`),g=s.length-1,w=c.length-1;1<=g&&0<=w&&s[g]!==c[w];)w--;for(;1<=g&&0<=w;g--,w--)if(s[g]!==c[w]){if(g!==1||w!==1)do if(g--,w--,0>w||s[g]!==c[w]){var C=`
`+s[g].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=g&&0<=w);break}}}finally{le=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function ce(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function ae(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case T:return"Portal";case Z:return"Profiler";case W:return"StrictMode";case he:return"Suspense";case Se:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pe:return(e.displayName||"Context")+".Consumer";case ie:return(e._context.displayName||"Context")+".Provider";case ge:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _e:return t=e.displayName||null,t!==null?t:ae(e.type)||"Memo";case Pe:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}function ve(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(t);case 8:return t===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function we(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ke(e){var t=we(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,c=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(g){i=""+g,c.call(this,g)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vt(e){e._valueTracker||(e._valueTracker=ke(e))}function Tt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=we(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function mn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nt(e,t){var r=t.checked;return K({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Wt(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=fe(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yt(e,t){t=t.checked,t!=null&&P(e,"checked",t,!1)}function _n(e,t){Yt(e,t);var r=fe(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gn(e,t.type,r):t.hasOwnProperty("defaultValue")&&gn(e,t.type,fe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nr(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function gn(e,t,r){(t!=="number"||mn(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var et=Array.isArray;function Ct(e,t,r,i){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&i&&(e[r].defaultSelected=!0)}else{for(r=""+fe(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Kt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return K({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rr(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(o(92));if(et(r)){if(1<r.length)throw Error(o(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:fe(r)}}function An(e,t){var r=fe(t.value),i=fe(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function Dn(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lr(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Et,on=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,s)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Et=Et||document.createElement("div"),Et.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Et.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var tt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},br=["Webkit","ms","Moz","O"];Object.keys(tt).forEach(function(e){br.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tt[t]=tt[e]})});function kr(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||tt.hasOwnProperty(e)&&tt[e]?(""+t).trim():t+"px"}function ir(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=kr(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,s):e[r]=s}}var De=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Me(e,t){if(t){if(De[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function rl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sr=null;function ll(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var il=null,Rn=null,Re=null;function nt(e){if(e=Nl(e)){if(typeof il!="function")throw Error(o(280));var t=e.stateNode;t&&(t=ki(t),il(e.stateNode,e.type,t))}}function rt(e){Rn?Re?Re.push(e):Re=[e]:Rn=e}function Qt(){if(Rn){var e=Rn,t=Re;if(Re=Rn=null,nt(e),t)for(e=0;e<t.length;e++)nt(t[e])}}function dt(e,t){return e(t)}function lt(){}var mt=!1;function xn(e,t,r){if(mt)return e(t,r);mt=!0;try{return dt(e,t,r)}finally{mt=!1,(Rn!==null||Re!==null)&&(lt(),Qt())}}function Le(e,t){var r=e.stateNode;if(r===null)return null;var i=ki(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(o(231,t,typeof r));return r}var Ft=!1;if(p)try{var it={};Object.defineProperty(it,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Ft=!1}function Gt(e,t,r,i,s,c,g,w,C){var O=Array.prototype.slice.call(arguments,3);try{t.apply(r,O)}catch(H){this.onError(H)}}var Xt=!1,an=null,_t=!1,vn=null,ol={onError:function(e){Xt=!0,an=e}};function Mp(e,t,r,i,s,c,g,w,C){Xt=!1,an=null,Gt.apply(ol,arguments)}function Fp(e,t,r,i,s,c,g,w,C){if(Mp.apply(this,arguments),Xt){if(Xt){var O=an;Xt=!1,an=null}else throw Error(o(198));_t||(_t=!0,vn=O)}}function or(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function eu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tu(e){if(or(e)!==e)throw Error(o(188))}function Pp(e){var t=e.alternate;if(!t){if(t=or(e),t===null)throw Error(o(188));return t!==e?null:e}for(var r=e,i=t;;){var s=r.return;if(s===null)break;var c=s.alternate;if(c===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===c.child){for(c=s.child;c;){if(c===r)return tu(s),e;if(c===i)return tu(s),t;c=c.sibling}throw Error(o(188))}if(r.return!==i.return)r=s,i=c;else{for(var g=!1,w=s.child;w;){if(w===r){g=!0,r=s,i=c;break}if(w===i){g=!0,i=s,r=c;break}w=w.sibling}if(!g){for(w=c.child;w;){if(w===r){g=!0,r=c,i=s;break}if(w===i){g=!0,i=c,r=s;break}w=w.sibling}if(!g)throw Error(o(189))}}if(r.alternate!==i)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:t}function nu(e){return e=Pp(e),e!==null?ru(e):null}function ru(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ru(e);if(t!==null)return t;e=e.sibling}return null}var lu=l.unstable_scheduleCallback,iu=l.unstable_cancelCallback,zp=l.unstable_shouldYield,Ip=l.unstable_requestPaint,ze=l.unstable_now,Hp=l.unstable_getCurrentPriorityLevel,Ro=l.unstable_ImmediatePriority,ou=l.unstable_UserBlockingPriority,ni=l.unstable_NormalPriority,Up=l.unstable_LowPriority,su=l.unstable_IdlePriority,ri=null,un=null;function Bp(e){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(ri,e,void 0,(e.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:Wp,$p=Math.log,Vp=Math.LN2;function Wp(e){return e>>>=0,e===0?32:31-($p(e)/Vp|0)|0}var li=64,ii=4194304;function sl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oi(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,s=e.suspendedLanes,c=e.pingedLanes,g=r&268435455;if(g!==0){var w=g&~s;w!==0?i=sl(w):(c&=g,c!==0&&(i=sl(c)))}else g=r&~s,g!==0?i=sl(g):c!==0&&(i=sl(c));if(i===0)return 0;if(t!==0&&t!==i&&(t&s)===0&&(s=i&-i,c=t&-t,s>=c||s===16&&(c&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-qt(t),s=1<<r,i|=e[r],t&=~s;return i}function Yp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kp(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,c=e.pendingLanes;0<c;){var g=31-qt(c),w=1<<g,C=s[g];C===-1?((w&r)===0||(w&i)!==0)&&(s[g]=Yp(w,t)):C<=t&&(e.expiredLanes|=w),c&=~w}}function Lo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function au(){var e=li;return li<<=1,(li&4194240)===0&&(li=64),e}function Oo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function al(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qt(t),e[t]=r}function Qp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-qt(r),c=1<<s;t[s]=0,i[s]=-1,e[s]=-1,r&=~c}}function To(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-qt(r),s=1<<i;s&t|e[i]&t&&(e[i]|=t),r&=~s}}var be=0;function uu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var cu,Mo,du,fu,pu,Fo=!1,si=[],Ln=null,On=null,Tn=null,ul=new Map,cl=new Map,Mn=[],Gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hu(e,t){switch(e){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":ul.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(t.pointerId)}}function dl(e,t,r,i,s,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:c,targetContainers:[s]},t!==null&&(t=Nl(t),t!==null&&Mo(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Xp(e,t,r,i,s){switch(t){case"focusin":return Ln=dl(Ln,e,t,r,i,s),!0;case"dragenter":return On=dl(On,e,t,r,i,s),!0;case"mouseover":return Tn=dl(Tn,e,t,r,i,s),!0;case"pointerover":var c=s.pointerId;return ul.set(c,dl(ul.get(c)||null,e,t,r,i,s)),!0;case"gotpointercapture":return c=s.pointerId,cl.set(c,dl(cl.get(c)||null,e,t,r,i,s)),!0}return!1}function mu(e){var t=sr(e.target);if(t!==null){var r=or(t);if(r!==null){if(t=r.tag,t===13){if(t=eu(r),t!==null){e.blockedOn=t,pu(e.priority,function(){du(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ai(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=zo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Sr=i,r.target.dispatchEvent(i),Sr=null}else return t=Nl(r),t!==null&&Mo(t),e.blockedOn=r,!1;t.shift()}return!0}function gu(e,t,r){ai(e)&&r.delete(t)}function qp(){Fo=!1,Ln!==null&&ai(Ln)&&(Ln=null),On!==null&&ai(On)&&(On=null),Tn!==null&&ai(Tn)&&(Tn=null),ul.forEach(gu),cl.forEach(gu)}function fl(e,t){e.blockedOn===t&&(e.blockedOn=null,Fo||(Fo=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,qp)))}function pl(e){function t(s){return fl(s,e)}if(0<si.length){fl(si[0],e);for(var r=1;r<si.length;r++){var i=si[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Ln!==null&&fl(Ln,e),On!==null&&fl(On,e),Tn!==null&&fl(Tn,e),ul.forEach(t),cl.forEach(t),r=0;r<Mn.length;r++)i=Mn[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Mn.length&&(r=Mn[0],r.blockedOn===null);)mu(r),r.blockedOn===null&&Mn.shift()}var jr=$.ReactCurrentBatchConfig,ui=!0;function Zp(e,t,r,i){var s=be,c=jr.transition;jr.transition=null;try{be=1,Po(e,t,r,i)}finally{be=s,jr.transition=c}}function Jp(e,t,r,i){var s=be,c=jr.transition;jr.transition=null;try{be=4,Po(e,t,r,i)}finally{be=s,jr.transition=c}}function Po(e,t,r,i){if(ui){var s=zo(e,t,r,i);if(s===null)ts(e,t,i,ci,r),hu(e,i);else if(Xp(s,e,t,r,i))i.stopPropagation();else if(hu(e,i),t&4&&-1<Gp.indexOf(e)){for(;s!==null;){var c=Nl(s);if(c!==null&&cu(c),c=zo(e,t,r,i),c===null&&ts(e,t,i,ci,r),c===s)break;s=c}s!==null&&i.stopPropagation()}else ts(e,t,i,null,r)}}var ci=null;function zo(e,t,r,i){if(ci=null,e=ll(i),e=sr(e),e!==null)if(t=or(e),t===null)e=null;else if(r=t.tag,r===13){if(e=eu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ci=e,null}function xu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hp()){case Ro:return 1;case ou:return 4;case ni:case Up:return 16;case su:return 536870912;default:return 16}default:return 16}}var Fn=null,Io=null,di=null;function vu(){if(di)return di;var e,t=Io,r=t.length,i,s="value"in Fn?Fn.value:Fn.textContent,c=s.length;for(e=0;e<r&&t[e]===s[e];e++);var g=r-e;for(i=1;i<=g&&t[r-i]===s[c-i];i++);return di=s.slice(e,1<i?1-i:void 0)}function fi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pi(){return!0}function yu(){return!1}function At(e){function t(r,i,s,c,g){this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=c,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(c):c[w]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pi:yu,this.isPropagationStopped=yu,this}return K(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),t}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ho=At(Nr),hl=K({},Nr,{view:0,detail:0}),eh=At(hl),Uo,Bo,ml,hi=K({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ml&&(ml&&e.type==="mousemove"?(Uo=e.screenX-ml.screenX,Bo=e.screenY-ml.screenY):Bo=Uo=0,ml=e),Uo)},movementY:function(e){return"movementY"in e?e.movementY:Bo}}),wu=At(hi),th=K({},hi,{dataTransfer:0}),nh=At(th),rh=K({},hl,{relatedTarget:0}),$o=At(rh),lh=K({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),ih=At(lh),oh=K({},Nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sh=At(oh),ah=K({},Nr,{data:0}),bu=At(ah),uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dh[e])?!!t[e]:!1}function Vo(){return fh}var ph=K({},hl,{key:function(e){if(e.key){var t=uh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ch[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vo,charCode:function(e){return e.type==="keypress"?fi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hh=At(ph),mh=K({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ku=At(mh),gh=K({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vo}),xh=At(gh),vh=K({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),yh=At(vh),wh=K({},hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bh=At(wh),kh=[9,13,27,32],Wo=p&&"CompositionEvent"in window,gl=null;p&&"documentMode"in document&&(gl=document.documentMode);var Sh=p&&"TextEvent"in window&&!gl,Su=p&&(!Wo||gl&&8<gl&&11>=gl),ju=" ",Nu=!1;function Cu(e,t){switch(e){case"keyup":return kh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cr=!1;function jh(e,t){switch(e){case"compositionend":return Eu(t);case"keypress":return t.which!==32?null:(Nu=!0,ju);case"textInput":return e=t.data,e===ju&&Nu?null:e;default:return null}}function Nh(e,t){if(Cr)return e==="compositionend"||!Wo&&Cu(e,t)?(e=vu(),di=Io=Fn=null,Cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Su&&t.locale!=="ko"?null:t.data;default:return null}}var Ch={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ch[e.type]:t==="textarea"}function Au(e,t,r,i){rt(i),t=yi(t,"onChange"),0<t.length&&(r=new Ho("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var xl=null,vl=null;function Eh(e){Ku(e,0)}function mi(e){var t=Rr(e);if(Tt(t))return e}function _h(e,t){if(e==="change")return t}var Du=!1;if(p){var Yo;if(p){var Ko="oninput"in document;if(!Ko){var Ru=document.createElement("div");Ru.setAttribute("oninput","return;"),Ko=typeof Ru.oninput=="function"}Yo=Ko}else Yo=!1;Du=Yo&&(!document.documentMode||9<document.documentMode)}function Lu(){xl&&(xl.detachEvent("onpropertychange",Ou),vl=xl=null)}function Ou(e){if(e.propertyName==="value"&&mi(vl)){var t=[];Au(t,vl,e,ll(e)),xn(Eh,t)}}function Ah(e,t,r){e==="focusin"?(Lu(),xl=t,vl=r,xl.attachEvent("onpropertychange",Ou)):e==="focusout"&&Lu()}function Dh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mi(vl)}function Rh(e,t){if(e==="click")return mi(t)}function Lh(e,t){if(e==="input"||e==="change")return mi(t)}function Oh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:Oh;function yl(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var s=r[i];if(!m.call(t,s)||!Zt(e[s],t[s]))return!1}return!0}function Tu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mu(e,t){var r=Tu(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tu(r)}}function Fu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pu(){for(var e=window,t=mn();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=mn(e.document)}return t}function Qo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Th(e){var t=Pu(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Fu(r.ownerDocument.documentElement,r)){if(i!==null&&Qo(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,c=Math.min(i.start,s);i=i.end===void 0?c:Math.min(i.end,s),!e.extend&&c>i&&(s=i,i=c,c=s),s=Mu(r,c);var g=Mu(r,i);s&&g&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),c>i?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mh=p&&"documentMode"in document&&11>=document.documentMode,Er=null,Go=null,wl=null,Xo=!1;function zu(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xo||Er==null||Er!==mn(i)||(i=Er,"selectionStart"in i&&Qo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),wl&&yl(wl,i)||(wl=i,i=yi(Go,"onSelect"),0<i.length&&(t=new Ho("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Er)))}function gi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _r={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionend:gi("Transition","TransitionEnd")},qo={},Iu={};p&&(Iu=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function xi(e){if(qo[e])return qo[e];if(!_r[e])return e;var t=_r[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Iu)return qo[e]=t[r];return e}var Hu=xi("animationend"),Uu=xi("animationiteration"),Bu=xi("animationstart"),$u=xi("transitionend"),Vu=new Map,Wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){Vu.set(e,t),f(t,[e])}for(var Zo=0;Zo<Wu.length;Zo++){var Jo=Wu[Zo],Fh=Jo.toLowerCase(),Ph=Jo[0].toUpperCase()+Jo.slice(1);Pn(Fh,"on"+Ph)}Pn(Hu,"onAnimationEnd"),Pn(Uu,"onAnimationIteration"),Pn(Bu,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn($u,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zh=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function Yu(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,Fp(i,t,void 0,e),e.currentTarget=null}function Ku(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],s=i.event;i=i.listeners;e:{var c=void 0;if(t)for(var g=i.length-1;0<=g;g--){var w=i[g],C=w.instance,O=w.currentTarget;if(w=w.listener,C!==c&&s.isPropagationStopped())break e;Yu(s,w,O),c=C}else for(g=0;g<i.length;g++){if(w=i[g],C=w.instance,O=w.currentTarget,w=w.listener,C!==c&&s.isPropagationStopped())break e;Yu(s,w,O),c=C}}}if(_t)throw e=vn,_t=!1,vn=null,e}function Ce(e,t){var r=t[ss];r===void 0&&(r=t[ss]=new Set);var i=e+"__bubble";r.has(i)||(Qu(t,e,2,!1),r.add(i))}function es(e,t,r){var i=0;t&&(i|=4),Qu(r,e,i,t)}var vi="_reactListening"+Math.random().toString(36).slice(2);function kl(e){if(!e[vi]){e[vi]=!0,d.forEach(function(r){r!=="selectionchange"&&(zh.has(r)||es(r,!1,e),es(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vi]||(t[vi]=!0,es("selectionchange",!1,t))}}function Qu(e,t,r,i){switch(xu(t)){case 1:var s=Zp;break;case 4:s=Jp;break;default:s=Po}r=s.bind(null,t,r,e),s=void 0,!Ft||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ts(e,t,r,i,s){var c=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var w=i.stateNode.containerInfo;if(w===s||w.nodeType===8&&w.parentNode===s)break;if(g===4)for(g=i.return;g!==null;){var C=g.tag;if((C===3||C===4)&&(C=g.stateNode.containerInfo,C===s||C.nodeType===8&&C.parentNode===s))return;g=g.return}for(;w!==null;){if(g=sr(w),g===null)return;if(C=g.tag,C===5||C===6){i=c=g;continue e}w=w.parentNode}}i=i.return}xn(function(){var O=c,H=ll(r),U=[];e:{var I=Vu.get(e);if(I!==void 0){var Q=Ho,X=e;switch(e){case"keypress":if(fi(r)===0)break e;case"keydown":case"keyup":Q=hh;break;case"focusin":X="focus",Q=$o;break;case"focusout":X="blur",Q=$o;break;case"beforeblur":case"afterblur":Q=$o;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=xh;break;case Hu:case Uu:case Bu:Q=ih;break;case $u:Q=yh;break;case"scroll":Q=eh;break;case"wheel":Q=bh;break;case"copy":case"cut":case"paste":Q=sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ku}var q=(t&4)!==0,Ie=!q&&e==="scroll",R=q?I!==null?I+"Capture":null:I;q=[];for(var E=O,L;E!==null;){L=E;var B=L.stateNode;if(L.tag===5&&B!==null&&(L=B,R!==null&&(B=Le(E,R),B!=null&&q.push(Sl(E,B,L)))),Ie)break;E=E.return}0<q.length&&(I=new Q(I,X,null,r,H),U.push({event:I,listeners:q}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",I&&r!==Sr&&(X=r.relatedTarget||r.fromElement)&&(sr(X)||X[yn]))break e;if((Q||I)&&(I=H.window===H?H:(I=H.ownerDocument)?I.defaultView||I.parentWindow:window,Q?(X=r.relatedTarget||r.toElement,Q=O,X=X?sr(X):null,X!==null&&(Ie=or(X),X!==Ie||X.tag!==5&&X.tag!==6)&&(X=null)):(Q=null,X=O),Q!==X)){if(q=wu,B="onMouseLeave",R="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(q=ku,B="onPointerLeave",R="onPointerEnter",E="pointer"),Ie=Q==null?I:Rr(Q),L=X==null?I:Rr(X),I=new q(B,E+"leave",Q,r,H),I.target=Ie,I.relatedTarget=L,B=null,sr(H)===O&&(q=new q(R,E+"enter",X,r,H),q.target=L,q.relatedTarget=Ie,B=q),Ie=B,Q&&X)t:{for(q=Q,R=X,E=0,L=q;L;L=Ar(L))E++;for(L=0,B=R;B;B=Ar(B))L++;for(;0<E-L;)q=Ar(q),E--;for(;0<L-E;)R=Ar(R),L--;for(;E--;){if(q===R||R!==null&&q===R.alternate)break t;q=Ar(q),R=Ar(R)}q=null}else q=null;Q!==null&&Gu(U,I,Q,q,!1),X!==null&&Ie!==null&&Gu(U,Ie,X,q,!0)}}e:{if(I=O?Rr(O):window,Q=I.nodeName&&I.nodeName.toLowerCase(),Q==="select"||Q==="input"&&I.type==="file")var J=_h;else if(_u(I))if(Du)J=Lh;else{J=Dh;var ne=Ah}else(Q=I.nodeName)&&Q.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(J=Rh);if(J&&(J=J(e,O))){Au(U,J,r,H);break e}ne&&ne(e,I,O),e==="focusout"&&(ne=I._wrapperState)&&ne.controlled&&I.type==="number"&&gn(I,"number",I.value)}switch(ne=O?Rr(O):window,e){case"focusin":(_u(ne)||ne.contentEditable==="true")&&(Er=ne,Go=O,wl=null);break;case"focusout":wl=Go=Er=null;break;case"mousedown":Xo=!0;break;case"contextmenu":case"mouseup":case"dragend":Xo=!1,zu(U,r,H);break;case"selectionchange":if(Mh)break;case"keydown":case"keyup":zu(U,r,H)}var re;if(Wo)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Cr?Cu(e,r)&&(se="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(se="onCompositionStart");se&&(Su&&r.locale!=="ko"&&(Cr||se!=="onCompositionStart"?se==="onCompositionEnd"&&Cr&&(re=vu()):(Fn=H,Io="value"in Fn?Fn.value:Fn.textContent,Cr=!0)),ne=yi(O,se),0<ne.length&&(se=new bu(se,e,null,r,H),U.push({event:se,listeners:ne}),re?se.data=re:(re=Eu(r),re!==null&&(se.data=re)))),(re=Sh?jh(e,r):Nh(e,r))&&(O=yi(O,"onBeforeInput"),0<O.length&&(H=new bu("onBeforeInput","beforeinput",null,r,H),U.push({event:H,listeners:O}),H.data=re))}Ku(U,t)})}function Sl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function yi(e,t){for(var r=t+"Capture",i=[];e!==null;){var s=e,c=s.stateNode;s.tag===5&&c!==null&&(s=c,c=Le(e,r),c!=null&&i.unshift(Sl(e,c,s)),c=Le(e,t),c!=null&&i.push(Sl(e,c,s))),e=e.return}return i}function Ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gu(e,t,r,i,s){for(var c=t._reactName,g=[];r!==null&&r!==i;){var w=r,C=w.alternate,O=w.stateNode;if(C!==null&&C===i)break;w.tag===5&&O!==null&&(w=O,s?(C=Le(r,c),C!=null&&g.unshift(Sl(r,C,w))):s||(C=Le(r,c),C!=null&&g.push(Sl(r,C,w)))),r=r.return}g.length!==0&&e.push({event:t,listeners:g})}var Ih=/\r\n?/g,Hh=/\u0000|\uFFFD/g;function Xu(e){return(typeof e=="string"?e:""+e).replace(Ih,`
`).replace(Hh,"")}function wi(e,t,r){if(t=Xu(t),Xu(e)!==t&&r)throw Error(o(425))}function bi(){}var ns=null,rs=null;function ls(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var is=typeof setTimeout=="function"?setTimeout:void 0,Uh=typeof clearTimeout=="function"?clearTimeout:void 0,qu=typeof Promise=="function"?Promise:void 0,Bh=typeof queueMicrotask=="function"?queueMicrotask:typeof qu<"u"?function(e){return qu.resolve(null).then(e).catch($h)}:is;function $h(e){setTimeout(function(){throw e})}function os(e,t){var r=t,i=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(i===0){e.removeChild(s),pl(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=s}while(r);pl(t)}function zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Dr=Math.random().toString(36).slice(2),cn="__reactFiber$"+Dr,jl="__reactProps$"+Dr,yn="__reactContainer$"+Dr,ss="__reactEvents$"+Dr,Vh="__reactListeners$"+Dr,Wh="__reactHandles$"+Dr;function sr(e){var t=e[cn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yn]||r[cn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Zu(e);e!==null;){if(r=e[cn])return r;e=Zu(e)}return t}e=r,r=e.parentNode}return null}function Nl(e){return e=e[cn]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function ki(e){return e[jl]||null}var as=[],Lr=-1;function In(e){return{current:e}}function Ee(e){0>Lr||(e.current=as[Lr],as[Lr]=null,Lr--)}function Ne(e,t){Lr++,as[Lr]=e.current,e.current=t}var Hn={},ot=In(Hn),gt=In(!1),ar=Hn;function Or(e,t){var r=e.type.contextTypes;if(!r)return Hn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},c;for(c in r)s[c]=t[c];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xt(e){return e=e.childContextTypes,e!=null}function Si(){Ee(gt),Ee(ot)}function Ju(e,t,r){if(ot.current!==Hn)throw Error(o(168));Ne(ot,t),Ne(gt,r)}function ec(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(o(108,ve(e)||"Unknown",s));return K({},r,i)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hn,ar=ot.current,Ne(ot,e),Ne(gt,gt.current),!0}function tc(e,t,r){var i=e.stateNode;if(!i)throw Error(o(169));r?(e=ec(e,t,ar),i.__reactInternalMemoizedMergedChildContext=e,Ee(gt),Ee(ot),Ne(ot,e)):Ee(gt),Ne(gt,r)}var wn=null,Ni=!1,us=!1;function nc(e){wn===null?wn=[e]:wn.push(e)}function Yh(e){Ni=!0,nc(e)}function Un(){if(!us&&wn!==null){us=!0;var e=0,t=be;try{var r=wn;for(be=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}wn=null,Ni=!1}catch(s){throw wn!==null&&(wn=wn.slice(e+1)),lu(Ro,Un),s}finally{be=t,us=!1}}return null}var Tr=[],Mr=0,Ci=null,Ei=0,Pt=[],zt=0,ur=null,bn=1,kn="";function cr(e,t){Tr[Mr++]=Ei,Tr[Mr++]=Ci,Ci=e,Ei=t}function rc(e,t,r){Pt[zt++]=bn,Pt[zt++]=kn,Pt[zt++]=ur,ur=e;var i=bn;e=kn;var s=32-qt(i)-1;i&=~(1<<s),r+=1;var c=32-qt(t)+s;if(30<c){var g=s-s%5;c=(i&(1<<g)-1).toString(32),i>>=g,s-=g,bn=1<<32-qt(t)+s|r<<s|i,kn=c+e}else bn=1<<c|r<<s|i,kn=e}function cs(e){e.return!==null&&(cr(e,1),rc(e,1,0))}function ds(e){for(;e===Ci;)Ci=Tr[--Mr],Tr[Mr]=null,Ei=Tr[--Mr],Tr[Mr]=null;for(;e===ur;)ur=Pt[--zt],Pt[zt]=null,kn=Pt[--zt],Pt[zt]=null,bn=Pt[--zt],Pt[zt]=null}var Dt=null,Rt=null,Ae=!1,Jt=null;function lc(e,t){var r=Bt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ic(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dt=e,Rt=zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dt=e,Rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ur!==null?{id:bn,overflow:kn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Bt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Dt=e,Rt=null,!0):!1;default:return!1}}function fs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ps(e){if(Ae){var t=Rt;if(t){var r=t;if(!ic(e,t)){if(fs(e))throw Error(o(418));t=zn(r.nextSibling);var i=Dt;t&&ic(e,t)?lc(i,r):(e.flags=e.flags&-4097|2,Ae=!1,Dt=e)}}else{if(fs(e))throw Error(o(418));e.flags=e.flags&-4097|2,Ae=!1,Dt=e}}}function oc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function _i(e){if(e!==Dt)return!1;if(!Ae)return oc(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ls(e.type,e.memoizedProps)),t&&(t=Rt)){if(fs(e))throw sc(),Error(o(418));for(;t;)lc(e,t),t=zn(t.nextSibling)}if(oc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Rt=zn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Rt=null}}else Rt=Dt?zn(e.stateNode.nextSibling):null;return!0}function sc(){for(var e=Rt;e;)e=zn(e.nextSibling)}function Fr(){Rt=Dt=null,Ae=!1}function hs(e){Jt===null?Jt=[e]:Jt.push(e)}var Kh=$.ReactCurrentBatchConfig;function Cl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(o(309));var i=r.stateNode}if(!i)throw Error(o(147,e));var s=i,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(g){var w=s.refs;g===null?delete w[c]:w[c]=g},t._stringRef=c,t)}if(typeof e!="string")throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function Ai(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ac(e){var t=e._init;return t(e._payload)}function uc(e){function t(R,E){if(e){var L=R.deletions;L===null?(R.deletions=[E],R.flags|=16):L.push(E)}}function r(R,E){if(!e)return null;for(;E!==null;)t(R,E),E=E.sibling;return null}function i(R,E){for(R=new Map;E!==null;)E.key!==null?R.set(E.key,E):R.set(E.index,E),E=E.sibling;return R}function s(R,E){return R=Gn(R,E),R.index=0,R.sibling=null,R}function c(R,E,L){return R.index=L,e?(L=R.alternate,L!==null?(L=L.index,L<E?(R.flags|=2,E):L):(R.flags|=2,E)):(R.flags|=1048576,E)}function g(R){return e&&R.alternate===null&&(R.flags|=2),R}function w(R,E,L,B){return E===null||E.tag!==6?(E=ia(L,R.mode,B),E.return=R,E):(E=s(E,L),E.return=R,E)}function C(R,E,L,B){var J=L.type;return J===M?H(R,E,L.props.children,B,L.key):E!==null&&(E.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Pe&&ac(J)===E.type)?(B=s(E,L.props),B.ref=Cl(R,E,L),B.return=R,B):(B=Ji(L.type,L.key,L.props,null,R.mode,B),B.ref=Cl(R,E,L),B.return=R,B)}function O(R,E,L,B){return E===null||E.tag!==4||E.stateNode.containerInfo!==L.containerInfo||E.stateNode.implementation!==L.implementation?(E=oa(L,R.mode,B),E.return=R,E):(E=s(E,L.children||[]),E.return=R,E)}function H(R,E,L,B,J){return E===null||E.tag!==7?(E=vr(L,R.mode,B,J),E.return=R,E):(E=s(E,L),E.return=R,E)}function U(R,E,L){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ia(""+E,R.mode,L),E.return=R,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case V:return L=Ji(E.type,E.key,E.props,null,R.mode,L),L.ref=Cl(R,null,E),L.return=R,L;case T:return E=oa(E,R.mode,L),E.return=R,E;case Pe:var B=E._init;return U(R,B(E._payload),L)}if(et(E)||ee(E))return E=vr(E,R.mode,L,null),E.return=R,E;Ai(R,E)}return null}function I(R,E,L,B){var J=E!==null?E.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return J!==null?null:w(R,E,""+L,B);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case V:return L.key===J?C(R,E,L,B):null;case T:return L.key===J?O(R,E,L,B):null;case Pe:return J=L._init,I(R,E,J(L._payload),B)}if(et(L)||ee(L))return J!==null?null:H(R,E,L,B,null);Ai(R,L)}return null}function Q(R,E,L,B,J){if(typeof B=="string"&&B!==""||typeof B=="number")return R=R.get(L)||null,w(E,R,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case V:return R=R.get(B.key===null?L:B.key)||null,C(E,R,B,J);case T:return R=R.get(B.key===null?L:B.key)||null,O(E,R,B,J);case Pe:var ne=B._init;return Q(R,E,L,ne(B._payload),J)}if(et(B)||ee(B))return R=R.get(L)||null,H(E,R,B,J,null);Ai(E,B)}return null}function X(R,E,L,B){for(var J=null,ne=null,re=E,se=E=0,Ge=null;re!==null&&se<L.length;se++){re.index>se?(Ge=re,re=null):Ge=re.sibling;var ye=I(R,re,L[se],B);if(ye===null){re===null&&(re=Ge);break}e&&re&&ye.alternate===null&&t(R,re),E=c(ye,E,se),ne===null?J=ye:ne.sibling=ye,ne=ye,re=Ge}if(se===L.length)return r(R,re),Ae&&cr(R,se),J;if(re===null){for(;se<L.length;se++)re=U(R,L[se],B),re!==null&&(E=c(re,E,se),ne===null?J=re:ne.sibling=re,ne=re);return Ae&&cr(R,se),J}for(re=i(R,re);se<L.length;se++)Ge=Q(re,R,se,L[se],B),Ge!==null&&(e&&Ge.alternate!==null&&re.delete(Ge.key===null?se:Ge.key),E=c(Ge,E,se),ne===null?J=Ge:ne.sibling=Ge,ne=Ge);return e&&re.forEach(function(Xn){return t(R,Xn)}),Ae&&cr(R,se),J}function q(R,E,L,B){var J=ee(L);if(typeof J!="function")throw Error(o(150));if(L=J.call(L),L==null)throw Error(o(151));for(var ne=J=null,re=E,se=E=0,Ge=null,ye=L.next();re!==null&&!ye.done;se++,ye=L.next()){re.index>se?(Ge=re,re=null):Ge=re.sibling;var Xn=I(R,re,ye.value,B);if(Xn===null){re===null&&(re=Ge);break}e&&re&&Xn.alternate===null&&t(R,re),E=c(Xn,E,se),ne===null?J=Xn:ne.sibling=Xn,ne=Xn,re=Ge}if(ye.done)return r(R,re),Ae&&cr(R,se),J;if(re===null){for(;!ye.done;se++,ye=L.next())ye=U(R,ye.value,B),ye!==null&&(E=c(ye,E,se),ne===null?J=ye:ne.sibling=ye,ne=ye);return Ae&&cr(R,se),J}for(re=i(R,re);!ye.done;se++,ye=L.next())ye=Q(re,R,se,ye.value,B),ye!==null&&(e&&ye.alternate!==null&&re.delete(ye.key===null?se:ye.key),E=c(ye,E,se),ne===null?J=ye:ne.sibling=ye,ne=ye);return e&&re.forEach(function(Cm){return t(R,Cm)}),Ae&&cr(R,se),J}function Ie(R,E,L,B){if(typeof L=="object"&&L!==null&&L.type===M&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case V:e:{for(var J=L.key,ne=E;ne!==null;){if(ne.key===J){if(J=L.type,J===M){if(ne.tag===7){r(R,ne.sibling),E=s(ne,L.props.children),E.return=R,R=E;break e}}else if(ne.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Pe&&ac(J)===ne.type){r(R,ne.sibling),E=s(ne,L.props),E.ref=Cl(R,ne,L),E.return=R,R=E;break e}r(R,ne);break}else t(R,ne);ne=ne.sibling}L.type===M?(E=vr(L.props.children,R.mode,B,L.key),E.return=R,R=E):(B=Ji(L.type,L.key,L.props,null,R.mode,B),B.ref=Cl(R,E,L),B.return=R,R=B)}return g(R);case T:e:{for(ne=L.key;E!==null;){if(E.key===ne)if(E.tag===4&&E.stateNode.containerInfo===L.containerInfo&&E.stateNode.implementation===L.implementation){r(R,E.sibling),E=s(E,L.children||[]),E.return=R,R=E;break e}else{r(R,E);break}else t(R,E);E=E.sibling}E=oa(L,R.mode,B),E.return=R,R=E}return g(R);case Pe:return ne=L._init,Ie(R,E,ne(L._payload),B)}if(et(L))return X(R,E,L,B);if(ee(L))return q(R,E,L,B);Ai(R,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,E!==null&&E.tag===6?(r(R,E.sibling),E=s(E,L),E.return=R,R=E):(r(R,E),E=ia(L,R.mode,B),E.return=R,R=E),g(R)):r(R,E)}return Ie}var Pr=uc(!0),cc=uc(!1),Di=In(null),Ri=null,zr=null,ms=null;function gs(){ms=zr=Ri=null}function xs(e){var t=Di.current;Ee(Di),e._currentValue=t}function vs(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Ir(e,t){Ri=e,ms=zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(vt=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(ms!==e)if(e={context:e,memoizedValue:t,next:null},zr===null){if(Ri===null)throw Error(o(308));zr=e,Ri.dependencies={lanes:0,firstContext:e}}else zr=zr.next=e;return t}var dr=null;function ys(e){dr===null?dr=[e]:dr.push(e)}function dc(e,t,r,i){var s=t.interleaved;return s===null?(r.next=r,ys(t)):(r.next=s.next,s.next=r),t.interleaved=r,Sn(e,i)}function Sn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bn=!1;function ws(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $n(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(xe&2)!==0){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Sn(e,r)}return s=i.interleaved,s===null?(t.next=t,ys(i)):(t.next=s.next,s.next=t),i.interleaved=t,Sn(e,r)}function Li(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,To(e,r)}}function pc(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,c=null;if(r=r.firstBaseUpdate,r!==null){do{var g={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};c===null?s=c=g:c=c.next=g,r=r.next}while(r!==null);c===null?s=c=t:c=c.next=t}else s=c=t;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:c,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Oi(e,t,r,i){var s=e.updateQueue;Bn=!1;var c=s.firstBaseUpdate,g=s.lastBaseUpdate,w=s.shared.pending;if(w!==null){s.shared.pending=null;var C=w,O=C.next;C.next=null,g===null?c=O:g.next=O,g=C;var H=e.alternate;H!==null&&(H=H.updateQueue,w=H.lastBaseUpdate,w!==g&&(w===null?H.firstBaseUpdate=O:w.next=O,H.lastBaseUpdate=C))}if(c!==null){var U=s.baseState;g=0,H=O=C=null,w=c;do{var I=w.lane,Q=w.eventTime;if((i&I)===I){H!==null&&(H=H.next={eventTime:Q,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var X=e,q=w;switch(I=t,Q=r,q.tag){case 1:if(X=q.payload,typeof X=="function"){U=X.call(Q,U,I);break e}U=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=q.payload,I=typeof X=="function"?X.call(Q,U,I):X,I==null)break e;U=K({},U,I);break e;case 2:Bn=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,I=s.effects,I===null?s.effects=[w]:I.push(w))}else Q={eventTime:Q,lane:I,tag:w.tag,payload:w.payload,callback:w.callback,next:null},H===null?(O=H=Q,C=U):H=H.next=Q,g|=I;if(w=w.next,w===null){if(w=s.shared.pending,w===null)break;I=w,w=I.next,I.next=null,s.lastBaseUpdate=I,s.shared.pending=null}}while(!0);if(H===null&&(C=U),s.baseState=C,s.firstBaseUpdate=O,s.lastBaseUpdate=H,t=s.shared.interleaved,t!==null){s=t;do g|=s.lane,s=s.next;while(s!==t)}else c===null&&(s.shared.lanes=0);hr|=g,e.lanes=g,e.memoizedState=U}}function hc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(o(191,s));s.call(i)}}}var El={},dn=In(El),_l=In(El),Al=In(El);function fr(e){if(e===El)throw Error(o(174));return e}function bs(e,t){switch(Ne(Al,t),Ne(_l,e),Ne(dn,El),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mt(t,e)}Ee(dn),Ne(dn,t)}function Hr(){Ee(dn),Ee(_l),Ee(Al)}function mc(e){fr(Al.current);var t=fr(dn.current),r=Mt(t,e.type);t!==r&&(Ne(_l,e),Ne(dn,r))}function ks(e){_l.current===e&&(Ee(dn),Ee(_l))}var Oe=In(0);function Ti(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ss=[];function js(){for(var e=0;e<Ss.length;e++)Ss[e]._workInProgressVersionPrimary=null;Ss.length=0}var Mi=$.ReactCurrentDispatcher,Ns=$.ReactCurrentBatchConfig,pr=0,Te=null,$e=null,Ke=null,Fi=!1,Dl=!1,Rl=0,Qh=0;function st(){throw Error(o(321))}function Cs(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Zt(e[r],t[r]))return!1;return!0}function Es(e,t,r,i,s,c){if(pr=c,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mi.current=e===null||e.memoizedState===null?Zh:Jh,e=r(i,s),Dl){c=0;do{if(Dl=!1,Rl=0,25<=c)throw Error(o(301));c+=1,Ke=$e=null,t.updateQueue=null,Mi.current=em,e=r(i,s)}while(Dl)}if(Mi.current=Ii,t=$e!==null&&$e.next!==null,pr=0,Ke=$e=Te=null,Fi=!1,t)throw Error(o(300));return e}function _s(){var e=Rl!==0;return Rl=0,e}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Te.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Ht(){if($e===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Ke===null?Te.memoizedState:Ke.next;if(t!==null)Ke=t,$e=e;else{if(e===null)throw Error(o(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Ke===null?Te.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Ll(e,t){return typeof t=="function"?t(e):t}function As(e){var t=Ht(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var i=$e,s=i.baseQueue,c=r.pending;if(c!==null){if(s!==null){var g=s.next;s.next=c.next,c.next=g}i.baseQueue=s=c,r.pending=null}if(s!==null){c=s.next,i=i.baseState;var w=g=null,C=null,O=c;do{var H=O.lane;if((pr&H)===H)C!==null&&(C=C.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),i=O.hasEagerState?O.eagerState:e(i,O.action);else{var U={lane:H,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};C===null?(w=C=U,g=i):C=C.next=U,Te.lanes|=H,hr|=H}O=O.next}while(O!==null&&O!==c);C===null?g=i:C.next=w,Zt(i,t.memoizedState)||(vt=!0),t.memoizedState=i,t.baseState=g,t.baseQueue=C,r.lastRenderedState=i}if(e=r.interleaved,e!==null){s=e;do c=s.lane,Te.lanes|=c,hr|=c,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ds(e){var t=Ht(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var i=r.dispatch,s=r.pending,c=t.memoizedState;if(s!==null){r.pending=null;var g=s=s.next;do c=e(c,g.action),g=g.next;while(g!==s);Zt(c,t.memoizedState)||(vt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),r.lastRenderedState=c}return[c,i]}function gc(){}function xc(e,t){var r=Te,i=Ht(),s=t(),c=!Zt(i.memoizedState,s);if(c&&(i.memoizedState=s,vt=!0),i=i.queue,Rs(wc.bind(null,r,i,e),[e]),i.getSnapshot!==t||c||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,Ol(9,yc.bind(null,r,i,s,t),void 0,null),Qe===null)throw Error(o(349));(pr&30)!==0||vc(r,t,s)}return s}function vc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function yc(e,t,r,i){t.value=r,t.getSnapshot=i,bc(t)&&kc(e)}function wc(e,t,r){return r(function(){bc(t)&&kc(e)})}function bc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Zt(e,r)}catch{return!0}}function kc(e){var t=Sn(e,1);t!==null&&rn(t,e,1,-1)}function Sc(e){var t=fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:e},t.queue=e,e=e.dispatch=qh.bind(null,Te,e),[t.memoizedState,e]}function Ol(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function jc(){return Ht().memoizedState}function Pi(e,t,r,i){var s=fn();Te.flags|=e,s.memoizedState=Ol(1|t,r,void 0,i===void 0?null:i)}function zi(e,t,r,i){var s=Ht();i=i===void 0?null:i;var c=void 0;if($e!==null){var g=$e.memoizedState;if(c=g.destroy,i!==null&&Cs(i,g.deps)){s.memoizedState=Ol(t,r,c,i);return}}Te.flags|=e,s.memoizedState=Ol(1|t,r,c,i)}function Nc(e,t){return Pi(8390656,8,e,t)}function Rs(e,t){return zi(2048,8,e,t)}function Cc(e,t){return zi(4,2,e,t)}function Ec(e,t){return zi(4,4,e,t)}function _c(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ac(e,t,r){return r=r!=null?r.concat([e]):null,zi(4,4,_c.bind(null,t,e),r)}function Ls(){}function Dc(e,t){var r=Ht();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Cs(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function Rc(e,t){var r=Ht();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Cs(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function Lc(e,t,r){return(pr&21)===0?(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=r):(Zt(r,t)||(r=au(),Te.lanes|=r,hr|=r,e.baseState=!0),t)}function Gh(e,t){var r=be;be=r!==0&&4>r?r:4,e(!0);var i=Ns.transition;Ns.transition={};try{e(!1),t()}finally{be=r,Ns.transition=i}}function Oc(){return Ht().memoizedState}function Xh(e,t,r){var i=Kn(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},Tc(e))Mc(t,r);else if(r=dc(e,t,r,i),r!==null){var s=pt();rn(r,e,i,s),Fc(r,t,i)}}function qh(e,t,r){var i=Kn(e),s={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(Tc(e))Mc(t,s);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var g=t.lastRenderedState,w=c(g,r);if(s.hasEagerState=!0,s.eagerState=w,Zt(w,g)){var C=t.interleaved;C===null?(s.next=s,ys(t)):(s.next=C.next,C.next=s),t.interleaved=s;return}}catch{}r=dc(e,t,s,i),r!==null&&(s=pt(),rn(r,e,i,s),Fc(r,t,i))}}function Tc(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Mc(e,t){Dl=Fi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Fc(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,To(e,r)}}var Ii={readContext:It,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Zh={readContext:It,useCallback:function(e,t){return fn().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:Nc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Pi(4194308,4,_c.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Pi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pi(4,2,e,t)},useMemo:function(e,t){var r=fn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=fn();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Xh.bind(null,Te,e),[i.memoizedState,e]},useRef:function(e){var t=fn();return e={current:e},t.memoizedState=e},useState:Sc,useDebugValue:Ls,useDeferredValue:function(e){return fn().memoizedState=e},useTransition:function(){var e=Sc(!1),t=e[0];return e=Gh.bind(null,e[1]),fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Te,s=fn();if(Ae){if(r===void 0)throw Error(o(407));r=r()}else{if(r=t(),Qe===null)throw Error(o(349));(pr&30)!==0||vc(i,t,r)}s.memoizedState=r;var c={value:r,getSnapshot:t};return s.queue=c,Nc(wc.bind(null,i,c,e),[e]),i.flags|=2048,Ol(9,yc.bind(null,i,c,r,t),void 0,null),r},useId:function(){var e=fn(),t=Qe.identifierPrefix;if(Ae){var r=kn,i=bn;r=(i&~(1<<32-qt(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Rl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Qh++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jh={readContext:It,useCallback:Dc,useContext:It,useEffect:Rs,useImperativeHandle:Ac,useInsertionEffect:Cc,useLayoutEffect:Ec,useMemo:Rc,useReducer:As,useRef:jc,useState:function(){return As(Ll)},useDebugValue:Ls,useDeferredValue:function(e){var t=Ht();return Lc(t,$e.memoizedState,e)},useTransition:function(){var e=As(Ll)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:gc,useSyncExternalStore:xc,useId:Oc,unstable_isNewReconciler:!1},em={readContext:It,useCallback:Dc,useContext:It,useEffect:Rs,useImperativeHandle:Ac,useInsertionEffect:Cc,useLayoutEffect:Ec,useMemo:Rc,useReducer:Ds,useRef:jc,useState:function(){return Ds(Ll)},useDebugValue:Ls,useDeferredValue:function(e){var t=Ht();return $e===null?t.memoizedState=e:Lc(t,$e.memoizedState,e)},useTransition:function(){var e=Ds(Ll)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:gc,useSyncExternalStore:xc,useId:Oc,unstable_isNewReconciler:!1};function en(e,t){if(e&&e.defaultProps){t=K({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Os(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:K({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hi={isMounted:function(e){return(e=e._reactInternals)?or(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=pt(),s=Kn(e),c=jn(i,s);c.payload=t,r!=null&&(c.callback=r),t=$n(e,c,s),t!==null&&(rn(t,e,s,i),Li(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=pt(),s=Kn(e),c=jn(i,s);c.tag=1,c.payload=t,r!=null&&(c.callback=r),t=$n(e,c,s),t!==null&&(rn(t,e,s,i),Li(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=pt(),i=Kn(e),s=jn(r,i);s.tag=2,t!=null&&(s.callback=t),t=$n(e,s,i),t!==null&&(rn(t,e,i,r),Li(t,e,i))}};function Pc(e,t,r,i,s,c,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,c,g):t.prototype&&t.prototype.isPureReactComponent?!yl(r,i)||!yl(s,c):!0}function zc(e,t,r){var i=!1,s=Hn,c=t.contextType;return typeof c=="object"&&c!==null?c=It(c):(s=xt(t)?ar:ot.current,i=t.contextTypes,c=(i=i!=null)?Or(e,s):Hn),t=new t(r,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hi,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=c),t}function Ic(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&Hi.enqueueReplaceState(t,t.state,null)}function Ts(e,t,r,i){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ws(e);var c=t.contextType;typeof c=="object"&&c!==null?s.context=It(c):(c=xt(t)?ar:ot.current,s.context=Or(e,c)),s.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(Os(e,t,c,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Hi.enqueueReplaceState(s,s.state,null),Oi(e,r,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ur(e,t){try{var r="",i=t;do r+=ce(i),i=i.return;while(i);var s=r}catch(c){s=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:s,digest:null}}function Ms(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Fs(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var tm=typeof WeakMap=="function"?WeakMap:Map;function Hc(e,t,r){r=jn(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){Ki||(Ki=!0,qs=i),Fs(e,t)},r}function Uc(e,t,r){r=jn(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;r.payload=function(){return i(s)},r.callback=function(){Fs(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(r.callback=function(){Fs(e,t),typeof i!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),r}function Bc(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new tm;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(r)||(s.add(r),e=mm.bind(null,e,t,r),t.then(e,e))}function $c(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vc(e,t,r,i,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jn(-1,1),t.tag=2,$n(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var nm=$.ReactCurrentOwner,vt=!1;function ft(e,t,r,i){t.child=e===null?cc(t,null,r,i):Pr(t,e.child,r,i)}function Wc(e,t,r,i,s){r=r.render;var c=t.ref;return Ir(t,s),i=Es(e,t,r,i,c,s),r=_s(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nn(e,t,s)):(Ae&&r&&cs(t),t.flags|=1,ft(e,t,i,s),t.child)}function Yc(e,t,r,i,s){if(e===null){var c=r.type;return typeof c=="function"&&!la(c)&&c.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=c,Kc(e,t,c,i,s)):(e=Ji(r.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&s)===0){var g=c.memoizedProps;if(r=r.compare,r=r!==null?r:yl,r(g,i)&&e.ref===t.ref)return Nn(e,t,s)}return t.flags|=1,e=Gn(c,i),e.ref=t.ref,e.return=t,t.child=e}function Kc(e,t,r,i,s){if(e!==null){var c=e.memoizedProps;if(yl(c,i)&&e.ref===t.ref)if(vt=!1,t.pendingProps=i=c,(e.lanes&s)!==0)(e.flags&131072)!==0&&(vt=!0);else return t.lanes=e.lanes,Nn(e,t,s)}return Ps(e,t,r,i,s)}function Qc(e,t,r){var i=t.pendingProps,s=i.children,c=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne($r,Lt),Lt|=r;else{if((r&1073741824)===0)return e=c!==null?c.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne($r,Lt),Lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=c!==null?c.baseLanes:r,Ne($r,Lt),Lt|=i}else c!==null?(i=c.baseLanes|r,t.memoizedState=null):i=r,Ne($r,Lt),Lt|=i;return ft(e,t,s,r),t.child}function Gc(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ps(e,t,r,i,s){var c=xt(r)?ar:ot.current;return c=Or(t,c),Ir(t,s),r=Es(e,t,r,i,c,s),i=_s(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nn(e,t,s)):(Ae&&i&&cs(t),t.flags|=1,ft(e,t,r,s),t.child)}function Xc(e,t,r,i,s){if(xt(r)){var c=!0;ji(t)}else c=!1;if(Ir(t,s),t.stateNode===null)Bi(e,t),zc(t,r,i),Ts(t,r,i,s),i=!0;else if(e===null){var g=t.stateNode,w=t.memoizedProps;g.props=w;var C=g.context,O=r.contextType;typeof O=="object"&&O!==null?O=It(O):(O=xt(r)?ar:ot.current,O=Or(t,O));var H=r.getDerivedStateFromProps,U=typeof H=="function"||typeof g.getSnapshotBeforeUpdate=="function";U||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==i||C!==O)&&Ic(t,g,i,O),Bn=!1;var I=t.memoizedState;g.state=I,Oi(t,i,g,s),C=t.memoizedState,w!==i||I!==C||gt.current||Bn?(typeof H=="function"&&(Os(t,r,H,i),C=t.memoizedState),(w=Bn||Pc(t,r,w,i,I,C,O))?(U||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=C),g.props=i,g.state=C,g.context=O,i=w):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{g=t.stateNode,fc(e,t),w=t.memoizedProps,O=t.type===t.elementType?w:en(t.type,w),g.props=O,U=t.pendingProps,I=g.context,C=r.contextType,typeof C=="object"&&C!==null?C=It(C):(C=xt(r)?ar:ot.current,C=Or(t,C));var Q=r.getDerivedStateFromProps;(H=typeof Q=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==U||I!==C)&&Ic(t,g,i,C),Bn=!1,I=t.memoizedState,g.state=I,Oi(t,i,g,s);var X=t.memoizedState;w!==U||I!==X||gt.current||Bn?(typeof Q=="function"&&(Os(t,r,Q,i),X=t.memoizedState),(O=Bn||Pc(t,r,O,i,I,X,C)||!1)?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(i,X,C),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(i,X,C)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=X),g.props=i,g.state=X,g.context=C,i=O):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),i=!1)}return zs(e,t,r,i,c,s)}function zs(e,t,r,i,s,c){Gc(e,t);var g=(t.flags&128)!==0;if(!i&&!g)return s&&tc(t,r,!1),Nn(e,t,c);i=t.stateNode,nm.current=t;var w=g&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&g?(t.child=Pr(t,e.child,null,c),t.child=Pr(t,null,w,c)):ft(e,t,w,c),t.memoizedState=i.state,s&&tc(t,r,!0),t.child}function qc(e){var t=e.stateNode;t.pendingContext?Ju(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ju(e,t.context,!1),bs(e,t.containerInfo)}function Zc(e,t,r,i,s){return Fr(),hs(s),t.flags|=256,ft(e,t,r,i),t.child}var Is={dehydrated:null,treeContext:null,retryLane:0};function Hs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jc(e,t,r){var i=t.pendingProps,s=Oe.current,c=!1,g=(t.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(s&2)!==0),w?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ne(Oe,s&1),e===null)return ps(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=i.children,e=i.fallback,c?(i=t.mode,c=t.child,g={mode:"hidden",children:g},(i&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=g):c=eo(g,i,0,null),e=vr(e,i,r,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=Hs(r),t.memoizedState=Is,e):Us(t,g));if(s=e.memoizedState,s!==null&&(w=s.dehydrated,w!==null))return rm(e,t,g,i,w,s,r);if(c){c=i.fallback,g=t.mode,s=e.child,w=s.sibling;var C={mode:"hidden",children:i.children};return(g&1)===0&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=C,t.deletions=null):(i=Gn(s,C),i.subtreeFlags=s.subtreeFlags&14680064),w!==null?c=Gn(w,c):(c=vr(c,g,r,null),c.flags|=2),c.return=t,i.return=t,i.sibling=c,t.child=i,i=c,c=t.child,g=e.child.memoizedState,g=g===null?Hs(r):{baseLanes:g.baseLanes|r,cachePool:null,transitions:g.transitions},c.memoizedState=g,c.childLanes=e.childLanes&~r,t.memoizedState=Is,i}return c=e.child,e=c.sibling,i=Gn(c,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return t=eo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ui(e,t,r,i){return i!==null&&hs(i),Pr(t,e.child,null,r),e=Us(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rm(e,t,r,i,s,c,g){if(r)return t.flags&256?(t.flags&=-257,i=Ms(Error(o(422))),Ui(e,t,g,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=i.fallback,s=t.mode,i=eo({mode:"visible",children:i.children},s,0,null),c=vr(c,s,g,null),c.flags|=2,i.return=t,c.return=t,i.sibling=c,t.child=i,(t.mode&1)!==0&&Pr(t,e.child,null,g),t.child.memoizedState=Hs(g),t.memoizedState=Is,c);if((t.mode&1)===0)return Ui(e,t,g,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var w=i.dgst;return i=w,c=Error(o(419)),i=Ms(c,i,void 0),Ui(e,t,g,i)}if(w=(g&e.childLanes)!==0,vt||w){if(i=Qe,i!==null){switch(g&-g){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(i.suspendedLanes|g))!==0?0:s,s!==0&&s!==c.retryLane&&(c.retryLane=s,Sn(e,s),rn(i,e,s,-1))}return ra(),i=Ms(Error(o(421))),Ui(e,t,g,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=gm.bind(null,e),s._reactRetry=t,null):(e=c.treeContext,Rt=zn(s.nextSibling),Dt=t,Ae=!0,Jt=null,e!==null&&(Pt[zt++]=bn,Pt[zt++]=kn,Pt[zt++]=ur,bn=e.id,kn=e.overflow,ur=t),t=Us(t,i.children),t.flags|=4096,t)}function ed(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),vs(e.return,t,r)}function Bs(e,t,r,i,s){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=i,c.tail=r,c.tailMode=s)}function td(e,t,r){var i=t.pendingProps,s=i.revealOrder,c=i.tail;if(ft(e,t,i.children,r),i=Oe.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ed(e,r,t);else if(e.tag===19)ed(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Ne(Oe,i),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ti(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Bs(t,!1,s,r,c);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ti(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Bs(t,!0,r,null,c);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),hr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,r=Gn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Gn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function lm(e,t,r){switch(t.tag){case 3:qc(t),Fr();break;case 5:mc(t);break;case 1:xt(t.type)&&ji(t);break;case 4:bs(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;Ne(Di,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Ne(Oe,Oe.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Jc(e,t,r):(Ne(Oe,Oe.current&1),e=Nn(e,t,r),e!==null?e.sibling:null);Ne(Oe,Oe.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return td(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(Oe,Oe.current),i)break;return null;case 22:case 23:return t.lanes=0,Qc(e,t,r)}return Nn(e,t,r)}var nd,$s,rd,ld;nd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},$s=function(){},rd=function(e,t,r,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,fr(dn.current);var c=null;switch(r){case"input":s=Nt(e,s),i=Nt(e,i),c=[];break;case"select":s=K({},s,{value:void 0}),i=K({},i,{value:void 0}),c=[];break;case"textarea":s=Kt(e,s),i=Kt(e,i),c=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=bi)}Me(r,i);var g;r=null;for(O in s)if(!i.hasOwnProperty(O)&&s.hasOwnProperty(O)&&s[O]!=null)if(O==="style"){var w=s[O];for(g in w)w.hasOwnProperty(g)&&(r||(r={}),r[g]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(u.hasOwnProperty(O)?c||(c=[]):(c=c||[]).push(O,null));for(O in i){var C=i[O];if(w=s?.[O],i.hasOwnProperty(O)&&C!==w&&(C!=null||w!=null))if(O==="style")if(w){for(g in w)!w.hasOwnProperty(g)||C&&C.hasOwnProperty(g)||(r||(r={}),r[g]="");for(g in C)C.hasOwnProperty(g)&&w[g]!==C[g]&&(r||(r={}),r[g]=C[g])}else r||(c||(c=[]),c.push(O,r)),r=C;else O==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,w=w?w.__html:void 0,C!=null&&w!==C&&(c=c||[]).push(O,C)):O==="children"?typeof C!="string"&&typeof C!="number"||(c=c||[]).push(O,""+C):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(u.hasOwnProperty(O)?(C!=null&&O==="onScroll"&&Ce("scroll",e),c||w===C||(c=[])):(c=c||[]).push(O,C))}r&&(c=c||[]).push("style",r);var O=c;(t.updateQueue=O)&&(t.flags|=4)}},ld=function(e,t,r,i){r!==i&&(t.flags|=4)};function Tl(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function im(e,t,r){var i=t.pendingProps;switch(ds(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return xt(t.type)&&Si(),at(t),null;case 3:return i=t.stateNode,Hr(),Ee(gt),Ee(ot),js(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(_i(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Jt!==null&&(ea(Jt),Jt=null))),$s(e,t),at(t),null;case 5:ks(t);var s=fr(Al.current);if(r=t.type,e!==null&&t.stateNode!=null)rd(e,t,r,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(o(166));return at(t),null}if(e=fr(dn.current),_i(t)){i=t.stateNode,r=t.type;var c=t.memoizedProps;switch(i[cn]=t,i[jl]=c,e=(t.mode&1)!==0,r){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(s=0;s<bl.length;s++)Ce(bl[s],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":Wt(i,c),Ce("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!c.multiple},Ce("invalid",i);break;case"textarea":rr(i,c),Ce("invalid",i)}Me(r,c),s=null;for(var g in c)if(c.hasOwnProperty(g)){var w=c[g];g==="children"?typeof w=="string"?i.textContent!==w&&(c.suppressHydrationWarning!==!0&&wi(i.textContent,w,e),s=["children",w]):typeof w=="number"&&i.textContent!==""+w&&(c.suppressHydrationWarning!==!0&&wi(i.textContent,w,e),s=["children",""+w]):u.hasOwnProperty(g)&&w!=null&&g==="onScroll"&&Ce("scroll",i)}switch(r){case"input":Vt(i),nr(i,c,!0);break;case"textarea":Vt(i),Dn(i);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(i.onclick=bi)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{g=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lr(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=g.createElement(r,{is:i.is}):(e=g.createElement(r),r==="select"&&(g=e,i.multiple?g.multiple=!0:i.size&&(g.size=i.size))):e=g.createElementNS(e,r),e[cn]=t,e[jl]=i,nd(e,t,!1,!1),t.stateNode=e;e:{switch(g=rl(r,i),r){case"dialog":Ce("cancel",e),Ce("close",e),s=i;break;case"iframe":case"object":case"embed":Ce("load",e),s=i;break;case"video":case"audio":for(s=0;s<bl.length;s++)Ce(bl[s],e);s=i;break;case"source":Ce("error",e),s=i;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),s=i;break;case"details":Ce("toggle",e),s=i;break;case"input":Wt(e,i),s=Nt(e,i),Ce("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=K({},i,{value:void 0}),Ce("invalid",e);break;case"textarea":rr(e,i),s=Kt(e,i),Ce("invalid",e);break;default:s=i}Me(r,s),w=s;for(c in w)if(w.hasOwnProperty(c)){var C=w[c];c==="style"?ir(e,C):c==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&on(e,C)):c==="children"?typeof C=="string"?(r!=="textarea"||C!=="")&&sn(e,C):typeof C=="number"&&sn(e,""+C):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(u.hasOwnProperty(c)?C!=null&&c==="onScroll"&&Ce("scroll",e):C!=null&&P(e,c,C,g))}switch(r){case"input":Vt(e),nr(e,i,!1);break;case"textarea":Vt(e),Dn(e);break;case"option":i.value!=null&&e.setAttribute("value",""+fe(i.value));break;case"select":e.multiple=!!i.multiple,c=i.value,c!=null?Ct(e,!!i.multiple,c,!1):i.defaultValue!=null&&Ct(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bi)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)ld(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(o(166));if(r=fr(Al.current),fr(dn.current),_i(t)){if(i=t.stateNode,r=t.memoizedProps,i[cn]=t,(c=i.nodeValue!==r)&&(e=Dt,e!==null))switch(e.tag){case 3:wi(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wi(i.nodeValue,r,(e.mode&1)!==0)}c&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[cn]=t,t.stateNode=i}return at(t),null;case 13:if(Ee(Oe),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&Rt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)sc(),Fr(),t.flags|=98560,c=!1;else if(c=_i(t),i!==null&&i.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[cn]=t}else Fr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),c=!1}else Jt!==null&&(ea(Jt),Jt=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Oe.current&1)!==0?Ve===0&&(Ve=3):ra())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return Hr(),$s(e,t),e===null&&kl(t.stateNode.containerInfo),at(t),null;case 10:return xs(t.type._context),at(t),null;case 17:return xt(t.type)&&Si(),at(t),null;case 19:if(Ee(Oe),c=t.memoizedState,c===null)return at(t),null;if(i=(t.flags&128)!==0,g=c.rendering,g===null)if(i)Tl(c,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Ti(e),g!==null){for(t.flags|=128,Tl(c,!1),i=g.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)c=r,e=i,c.flags&=14680066,g=c.alternate,g===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=g.childLanes,c.lanes=g.lanes,c.child=g.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=g.memoizedProps,c.memoizedState=g.memoizedState,c.updateQueue=g.updateQueue,c.type=g.type,e=g.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ne(Oe,Oe.current&1|2),t.child}e=e.sibling}c.tail!==null&&ze()>Vr&&(t.flags|=128,i=!0,Tl(c,!1),t.lanes=4194304)}else{if(!i)if(e=Ti(g),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Tl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Ae)return at(t),null}else 2*ze()-c.renderingStartTime>Vr&&r!==1073741824&&(t.flags|=128,i=!0,Tl(c,!1),t.lanes=4194304);c.isBackwards?(g.sibling=t.child,t.child=g):(r=c.last,r!==null?r.sibling=g:t.child=g,c.last=g)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=ze(),t.sibling=null,r=Oe.current,Ne(Oe,i?r&1|2:r&1),t):(at(t),null);case 22:case 23:return na(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(Lt&1073741824)!==0&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function om(e,t){switch(ds(t),t.tag){case 1:return xt(t.type)&&Si(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hr(),Ee(gt),Ee(ot),js(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ks(t),null;case 13:if(Ee(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Fr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Oe),null;case 4:return Hr(),null;case 10:return xs(t.type._context),null;case 22:case 23:return na(),null;case 24:return null;default:return null}}var $i=!1,ut=!1,sm=typeof WeakSet=="function"?WeakSet:Set,G=null;function Br(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Fe(e,t,i)}else r.current=null}function Vs(e,t,r){try{r()}catch(i){Fe(e,t,i)}}var id=!1;function am(e,t){if(ns=ui,e=Pu(),Qo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var s=i.anchorOffset,c=i.focusNode;i=i.focusOffset;try{r.nodeType,c.nodeType}catch{r=null;break e}var g=0,w=-1,C=-1,O=0,H=0,U=e,I=null;t:for(;;){for(var Q;U!==r||s!==0&&U.nodeType!==3||(w=g+s),U!==c||i!==0&&U.nodeType!==3||(C=g+i),U.nodeType===3&&(g+=U.nodeValue.length),(Q=U.firstChild)!==null;)I=U,U=Q;for(;;){if(U===e)break t;if(I===r&&++O===s&&(w=g),I===c&&++H===i&&(C=g),(Q=U.nextSibling)!==null)break;U=I,I=U.parentNode}U=Q}r=w===-1||C===-1?null:{start:w,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(rs={focusedElem:e,selectionRange:r},ui=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var X=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var q=X.memoizedProps,Ie=X.memoizedState,R=t.stateNode,E=R.getSnapshotBeforeUpdate(t.elementType===t.type?q:en(t.type,q),Ie);R.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(B){Fe(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return X=id,id=!1,X}function Ml(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var c=s.destroy;s.destroy=void 0,c!==void 0&&Vs(t,r,c)}s=s.next}while(s!==i)}}function Vi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function Ws(e){var t=e.ref;if(t!==null){var r=e.stateNode;e.tag,e=r,typeof t=="function"?t(e):t.current=e}}function od(e){var t=e.alternate;t!==null&&(e.alternate=null,od(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cn],delete t[jl],delete t[ss],delete t[Vh],delete t[Wh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sd(e){return e.tag===5||e.tag===3||e.tag===4}function ad(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ys(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=bi));else if(i!==4&&(e=e.child,e!==null))for(Ys(e,t,r),e=e.sibling;e!==null;)Ys(e,t,r),e=e.sibling}function Ks(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Ks(e,t,r),e=e.sibling;e!==null;)Ks(e,t,r),e=e.sibling}var qe=null,tn=!1;function Vn(e,t,r){for(r=r.child;r!==null;)ud(e,t,r),r=r.sibling}function ud(e,t,r){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(ri,r)}catch{}switch(r.tag){case 5:ut||Br(r,t);case 6:var i=qe,s=tn;qe=null,Vn(e,t,r),qe=i,tn=s,qe!==null&&(tn?(e=qe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):qe.removeChild(r.stateNode));break;case 18:qe!==null&&(tn?(e=qe,r=r.stateNode,e.nodeType===8?os(e.parentNode,r):e.nodeType===1&&os(e,r),pl(e)):os(qe,r.stateNode));break;case 4:i=qe,s=tn,qe=r.stateNode.containerInfo,tn=!0,Vn(e,t,r),qe=i,tn=s;break;case 0:case 11:case 14:case 15:if(!ut&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var c=s,g=c.destroy;c=c.tag,g!==void 0&&((c&2)!==0||(c&4)!==0)&&Vs(r,t,g),s=s.next}while(s!==i)}Vn(e,t,r);break;case 1:if(!ut&&(Br(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(w){Fe(r,t,w)}Vn(e,t,r);break;case 21:Vn(e,t,r);break;case 22:r.mode&1?(ut=(i=ut)||r.memoizedState!==null,Vn(e,t,r),ut=i):Vn(e,t,r);break;default:Vn(e,t,r)}}function cd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new sm),t.forEach(function(i){var s=xm.bind(null,e,i);r.has(i)||(r.add(i),i.then(s,s))})}}function nn(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];try{var c=e,g=t,w=g;e:for(;w!==null;){switch(w.tag){case 5:qe=w.stateNode,tn=!1;break e;case 3:qe=w.stateNode.containerInfo,tn=!0;break e;case 4:qe=w.stateNode.containerInfo,tn=!0;break e}w=w.return}if(qe===null)throw Error(o(160));ud(c,g,s),qe=null,tn=!1;var C=s.alternate;C!==null&&(C.return=null),s.return=null}catch(O){Fe(s,t,O)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dd(t,e),t=t.sibling}function dd(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nn(t,e),pn(e),i&4){try{Ml(3,e,e.return),Vi(3,e)}catch(q){Fe(e,e.return,q)}try{Ml(5,e,e.return)}catch(q){Fe(e,e.return,q)}}break;case 1:nn(t,e),pn(e),i&512&&r!==null&&Br(r,r.return);break;case 5:if(nn(t,e),pn(e),i&512&&r!==null&&Br(r,r.return),e.flags&32){var s=e.stateNode;try{sn(s,"")}catch(q){Fe(e,e.return,q)}}if(i&4&&(s=e.stateNode,s!=null)){var c=e.memoizedProps,g=r!==null?r.memoizedProps:c,w=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{w==="input"&&c.type==="radio"&&c.name!=null&&Yt(s,c),rl(w,g);var O=rl(w,c);for(g=0;g<C.length;g+=2){var H=C[g],U=C[g+1];H==="style"?ir(s,U):H==="dangerouslySetInnerHTML"?on(s,U):H==="children"?sn(s,U):P(s,H,U,O)}switch(w){case"input":_n(s,c);break;case"textarea":An(s,c);break;case"select":var I=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!c.multiple;var Q=c.value;Q!=null?Ct(s,!!c.multiple,Q,!1):I!==!!c.multiple&&(c.defaultValue!=null?Ct(s,!!c.multiple,c.defaultValue,!0):Ct(s,!!c.multiple,c.multiple?[]:"",!1))}s[jl]=c}catch(q){Fe(e,e.return,q)}}break;case 6:if(nn(t,e),pn(e),i&4){if(e.stateNode===null)throw Error(o(162));s=e.stateNode,c=e.memoizedProps;try{s.nodeValue=c}catch(q){Fe(e,e.return,q)}}break;case 3:if(nn(t,e),pn(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{pl(t.containerInfo)}catch(q){Fe(e,e.return,q)}break;case 4:nn(t,e),pn(e);break;case 13:nn(t,e),pn(e),s=e.child,s.flags&8192&&(c=s.memoizedState!==null,s.stateNode.isHidden=c,!c||s.alternate!==null&&s.alternate.memoizedState!==null||(Xs=ze())),i&4&&cd(e);break;case 22:if(H=r!==null&&r.memoizedState!==null,e.mode&1?(ut=(O=ut)||H,nn(t,e),ut=O):nn(t,e),pn(e),i&8192){if(O=e.memoizedState!==null,(e.stateNode.isHidden=O)&&!H&&(e.mode&1)!==0)for(G=e,H=e.child;H!==null;){for(U=G=H;G!==null;){switch(I=G,Q=I.child,I.tag){case 0:case 11:case 14:case 15:Ml(4,I,I.return);break;case 1:Br(I,I.return);var X=I.stateNode;if(typeof X.componentWillUnmount=="function"){i=I,r=I.return;try{t=i,X.props=t.memoizedProps,X.state=t.memoizedState,X.componentWillUnmount()}catch(q){Fe(i,r,q)}}break;case 5:Br(I,I.return);break;case 22:if(I.memoizedState!==null){hd(U);continue}}Q!==null?(Q.return=I,G=Q):hd(U)}H=H.sibling}e:for(H=null,U=e;;){if(U.tag===5){if(H===null){H=U;try{s=U.stateNode,O?(c=s.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(w=U.stateNode,C=U.memoizedProps.style,g=C!=null&&C.hasOwnProperty("display")?C.display:null,w.style.display=kr("display",g))}catch(q){Fe(e,e.return,q)}}}else if(U.tag===6){if(H===null)try{U.stateNode.nodeValue=O?"":U.memoizedProps}catch(q){Fe(e,e.return,q)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===e)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===e)break e;for(;U.sibling===null;){if(U.return===null||U.return===e)break e;H===U&&(H=null),U=U.return}H===U&&(H=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:nn(t,e),pn(e),i&4&&cd(e);break;case 21:break;default:nn(t,e),pn(e)}}function pn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(sd(r)){var i=r;break e}r=r.return}throw Error(o(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(sn(s,""),i.flags&=-33);var c=ad(e);Ks(e,c,s);break;case 3:case 4:var g=i.stateNode.containerInfo,w=ad(e);Ys(e,w,g);break;default:throw Error(o(161))}}catch(C){Fe(e,e.return,C)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function um(e,t,r){G=e,fd(e)}function fd(e,t,r){for(var i=(e.mode&1)!==0;G!==null;){var s=G,c=s.child;if(s.tag===22&&i){var g=s.memoizedState!==null||$i;if(!g){var w=s.alternate,C=w!==null&&w.memoizedState!==null||ut;w=$i;var O=ut;if($i=g,(ut=C)&&!O)for(G=s;G!==null;)g=G,C=g.child,g.tag===22&&g.memoizedState!==null?md(s):C!==null?(C.return=g,G=C):md(s);for(;c!==null;)G=c,fd(c),c=c.sibling;G=s,$i=w,ut=O}pd(e)}else(s.subtreeFlags&8772)!==0&&c!==null?(c.return=s,G=c):pd(e)}}function pd(e){for(;G!==null;){var t=G;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ut||Vi(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!ut)if(r===null)i.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:en(t.type,r.memoizedProps);i.componentDidUpdate(s,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&hc(t,c,i);break;case 3:var g=t.updateQueue;if(g!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}hc(t,g,r)}break;case 5:var w=t.stateNode;if(r===null&&t.flags&4){r=w;var C=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&r.focus();break;case"img":C.src&&(r.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var O=t.alternate;if(O!==null){var H=O.memoizedState;if(H!==null){var U=H.dehydrated;U!==null&&pl(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}ut||t.flags&512&&Ws(t)}catch(I){Fe(t,t.return,I)}}if(t===e){G=null;break}if(r=t.sibling,r!==null){r.return=t.return,G=r;break}G=t.return}}function hd(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var r=t.sibling;if(r!==null){r.return=t.return,G=r;break}G=t.return}}function md(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Vi(4,t)}catch(C){Fe(t,r,C)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(C){Fe(t,s,C)}}var c=t.return;try{Ws(t)}catch(C){Fe(t,c,C)}break;case 5:var g=t.return;try{Ws(t)}catch(C){Fe(t,g,C)}}}catch(C){Fe(t,t.return,C)}if(t===e){G=null;break}var w=t.sibling;if(w!==null){w.return=t.return,G=w;break}G=t.return}}var cm=Math.ceil,Wi=$.ReactCurrentDispatcher,Qs=$.ReactCurrentOwner,Ut=$.ReactCurrentBatchConfig,xe=0,Qe=null,He=null,Ze=0,Lt=0,$r=In(0),Ve=0,Fl=null,hr=0,Yi=0,Gs=0,Pl=null,yt=null,Xs=0,Vr=1/0,Cn=null,Ki=!1,qs=null,Wn=null,Qi=!1,Yn=null,Gi=0,zl=0,Zs=null,Xi=-1,qi=0;function pt(){return(xe&6)!==0?ze():Xi!==-1?Xi:Xi=ze()}function Kn(e){return(e.mode&1)===0?1:(xe&2)!==0&&Ze!==0?Ze&-Ze:Kh.transition!==null?(qi===0&&(qi=au()),qi):(e=be,e!==0||(e=window.event,e=e===void 0?16:xu(e.type)),e)}function rn(e,t,r,i){if(50<zl)throw zl=0,Zs=null,Error(o(185));al(e,r,i),((xe&2)===0||e!==Qe)&&(e===Qe&&((xe&2)===0&&(Yi|=r),Ve===4&&Qn(e,Ze)),wt(e,i),r===1&&xe===0&&(t.mode&1)===0&&(Vr=ze()+500,Ni&&Un()))}function wt(e,t){var r=e.callbackNode;Kp(e,t);var i=oi(e,e===Qe?Ze:0);if(i===0)r!==null&&iu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&iu(r),t===1)e.tag===0?Yh(xd.bind(null,e)):nc(xd.bind(null,e)),Bh(function(){(xe&6)===0&&Un()}),r=null;else{switch(uu(i)){case 1:r=Ro;break;case 4:r=ou;break;case 16:r=ni;break;case 536870912:r=su;break;default:r=ni}r=Nd(r,gd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function gd(e,t){if(Xi=-1,qi=0,(xe&6)!==0)throw Error(o(327));var r=e.callbackNode;if(Wr()&&e.callbackNode!==r)return null;var i=oi(e,e===Qe?Ze:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=Zi(e,i);else{t=i;var s=xe;xe|=2;var c=yd();(Qe!==e||Ze!==t)&&(Cn=null,Vr=ze()+500,gr(e,t));do try{pm();break}catch(w){vd(e,w)}while(!0);gs(),Wi.current=c,xe=s,He!==null?t=0:(Qe=null,Ze=0,t=Ve)}if(t!==0){if(t===2&&(s=Lo(e),s!==0&&(i=s,t=Js(e,s))),t===1)throw r=Fl,gr(e,0),Qn(e,i),wt(e,ze()),r;if(t===6)Qn(e,i);else{if(s=e.current.alternate,(i&30)===0&&!dm(s)&&(t=Zi(e,i),t===2&&(c=Lo(e),c!==0&&(i=c,t=Js(e,c))),t===1))throw r=Fl,gr(e,0),Qn(e,i),wt(e,ze()),r;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:xr(e,yt,Cn);break;case 3:if(Qn(e,i),(i&130023424)===i&&(t=Xs+500-ze(),10<t)){if(oi(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){pt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=is(xr.bind(null,e,yt,Cn),t);break}xr(e,yt,Cn);break;case 4:if(Qn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var g=31-qt(i);c=1<<g,g=t[g],g>s&&(s=g),i&=~c}if(i=s,i=ze()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*cm(i/1960))-i,10<i){e.timeoutHandle=is(xr.bind(null,e,yt,Cn),i);break}xr(e,yt,Cn);break;case 5:xr(e,yt,Cn);break;default:throw Error(o(329))}}}return wt(e,ze()),e.callbackNode===r?gd.bind(null,e):null}function Js(e,t){var r=Pl;return e.current.memoizedState.isDehydrated&&(gr(e,t).flags|=256),e=Zi(e,t),e!==2&&(t=yt,yt=r,t!==null&&ea(t)),e}function ea(e){yt===null?yt=e:yt.push.apply(yt,e)}function dm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var s=r[i],c=s.getSnapshot;s=s.value;try{if(!Zt(c(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t){for(t&=~Gs,t&=~Yi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-qt(t),i=1<<r;e[r]=-1,t&=~i}}function xd(e){if((xe&6)!==0)throw Error(o(327));Wr();var t=oi(e,0);if((t&1)===0)return wt(e,ze()),null;var r=Zi(e,t);if(e.tag!==0&&r===2){var i=Lo(e);i!==0&&(t=i,r=Js(e,i))}if(r===1)throw r=Fl,gr(e,0),Qn(e,t),wt(e,ze()),r;if(r===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xr(e,yt,Cn),wt(e,ze()),null}function ta(e,t){var r=xe;xe|=1;try{return e(t)}finally{xe=r,xe===0&&(Vr=ze()+500,Ni&&Un())}}function mr(e){Yn!==null&&Yn.tag===0&&(xe&6)===0&&Wr();var t=xe;xe|=1;var r=Ut.transition,i=be;try{if(Ut.transition=null,be=1,e)return e()}finally{be=i,Ut.transition=r,xe=t,(xe&6)===0&&Un()}}function na(){Lt=$r.current,Ee($r)}function gr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Uh(r)),He!==null)for(r=He.return;r!==null;){var i=r;switch(ds(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Si();break;case 3:Hr(),Ee(gt),Ee(ot),js();break;case 5:ks(i);break;case 4:Hr();break;case 13:Ee(Oe);break;case 19:Ee(Oe);break;case 10:xs(i.type._context);break;case 22:case 23:na()}r=r.return}if(Qe=e,He=e=Gn(e.current,null),Ze=Lt=t,Ve=0,Fl=null,Gs=Yi=hr=0,yt=Pl=null,dr!==null){for(t=0;t<dr.length;t++)if(r=dr[t],i=r.interleaved,i!==null){r.interleaved=null;var s=i.next,c=r.pending;if(c!==null){var g=c.next;c.next=s,i.next=g}r.pending=i}dr=null}return e}function vd(e,t){do{var r=He;try{if(gs(),Mi.current=Ii,Fi){for(var i=Te.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Fi=!1}if(pr=0,Ke=$e=Te=null,Dl=!1,Rl=0,Qs.current=null,r===null||r.return===null){Ve=1,Fl=t,He=null;break}e:{var c=e,g=r.return,w=r,C=t;if(t=Ze,w.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var O=C,H=w,U=H.tag;if((H.mode&1)===0&&(U===0||U===11||U===15)){var I=H.alternate;I?(H.updateQueue=I.updateQueue,H.memoizedState=I.memoizedState,H.lanes=I.lanes):(H.updateQueue=null,H.memoizedState=null)}var Q=$c(g);if(Q!==null){Q.flags&=-257,Vc(Q,g,w,c,t),Q.mode&1&&Bc(c,O,t),t=Q,C=O;var X=t.updateQueue;if(X===null){var q=new Set;q.add(C),t.updateQueue=q}else X.add(C);break e}else{if((t&1)===0){Bc(c,O,t),ra();break e}C=Error(o(426))}}else if(Ae&&w.mode&1){var Ie=$c(g);if(Ie!==null){(Ie.flags&65536)===0&&(Ie.flags|=256),Vc(Ie,g,w,c,t),hs(Ur(C,w));break e}}c=C=Ur(C,w),Ve!==4&&(Ve=2),Pl===null?Pl=[c]:Pl.push(c),c=g;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var R=Hc(c,C,t);pc(c,R);break e;case 1:w=C;var E=c.type,L=c.stateNode;if((c.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Wn===null||!Wn.has(L)))){c.flags|=65536,t&=-t,c.lanes|=t;var B=Uc(c,w,t);pc(c,B);break e}}c=c.return}while(c!==null)}bd(r)}catch(J){t=J,He===r&&r!==null&&(He=r=r.return);continue}break}while(!0)}function yd(){var e=Wi.current;return Wi.current=Ii,e===null?Ii:e}function ra(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Qe===null||(hr&268435455)===0&&(Yi&268435455)===0||Qn(Qe,Ze)}function Zi(e,t){var r=xe;xe|=2;var i=yd();(Qe!==e||Ze!==t)&&(Cn=null,gr(e,t));do try{fm();break}catch(s){vd(e,s)}while(!0);if(gs(),xe=r,Wi.current=i,He!==null)throw Error(o(261));return Qe=null,Ze=0,Ve}function fm(){for(;He!==null;)wd(He)}function pm(){for(;He!==null&&!zp();)wd(He)}function wd(e){var t=jd(e.alternate,e,Lt);e.memoizedProps=e.pendingProps,t===null?bd(e):He=t,Qs.current=null}function bd(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=im(r,t,Lt),r!==null){He=r;return}}else{if(r=om(r,t),r!==null){r.flags&=32767,He=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,He=null;return}}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Ve===0&&(Ve=5)}function xr(e,t,r){var i=be,s=Ut.transition;try{Ut.transition=null,be=1,hm(e,t,r,i)}finally{Ut.transition=s,be=i}return null}function hm(e,t,r,i){do Wr();while(Yn!==null);if((xe&6)!==0)throw Error(o(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var c=r.lanes|r.childLanes;if(Qp(e,c),e===Qe&&(He=Qe=null,Ze=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Qi||(Qi=!0,Nd(ni,function(){return Wr(),null})),c=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||c){c=Ut.transition,Ut.transition=null;var g=be;be=1;var w=xe;xe|=4,Qs.current=null,am(e,r),dd(r,e),Th(rs),ui=!!ns,rs=ns=null,e.current=r,um(r),Ip(),xe=w,be=g,Ut.transition=c}else e.current=r;if(Qi&&(Qi=!1,Yn=e,Gi=s),c=e.pendingLanes,c===0&&(Wn=null),Bp(r.stateNode),wt(e,ze()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],i(s.value,{componentStack:s.stack,digest:s.digest});if(Ki)throw Ki=!1,e=qs,qs=null,e;return(Gi&1)!==0&&e.tag!==0&&Wr(),c=e.pendingLanes,(c&1)!==0?e===Zs?zl++:(zl=0,Zs=e):zl=0,Un(),null}function Wr(){if(Yn!==null){var e=uu(Gi),t=Ut.transition,r=be;try{if(Ut.transition=null,be=16>e?16:e,Yn===null)var i=!1;else{if(e=Yn,Yn=null,Gi=0,(xe&6)!==0)throw Error(o(331));var s=xe;for(xe|=4,G=e.current;G!==null;){var c=G,g=c.child;if((G.flags&16)!==0){var w=c.deletions;if(w!==null){for(var C=0;C<w.length;C++){var O=w[C];for(G=O;G!==null;){var H=G;switch(H.tag){case 0:case 11:case 15:Ml(8,H,c)}var U=H.child;if(U!==null)U.return=H,G=U;else for(;G!==null;){H=G;var I=H.sibling,Q=H.return;if(od(H),H===O){G=null;break}if(I!==null){I.return=Q,G=I;break}G=Q}}}var X=c.alternate;if(X!==null){var q=X.child;if(q!==null){X.child=null;do{var Ie=q.sibling;q.sibling=null,q=Ie}while(q!==null)}}G=c}}if((c.subtreeFlags&2064)!==0&&g!==null)g.return=c,G=g;else e:for(;G!==null;){if(c=G,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:Ml(9,c,c.return)}var R=c.sibling;if(R!==null){R.return=c.return,G=R;break e}G=c.return}}var E=e.current;for(G=E;G!==null;){g=G;var L=g.child;if((g.subtreeFlags&2064)!==0&&L!==null)L.return=g,G=L;else e:for(g=E;G!==null;){if(w=G,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:Vi(9,w)}}catch(J){Fe(w,w.return,J)}if(w===g){G=null;break e}var B=w.sibling;if(B!==null){B.return=w.return,G=B;break e}G=w.return}}if(xe=s,Un(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(ri,e)}catch{}i=!0}return i}finally{be=r,Ut.transition=t}}return!1}function kd(e,t,r){t=Ur(r,t),t=Hc(e,t,1),e=$n(e,t,1),t=pt(),e!==null&&(al(e,1,t),wt(e,t))}function Fe(e,t,r){if(e.tag===3)kd(e,e,r);else for(;t!==null;){if(t.tag===3){kd(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Wn===null||!Wn.has(i))){e=Ur(r,e),e=Uc(t,e,1),t=$n(t,e,1),e=pt(),t!==null&&(al(t,1,e),wt(t,e));break}}t=t.return}}function mm(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=pt(),e.pingedLanes|=e.suspendedLanes&r,Qe===e&&(Ze&r)===r&&(Ve===4||Ve===3&&(Ze&130023424)===Ze&&500>ze()-Xs?gr(e,0):Gs|=r),wt(e,t)}function Sd(e,t){t===0&&((e.mode&1)===0?t=1:(t=ii,ii<<=1,(ii&130023424)===0&&(ii=4194304)));var r=pt();e=Sn(e,t),e!==null&&(al(e,t,r),wt(e,r))}function gm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Sd(e,r)}function xm(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}i!==null&&i.delete(t),Sd(e,r)}var jd;jd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||gt.current)vt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return vt=!1,lm(e,t,r);vt=(e.flags&131072)!==0}else vt=!1,Ae&&(t.flags&1048576)!==0&&rc(t,Ei,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Bi(e,t),e=t.pendingProps;var s=Or(t,ot.current);Ir(t,r),s=Es(null,t,i,e,s,r);var c=_s();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xt(i)?(c=!0,ji(t)):c=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ws(t),s.updater=Hi,t.stateNode=s,s._reactInternals=t,Ts(t,i,e,r),t=zs(null,t,i,!0,c,r)):(t.tag=0,Ae&&c&&cs(t),ft(null,t,s,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Bi(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=ym(i),e=en(i,e),s){case 0:t=Ps(null,t,i,e,r);break e;case 1:t=Xc(null,t,i,e,r);break e;case 11:t=Wc(null,t,i,e,r);break e;case 14:t=Yc(null,t,i,en(i.type,e),r);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:en(i,s),Ps(e,t,i,s,r);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:en(i,s),Xc(e,t,i,s,r);case 3:e:{if(qc(t),e===null)throw Error(o(387));i=t.pendingProps,c=t.memoizedState,s=c.element,fc(e,t),Oi(t,i,null,r);var g=t.memoizedState;if(i=g.element,c.isDehydrated)if(c={element:i,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){s=Ur(Error(o(423)),t),t=Zc(e,t,i,r,s);break e}else if(i!==s){s=Ur(Error(o(424)),t),t=Zc(e,t,i,r,s);break e}else for(Rt=zn(t.stateNode.containerInfo.firstChild),Dt=t,Ae=!0,Jt=null,r=cc(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fr(),i===s){t=Nn(e,t,r);break e}ft(e,t,i,r)}t=t.child}return t;case 5:return mc(t),e===null&&ps(t),i=t.type,s=t.pendingProps,c=e!==null?e.memoizedProps:null,g=s.children,ls(i,s)?g=null:c!==null&&ls(i,c)&&(t.flags|=32),Gc(e,t),ft(e,t,g,r),t.child;case 6:return e===null&&ps(t),null;case 13:return Jc(e,t,r);case 4:return bs(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Pr(t,null,i,r):ft(e,t,i,r),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:en(i,s),Wc(e,t,i,s,r);case 7:return ft(e,t,t.pendingProps,r),t.child;case 8:return ft(e,t,t.pendingProps.children,r),t.child;case 12:return ft(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,c=t.memoizedProps,g=s.value,Ne(Di,i._currentValue),i._currentValue=g,c!==null)if(Zt(c.value,g)){if(c.children===s.children&&!gt.current){t=Nn(e,t,r);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var w=c.dependencies;if(w!==null){g=c.child;for(var C=w.firstContext;C!==null;){if(C.context===i){if(c.tag===1){C=jn(-1,r&-r),C.tag=2;var O=c.updateQueue;if(O!==null){O=O.shared;var H=O.pending;H===null?C.next=C:(C.next=H.next,H.next=C),O.pending=C}}c.lanes|=r,C=c.alternate,C!==null&&(C.lanes|=r),vs(c.return,r,t),w.lanes|=r;break}C=C.next}}else if(c.tag===10)g=c.type===t.type?null:c.child;else if(c.tag===18){if(g=c.return,g===null)throw Error(o(341));g.lanes|=r,w=g.alternate,w!==null&&(w.lanes|=r),vs(g,r,t),g=c.sibling}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}ft(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,Ir(t,r),s=It(s),i=i(s),t.flags|=1,ft(e,t,i,r),t.child;case 14:return i=t.type,s=en(i,t.pendingProps),s=en(i.type,s),Yc(e,t,i,s,r);case 15:return Kc(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:en(i,s),Bi(e,t),t.tag=1,xt(i)?(e=!0,ji(t)):e=!1,Ir(t,r),zc(t,i,s),Ts(t,i,s,r),zs(null,t,i,!0,e,r);case 19:return td(e,t,r);case 22:return Qc(e,t,r)}throw Error(o(156,t.tag))};function Nd(e,t){return lu(e,t)}function vm(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,t,r,i){return new vm(e,t,r,i)}function la(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ym(e){if(typeof e=="function")return la(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ge)return 11;if(e===_e)return 14}return 2}function Gn(e,t){var r=e.alternate;return r===null?(r=Bt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ji(e,t,r,i,s,c){var g=2;if(i=e,typeof e=="function")la(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case M:return vr(r.children,s,c,t);case W:g=8,s|=8;break;case Z:return e=Bt(12,r,t,s|2),e.elementType=Z,e.lanes=c,e;case he:return e=Bt(13,r,t,s),e.elementType=he,e.lanes=c,e;case Se:return e=Bt(19,r,t,s),e.elementType=Se,e.lanes=c,e;case me:return eo(r,s,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ie:g=10;break e;case pe:g=9;break e;case ge:g=11;break e;case _e:g=14;break e;case Pe:g=16,i=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Bt(g,r,t,s),t.elementType=e,t.type=i,t.lanes=c,t}function vr(e,t,r,i){return e=Bt(7,e,i,t),e.lanes=r,e}function eo(e,t,r,i){return e=Bt(22,e,i,t),e.elementType=me,e.lanes=r,e.stateNode={isHidden:!1},e}function ia(e,t,r){return e=Bt(6,e,null,t),e.lanes=r,e}function oa(e,t,r){return t=Bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wm(e,t,r,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oo(0),this.expirationTimes=Oo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oo(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sa(e,t,r,i,s,c,g,w,C){return e=new wm(e,t,r,w,C),t===1?(t=1,c===!0&&(t|=8)):t=0,c=Bt(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ws(c),e}function bm(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function Cd(e){if(!e)return Hn;e=e._reactInternals;e:{if(or(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var r=e.type;if(xt(r))return ec(e,r,t)}return t}function Ed(e,t,r,i,s,c,g,w,C){return e=sa(r,i,!0,e,s,c,g,w,C),e.context=Cd(null),r=e.current,i=pt(),s=Kn(r),c=jn(i,s),c.callback=t??null,$n(r,c,s),e.current.lanes=s,al(e,s,i),wt(e,i),e}function to(e,t,r,i){var s=t.current,c=pt(),g=Kn(s);return r=Cd(r),t.context===null?t.context=r:t.pendingContext=r,t=jn(c,g),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=$n(s,t,g),e!==null&&(rn(e,s,g,c),Li(e,s,g)),g}function no(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function _d(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function aa(e,t){_d(e,t),(e=e.alternate)&&_d(e,t)}function km(){return null}var Ad=typeof reportError=="function"?reportError:function(e){console.error(e)};function ua(e){this._internalRoot=e}ro.prototype.render=ua.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));to(e,t,null,null)},ro.prototype.unmount=ua.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mr(function(){to(null,e,null,null)}),t[yn]=null}};function ro(e){this._internalRoot=e}ro.prototype.unstable_scheduleHydration=function(e){if(e){var t=fu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mn.length&&t!==0&&t<Mn[r].priority;r++);Mn.splice(r,0,e),r===0&&mu(e)}};function ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dd(){}function Sm(e,t,r,i,s){if(s){if(typeof i=="function"){var c=i;i=function(){var O=no(g);c.call(O)}}var g=Ed(t,i,e,0,null,!1,!1,"",Dd);return e._reactRootContainer=g,e[yn]=g.current,kl(e.nodeType===8?e.parentNode:e),mr(),g}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var w=i;i=function(){var O=no(C);w.call(O)}}var C=sa(e,0,!1,null,null,!1,!1,"",Dd);return e._reactRootContainer=C,e[yn]=C.current,kl(e.nodeType===8?e.parentNode:e),mr(function(){to(t,C,r,i)}),C}function io(e,t,r,i,s){var c=r._reactRootContainer;if(c){var g=c;if(typeof s=="function"){var w=s;s=function(){var C=no(g);w.call(C)}}to(t,g,e,s)}else g=Sm(r,t,e,s,i);return no(g)}cu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sl(t.pendingLanes);r!==0&&(To(t,r|1),wt(t,ze()),(xe&6)===0&&(Vr=ze()+500,Un()))}break;case 13:mr(function(){var i=Sn(e,1);if(i!==null){var s=pt();rn(i,e,1,s)}}),aa(e,1)}},Mo=function(e){if(e.tag===13){var t=Sn(e,134217728);if(t!==null){var r=pt();rn(t,e,134217728,r)}aa(e,134217728)}},du=function(e){if(e.tag===13){var t=Kn(e),r=Sn(e,t);if(r!==null){var i=pt();rn(r,e,t,i)}aa(e,t)}},fu=function(){return be},pu=function(e,t){var r=be;try{return be=e,t()}finally{be=r}},il=function(e,t,r){switch(t){case"input":if(_n(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var s=ki(i);if(!s)throw Error(o(90));Tt(i),_n(i,s)}}}break;case"textarea":An(e,r);break;case"select":t=r.value,t!=null&&Ct(e,!!r.multiple,t,!1)}},dt=ta,lt=mr;var jm={usingClientEntryPoint:!1,Events:[Nl,Rr,ki,rt,Qt,ta]},Il={findFiberByHostInstance:sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nm={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nu(e),e===null?null:e.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance||km,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oo.isDisabled&&oo.supportsFiber)try{ri=oo.inject(Nm),un=oo}catch{}}return bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jm,bt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ca(t))throw Error(o(200));return bm(e,t,null,r)},bt.createRoot=function(e,t){if(!ca(e))throw Error(o(299));var r=!1,i="",s=Ad;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sa(e,1,!1,null,null,r,!1,i,s),e[yn]=t.current,kl(e.nodeType===8?e.parentNode:e),new ua(t)},bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=nu(t),e=e===null?null:e.stateNode,e},bt.flushSync=function(e){return mr(e)},bt.hydrate=function(e,t,r){if(!lo(t))throw Error(o(200));return io(null,e,t,!0,r)},bt.hydrateRoot=function(e,t,r){if(!ca(e))throw Error(o(405));var i=r!=null&&r.hydratedSources||null,s=!1,c="",g=Ad;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(g=r.onRecoverableError)),t=Ed(t,null,e,1,r??null,s,!1,c,g),e[yn]=t.current,kl(e),i)for(e=0;e<i.length;e++)r=i[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ro(t)},bt.render=function(e,t,r){if(!lo(t))throw Error(o(200));return io(null,e,t,!1,r)},bt.unmountComponentAtNode=function(e){if(!lo(e))throw Error(o(40));return e._reactRootContainer?(mr(function(){io(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1},bt.unstable_batchedUpdates=ta,bt.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!lo(r))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return io(e,t,r,!1,i)},bt.version="18.3.1-next-f1338f8080-20240426",bt}var zd;function wf(){if(zd)return pa.exports;zd=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(l){console.error(l)}}return n(),pa.exports=Lm(),pa.exports}var Id;function Om(){if(Id)return so;Id=1;var n=wf();return so.createRoot=n.createRoot,so.hydrateRoot=n.hydrateRoot,so}var Tm=Om();const Mm=yf(Tm);var Fm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Pm=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),de=(n,l)=>{const o=N.forwardRef(({color:d="currentColor",size:u=24,strokeWidth:f=2,absoluteStrokeWidth:h,className:p="",children:m,...y},b)=>N.createElement("svg",{ref:b,...Fm,width:u,height:u,stroke:d,strokeWidth:h?Number(f)*24/Number(u):f,className:["lucide",`lucide-${Pm(n)}`,p].join(" "),...y},[...l.map(([v,k])=>N.createElement(v,k)),...Array.isArray(m)?m:[m]]));return o.displayName=`${n}`,o};const zm=de("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const ga=de("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Pa=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Im=de("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const Hd=de("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const uo=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Hm=de("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const co=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Um=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const bf=de("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const kf=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const jo=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const Bm=de("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);const No=de("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const $m=de("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);const Vm=de("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);const Wm=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const Ym=de("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const ja=de("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const fo=de("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const za=de("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const Km=de("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const Qm=de("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const Jn=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Gm=de("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);const Ia=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Sf=de("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Xm=de("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);const qm=de("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const Zm=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Jm=de("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const jf=de("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Ud=de("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);const Ot=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const e0=de("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);const ho=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const el=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),t0=new URLSearchParams(window.location.search),yr=window.location.pathname.includes("/api/hassio_ingress/")||t0.get("mode")==="ha",n0=yr?"./api":"/api";async function Ue(n,l={}){const o=`${n0}${n.startsWith("/")?n:"/"+n}`;return fetch(o,l)}const r0=({label:n,value:l,onChange:o,haEntities:d})=>{const u=`ha-entities-text-${Math.random().toString(36).substr(2,9)}`;return a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:n}),a.jsx("input",{type:"text",value:l||"",onChange:f=>o(f.target.value),list:d?u:void 0,className:"w-full border rounded p-1 text-sm"}),d&&a.jsx("datalist",{id:u,children:d.map(f=>a.jsx("option",{value:f.entity_id,children:f.friendly_name||f.entity_id},f.entity_id))})]})},l0=({label:n,value:l,onChange:o,type:d})=>{const[u,f]=N.useState([]),h=async()=>{try{const p=await Ue("/scripts");if(p.ok){const m=await p.json();f((m.scripts||[]).map(y=>y.id))}}catch(p){console.error("Failed to fetch scripts",p)}};return N.useEffect(()=>{h()},[d]),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:n}),a.jsxs("select",{value:l||"",onChange:p=>o(p.target.value),onFocus:h,className:"w-full border rounded p-1 text-sm bg-white",children:[a.jsx("option",{value:"",children:"Select script..."}),u.map(p=>a.jsx("option",{value:p,children:p},p))]})]})},Bd=({label:n,checked:l,onChange:o})=>a.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:l||!1,onChange:d=>o(d.target.checked),className:"rounded border-slate-300"}),a.jsx("label",{className:"text-sm text-slate-700",children:n})]}),Na=({label:n,values:l,onChange:o,suggestionType:d,allowedValues:u})=>{const[f,h]=N.useState([]),p=async()=>{if(u){h(u);return}if(d)try{const y=await Ue("/scripts");if(y.ok){const b=await y.json();h((b.scripts||[]).map(v=>v.id))}}catch(y){console.error("Failed to fetch scripts",y)}};N.useEffect(()=>{p()},[d,u]);const m=Array.isArray(l)?l:l?[l]:[];return a.jsxs("div",{className:"mb-2",children:[n&&a.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:n}),a.jsxs("div",{className:"space-y-1",children:[m.map((y,b)=>a.jsxs("div",{className:"flex gap-1",children:[d||u?a.jsxs("select",{value:y,onChange:v=>{const k=[...m];k[b]=v.target.value,o(k)},onFocus:p,className:"flex-1 border rounded p-1 text-sm bg-white",children:[a.jsx("option",{value:"",children:"Select..."}),f.map(v=>a.jsx("option",{value:v,children:v},v))]}):a.jsx("input",{type:"text",value:y,onChange:v=>{const k=[...m];k[b]=v.target.value,o(k)},className:"flex-1 border rounded p-1 text-sm"}),a.jsx("button",{onClick:()=>o(m.filter((v,k)=>k!==b)),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:a.jsx(Ot,{size:14})})]},b)),a.jsxs("button",{onClick:()=>o([...m,""]),className:"text-xs text-blue-600 hover:underline flex items-center gap-1",children:[a.jsx(Jn,{size:12})," Add Item"]})]})]})},Ha=({label:n,values:l,onChange:o,haEntities:d})=>{const u=Array.isArray(l)?l:l?[l]:[],f=`ha-entities-list-${Math.random().toString(36).substr(2,9)}`;return a.jsxs("div",{className:"mb-2",children:[n&&a.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:n}),a.jsxs("div",{className:"space-y-1",children:[u.map((h,p)=>a.jsxs("div",{className:"flex gap-1",children:[a.jsx("input",{type:"text",value:h,onChange:m=>{const y=[...u];y[p]=m.target.value,o(y)},list:f,className:"flex-1 border rounded p-1 text-sm"}),a.jsx("button",{onClick:()=>o(u.filter((m,y)=>y!==p)),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:a.jsx(Ot,{size:14})})]},p)),a.jsx("datalist",{id:f,children:d?.map(h=>a.jsx("option",{value:h.entity_id,children:h.friendly_name||h.entity_id},h.entity_id))}),a.jsxs("button",{onClick:()=>o([...u,""]),className:"text-xs text-blue-600 hover:underline flex items-center gap-1",children:[a.jsx(Jn,{size:12})," Add Entity"]})]})]})},Xr=({value:n,onChange:l,scriptOptions:o})=>{const[d,u]=N.useState(o||[]);N.useEffect(()=>{if(o){u(o);return}Ue("/scripts").then(m=>m.json()).then(m=>{const y=(m.scripts||[]).map(b=>b.id);o||u(y)}).catch(m=>console.error(m))},[o]);const f=typeof n=="string"?"leaf":n?.operator==="AND"?"and":n?.operator==="OR"?"or":n?.operator==="NOT"?"not":n?.and?"and":n?.or?"or":n?.not?"not":Array.isArray(n)?"or":"leaf",h=m=>{m==="leaf"?l(""):m==="and"?l({operator:"AND",conditions:[]}):m==="or"?l({operator:"OR",conditions:[]}):m==="not"&&l({operator:"NOT",conditions:""})},p=n?.conditions??(n?.and||n?.or||n?.not||(Array.isArray(n)?n:[]));return a.jsxs("div",{className:"border rounded p-2 bg-white mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs("select",{value:f,onChange:m=>h(m.target.value),className:"border rounded p-1 text-xs font-bold bg-slate-100",children:[a.jsx("option",{value:"leaf",children:"Condition"}),a.jsx("option",{value:"and",children:"AND"}),a.jsx("option",{value:"or",children:"OR"}),a.jsx("option",{value:"not",children:"NOT"})]}),f==="leaf"&&a.jsx("div",{className:"flex-1 flex gap-1",children:a.jsxs("select",{value:n,onChange:m=>l(m.target.value),className:"flex-1 border rounded p-1 text-xs",children:[a.jsx("option",{value:"",children:"Select script..."}),d.map(m=>a.jsx("option",{value:m,children:m},m))]})})]}),f==="and"&&a.jsxs("div",{className:"pl-4 border-l-2 border-blue-200 space-y-2",children:[(Array.isArray(p)?p:[]).map((m,y)=>a.jsxs("div",{className:"flex gap-2 items-start",children:[a.jsx("div",{className:"flex-1",children:a.jsx(Xr,{value:m,scriptOptions:d,onChange:b=>{const v=[...Array.isArray(p)?p:[]];v[y]=b,l({operator:"AND",conditions:v})}})}),a.jsx("button",{onClick:()=>{const b=(Array.isArray(p)?p:[]).filter((v,k)=>k!==y);l({operator:"AND",conditions:b})},className:"text-red-500 p-1",children:a.jsx(Ot,{size:14})})]},y)),a.jsxs("button",{onClick:()=>l({operator:"AND",conditions:[...Array.isArray(p)?p:[],""]}),className:"text-xs text-blue-600 flex items-center gap-1",children:[a.jsx(Jn,{size:12})," Add Condition"]})]}),f==="or"&&a.jsxs("div",{className:"pl-4 border-l-2 border-orange-200 space-y-2",children:[(Array.isArray(p)?p:[]).map((m,y)=>a.jsxs("div",{className:"flex gap-2 items-start",children:[a.jsx("div",{className:"flex-1",children:a.jsx(Xr,{value:m,scriptOptions:d,onChange:b=>{const v=[...Array.isArray(p)?p:[]];v[y]=b,l({operator:"OR",conditions:v})}})}),a.jsx("button",{onClick:()=>{const b=(Array.isArray(p)?p:[]).filter((v,k)=>k!==y);l({operator:"OR",conditions:b})},className:"text-red-500 p-1",children:a.jsx(Ot,{size:14})})]},y)),a.jsxs("button",{onClick:()=>l({operator:"OR",conditions:[...Array.isArray(p)?p:[],""]}),className:"text-xs text-blue-600 flex items-center gap-1",children:[a.jsx(Jn,{size:12})," Add Condition"]})]}),f==="not"&&a.jsx("div",{className:"pl-4 border-l-2 border-red-200",children:a.jsx(Xr,{value:p,scriptOptions:d,onChange:m=>l({operator:"NOT",conditions:m})})})]})},ao=({label:n,value:l,fields:o,onChange:d,dynamicEntities:u,haEntities:f})=>{const h=`ha-entities-obj-${Math.random().toString(36).substr(2,9)}`;return a.jsxs("div",{className:"mb-4",children:[n&&a.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:n}),a.jsx("div",{className:"border rounded p-2 bg-slate-50",children:a.jsx("div",{className:"grid gap-2",children:o.map(p=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] text-slate-500 uppercase",children:p.label}),p.type==="dynamic_entity_select"&&u?a.jsxs("select",{value:l?.[p.key]||"",onChange:m=>{const y={...l,[p.key]:m.target.value};d(y)},className:"w-full border rounded p-1 text-xs bg-white",children:[a.jsx("option",{value:"",children:"Select variable..."}),u.map(m=>a.jsx("option",{value:m,children:m},m))]}):p.type==="ha_entity"&&f?a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:l?.[p.key]||"",onChange:m=>{const y={...l,[p.key]:m.target.value};d(y)},list:h,className:"w-full border rounded p-1 text-xs"}),a.jsx("datalist",{id:h,children:f.map(m=>a.jsx("option",{value:m.entity_id,children:m.friendly_name||m.entity_id},m.entity_id))})]}):p.type==="ha_entity_list"?a.jsx(Ha,{label:"",values:l?.[p.key]||[],onChange:m=>{const y={...l,[p.key]:m};d(y)},haEntities:f}):p.type==="string_list"?a.jsx(Na,{label:"",values:l?.[p.key]||[],onChange:m=>{const y={...l,[p.key]:m};d(y)}}):p.type==="condition_logic"?a.jsx(Xr,{value:l?.[p.key]||"",onChange:m=>{const y={...l,[p.key]:m};d(y)}}):a.jsx("input",{type:"text",value:l?.[p.key]||"",onChange:m=>{const y={...l,[p.key]:m.target.value};d(y)},className:"w-full border rounded p-1 text-xs"})]},p.key))})})]})},i0=({entities:n,onChange:l})=>{const o=Array.isArray(n)?n:n?[n]:[];return a.jsx("div",{className:"mb-2",children:a.jsxs("div",{className:"space-y-1",children:[o.map((d,u)=>a.jsxs("div",{className:"flex gap-1",children:[a.jsx("input",{type:"text",value:d,onChange:f=>{const h=[...o];h[u]=f.target.value,l(h)},className:"flex-1 border rounded p-1 text-sm",placeholder:"Variable Name"}),a.jsx("button",{onClick:()=>l(o.filter((f,h)=>h!==u)),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:a.jsx(Ot,{size:14})})]},u)),a.jsxs("button",{onClick:()=>l([...o,""]),className:"text-xs text-blue-600 hover:underline flex items-center gap-1",children:[a.jsx(Jn,{size:12})," Add Variable"]})]})})},o0=({label:n,values:l,onChange:o,dynamicEntities:d,haEntities:u})=>{const f=Array.isArray(l)?l:l?[l]:[],h=`ha-entities-arr-${Math.random().toString(36).substr(2,9)}`;return a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:n}),a.jsxs("div",{className:"space-y-2",children:[f.map((p,m)=>{const b="dynamic_entity"in p?"dynamic":"static";return a.jsxs("div",{className:"border rounded p-2 bg-slate-50 relative",children:[a.jsx("button",{onClick:()=>o(f.filter((v,k)=>k!==m)),className:"absolute top-1 right-1 text-red-500 hover:bg-red-100 p-1 rounded",children:a.jsx(Ot,{size:12})}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{className:"block text-[10px] text-slate-500 uppercase",children:"Type"}),a.jsxs("select",{value:b,onChange:v=>{const k=v.target.value,x=[...f];if(k==="dynamic"){const{entity:j,...S}=p;x[m]={...S,dynamic_entity:""}}else{const{dynamic_entity:j,...S}=p;x[m]={...S,entity:""}}o(x)},className:"w-full border rounded p-1 text-xs bg-white",children:[a.jsx("option",{value:"static",children:"Static Entity"}),a.jsx("option",{value:"dynamic",children:"Dynamic Entity"})]})]}),a.jsxs("div",{className:"grid gap-2",children:[b==="dynamic"?a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] text-slate-500 uppercase",children:"Dynamic Entity (Var Name)"}),a.jsxs("select",{value:p.dynamic_entity||"",onChange:v=>{const k=[...f];k[m]={...p,dynamic_entity:v.target.value},o(k)},className:"w-full border rounded p-1 text-xs bg-white",children:[a.jsx("option",{value:"",children:"Select variable..."}),d.map(v=>a.jsx("option",{value:v,children:v},v))]})]}):a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] text-slate-500 uppercase",children:"Entity ID"}),a.jsx("input",{type:"text",value:p.entity||"",onChange:v=>{const k=[...f];k[m]={...p,entity:v.target.value},o(k)},list:h,className:"w-full border rounded p-1 text-xs"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] text-slate-500 uppercase",children:"Sensor (Optional)"}),a.jsx("input",{type:"text",value:p.sensor||"",onChange:v=>{const k=[...f];k[m]={...p,sensor:v.target.value},o(k)},list:h,className:"w-full border rounded p-1 text-xs"})]})]})]},m)}),a.jsxs("button",{onClick:()=>o([...f,{entity:""}]),className:"text-xs text-blue-600 hover:underline flex items-center gap-1",children:[a.jsx(Jn,{size:12})," Add Entity"]})]}),u&&a.jsx("datalist",{id:h,children:u.map(p=>a.jsx("option",{value:p.entity_id,children:p.friendly_name||p.entity_id},p.entity_id))})]})},s0=({label:n,values:l,fields:o,onChange:d,haEntities:u})=>{const f=`ha-entities-obj-arr-${Math.random().toString(36).substr(2,9)}`,h=o.some(m=>m.key==="entity"),p=Array.isArray(l)?l:l?[l]:[];return a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:n}),a.jsxs("div",{className:"space-y-2",children:[p.map((m,y)=>{const b=h&&m.entity==="*";return a.jsxs("div",{className:"border rounded p-2 bg-slate-50 relative",children:[a.jsx("button",{onClick:()=>d(p.filter((v,k)=>k!==y)),className:"absolute top-1 right-1 text-red-500 hover:bg-red-100 p-1 rounded",children:a.jsx(Ot,{size:12})}),h&&a.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:b,onChange:v=>{const k=[...p];v.target.checked?k[y]={...m,entity:"*"}:k[y]={...m,entity:""},d(k)},className:"rounded border-slate-300"}),a.jsx("label",{className:"text-[10px] text-slate-500 uppercase",children:"Use 'All' Option"})]}),a.jsx("div",{className:"grid gap-2",children:o.map(v=>b&&v.key==="entity"?null:a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] text-slate-500 uppercase",children:v.label}),v.type==="ha_entity_list"?a.jsx(Ha,{label:"",values:m[v.key]||[],onChange:k=>{const x=[...p];x[y]={...m,[v.key]:k},d(x)},haEntities:u}):a.jsx("input",{type:"text",value:m[v.key]||"",onChange:k=>{const x=[...p];x[y]={...m,[v.key]:k.target.value},d(x)},list:v.type==="ha_entity"?f:void 0,className:"w-full border rounded p-1 text-xs"})]},v.key))})]},y)}),a.jsxs("button",{onClick:()=>d([...p,{}]),className:"text-xs text-blue-600 hover:underline flex items-center gap-1",children:[a.jsx(Jn,{size:12})," Add Item"]})]}),u&&a.jsx("datalist",{id:f,children:u.map(m=>a.jsx("option",{value:m.entity_id,children:m.friendly_name||m.entity_id},m.entity_id))})]})},a0=({value:n,onChange:l,icons:o,onFocus:d})=>{const[u,f]=N.useState(!1),[h,p]=N.useState(""),m=N.useRef(null),y=N.useRef(null);N.useEffect(()=>{const j=S=>{m.current&&!m.current.contains(S.target)&&f(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]),N.useEffect(()=>{u&&y.current&&y.current.focus()},[u]);const b=o.filter(j=>j.label.toLowerCase().includes(h.toLowerCase())),v=j=>{let S=j;S.startsWith('"')&&S.endsWith('"')&&(S=S.slice(1,-1));const D=o.find(z=>z.value===S);if(D&&D.char)return D.char;if(S.startsWith("\\U"))try{const z=S.substring(2);return String.fromCodePoint(parseInt(z,16))}catch{return S}return S},k=o.find(j=>j.value===n),x=k?k.label:n||"Select icon...";return a.jsxs("div",{className:"relative",ref:m,children:[a.jsxs("div",{className:"flex gap-2 items-center border rounded p-1 bg-white cursor-pointer hover:border-blue-400",onClick:()=>{f(!u),!u&&d&&d()},children:[a.jsx("div",{className:"w-6 h-6 flex-shrink-0 flex items-center justify-center bg-slate-100 rounded text-lg",style:{fontFamily:'"Material Symbols Outlined"'},children:v(n)}),a.jsx("span",{className:"text-xs flex-1 truncate text-slate-700",children:x})]}),u&&a.jsxs("div",{className:"absolute z-50 top-full left-0 right-0 mt-1 bg-white border rounded shadow-lg p-2 w-64",children:[a.jsx("input",{ref:y,type:"text",className:"w-full border rounded p-1 text-xs mb-2",placeholder:"Search icons...",value:h,onChange:j=>p(j.target.value),onClick:j=>j.stopPropagation()}),a.jsx("div",{className:"grid grid-cols-5 gap-1 max-h-48 overflow-y-auto",children:b.map((j,S)=>a.jsx("button",{className:"flex flex-col items-center justify-center p-1 hover:bg-blue-50 rounded aspect-square",onClick:()=>{l(j.value),f(!1)},title:j.label,children:a.jsx("span",{className:"text-xl",style:{fontFamily:'"Material Symbols Outlined"'},children:j.char||j.value})},S))}),b.length===0&&a.jsx("div",{className:"p-2 text-center text-xs text-slate-400",children:"No icons found"})]})]})},u0=({value:n,onChange:l,colors:o,onFocus:d})=>{const[u,f]=N.useState(!1),h=N.useRef(null);N.useEffect(()=>{const m=y=>{h.current&&!h.current.contains(y.target)&&f(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const p=o.find(m=>m.id===n);return a.jsxs("div",{className:"relative",ref:h,children:[a.jsxs("div",{className:"flex gap-2 items-center border rounded p-1 bg-white cursor-pointer hover:border-blue-400",onClick:()=>{f(!u),!u&&d&&d()},children:[a.jsx("div",{className:"w-4 h-4 rounded border border-slate-200 shadow-sm",style:{backgroundColor:p?p.value:"#fff"}}),a.jsx("span",{className:"text-xs flex-1",children:n||"Select color..."})]}),u&&a.jsx("div",{className:"absolute z-50 top-full left-0 right-0 mt-1 max-h-48 overflow-y-auto bg-white border rounded shadow-lg",children:o.map(m=>a.jsxs("div",{className:"flex items-center gap-2 p-1 hover:bg-blue-50 cursor-pointer",onClick:()=>{l(m.id),f(!1)},children:[a.jsx("div",{className:"w-4 h-4 rounded border border-slate-200",style:{backgroundColor:m.value}}),a.jsx("span",{className:"text-xs",children:m.id})]},m.id))})]})},c0=({value:n,onChange:l,tileType:o})=>{const[d,u]=N.useState([]),[f,h]=N.useState([]),[p,m]=N.useState([]),[y,b]=N.useState([]),v=Array.isArray(n)?n:n?[n]:[],k=async()=>{try{const x=await Ue("/scripts");if(x.ok){const j=await x.json();u(j.scripts||[]),j.colors&&h(j.colors),j.fonts&&m(j.fonts),j.icons&&b(j.icons)}}catch(x){console.error(x)}};return N.useEffect(()=>{k()},[]),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Display Scripts"}),a.jsxs("div",{className:"space-y-2",children:[v.map((x,j)=>{const S=typeof x=="string"?x:Object.keys(x)[0],D=typeof x=="string"?{}:x[S],z=d.find(A=>A.id===S);return a.jsxs("div",{className:"border rounded p-2 bg-slate-50 relative",children:[a.jsx("button",{onClick:()=>l(v.filter((A,P)=>P!==j)),className:"absolute top-1 right-1 text-red-500 hover:bg-red-100 p-1 rounded",children:a.jsx(Ot,{size:12})}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{className:"block text-[10px] text-slate-500 uppercase",children:"Script"}),a.jsxs("select",{value:S,onChange:A=>{const P=A.target.value,$=[...v];$[j]=P,l($)},onFocus:k,className:"w-full border rounded p-1 text-sm bg-white",children:[a.jsx("option",{value:"",children:"Select script..."}),d.map(A=>a.jsx("option",{value:A.id,children:A.id},A.id))]})]}),z&&z.params&&z.params.length>0&&a.jsx("div",{className:"pl-2 border-l-2 border-slate-200 space-y-1",children:z.params.map(A=>{if(A.name==="name"&&A.type==="string"||o==="toggle_entity"&&A.name==="is_on")return null;let P=[];return A.name==="icon"?a.jsxs("div",{children:[a.jsxs("label",{className:"block text-[10px] text-slate-500 uppercase",children:[A.name," ",a.jsxs("span",{className:"text-slate-300",children:["(",A.type,")"]})]}),a.jsx(a0,{value:D[A.name]||"",onChange:$=>{const V={...D,[A.name]:$},T=[...n];T[j]={[S]:V},l(T)},icons:y,onFocus:k})]},A.name):A.name==="color"?a.jsxs("div",{children:[a.jsxs("label",{className:"block text-[10px] text-slate-500 uppercase",children:[A.name," ",a.jsxs("span",{className:"text-slate-300",children:["(",A.type,")"]})]}),a.jsx(u0,{value:D[A.name]||"",onChange:$=>{const V={...D,[A.name]:$},T=[...v];T[j]={[S]:V},l(T)},colors:f,onFocus:k})]},A.name):(A.name==="size"&&(P=p.map($=>({value:$}))),P.length>0?a.jsxs("div",{children:[a.jsxs("label",{className:"block text-[10px] text-slate-500 uppercase",children:[A.name," ",a.jsxs("span",{className:"text-slate-300",children:["(",A.type,")"]})]}),a.jsxs("select",{value:D[A.name]||"",onChange:$=>{const V={...D,[A.name]:$.target.value},T=[...v];T[j]={[S]:V},l(T)},onFocus:k,className:"w-full border rounded p-1 text-xs bg-white",children:[a.jsxs("option",{value:"",children:["Select ",A.name,"..."]}),P.map(($,V)=>a.jsx("option",{value:$.value,children:$.label||$.value},V))]})]},A.name):a.jsxs("div",{children:[a.jsxs("label",{className:"block text-[10px] text-slate-500 uppercase",children:[A.name," ",a.jsxs("span",{className:"text-slate-300",children:["(",A.type,")"]})]}),a.jsx("input",{type:"text",value:D[A.name]||"",onChange:$=>{const V={...D,[A.name]:$.target.value},T=[...v];T[j]={[S]:V},l(T)},className:"w-full border rounded p-1 text-xs"})]},A.name))})})]},j)}),a.jsxs("button",{onClick:()=>l([...v,""]),className:"text-xs text-blue-600 hover:underline flex items-center gap-1",children:[a.jsx(Jn,{size:12})," Add Script"]})]})]})},d0=({selectedTile:n,onUpdate:l,onDelete:o,config:d,schema:u,activePage:f,onUpdatePage:h,haEntities:p})=>{const[m,y]=N.useState("page"),b=d.dynamic_entities||[],v=n?u?.types?.find(x=>x.type===n.type):null;N.useEffect(()=>{n&&y("tile")},[n?.id]);const k=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100",children:[a.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-3 tracking-wider",children:"Grid Dimensions"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-600 mb-1 font-medium",children:"Rows"}),a.jsx("input",{type:"number",value:f.rows,onChange:x=>h({...f,rows:Math.max(1,parseInt(x.target.value)||1)}),className:"w-full border-2 border-slate-200 rounded-lg p-2 text-sm focus:border-blue-500 outline-none transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-600 mb-1 font-medium",children:"Columns"}),a.jsx("input",{type:"number",value:f.cols,onChange:x=>h({...f,cols:Math.max(1,parseInt(x.target.value)||1)}),className:"w-full border-2 border-slate-200 rounded-lg p-2 text-sm focus:border-blue-500 outline-none transition-colors"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 tracking-wider",children:"Page Flags"}),a.jsx(Na,{label:"Flags",values:f.flags||[],onChange:x=>h({...f,flags:x}),allowedValues:["BASE","TEMPORARY","FAST_REFRESH"]})]})]});return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex border-b bg-slate-50",children:[a.jsxs("button",{onClick:()=>y("page"),className:`flex-1 flex items-center justify-center gap-2 py-3 text-xs font-bold uppercase tracking-wider transition-all ${m==="page"?"bg-white text-blue-600 border-b-2 border-blue-600":"text-slate-400 hover:text-slate-600"}`,children:[a.jsx(Km,{size:16}),"Page"]}),a.jsxs("button",{onClick:()=>y("tile"),disabled:!n,className:`flex-1 flex items-center justify-center gap-2 py-3 text-xs font-bold uppercase tracking-wider transition-all ${m==="tile"?"bg-white text-blue-600 border-b-2 border-blue-600":"text-slate-400 hover:text-slate-600 disabled:opacity-30"}`,children:[a.jsx(qm,{size:16}),"Tile"]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:m==="page"?k():n?a.jsxs("div",{className:"space-y-4 pb-20",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[a.jsx("h2",{className:"font-bold text-lg text-slate-800",children:"Edit Tile"}),a.jsx("button",{onClick:()=>o(),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"Delete Tile",children:a.jsx(Ot,{size:18})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2 tracking-wider",children:"Common"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-xs text-slate-600 mb-1 font-medium",children:"Type"}),a.jsx("div",{className:"p-2 bg-slate-100 rounded-lg text-xs font-mono text-slate-600 border border-slate-200",children:n.type})]}),a.jsx("div",{className:"flex gap-3 col-span-2",children:u?.common?.filter(x=>x.name==="x"||x.name==="y").map(x=>a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-xs text-slate-600 mb-1 font-medium",children:x.label}),a.jsx("input",{type:"number",value:n[x.name],onChange:j=>l({...n,[x.name]:parseInt(j.target.value)}),className:"w-full border-2 border-slate-200 rounded-lg p-2 text-sm focus:border-blue-500 outline-none transition-colors"})]},x.name))})]}),a.jsx("div",{className:"space-y-4",children:u?.common?.filter(x=>x.name!=="x"&&x.name!=="y").map(x=>{if(x.type==="display_list")return a.jsx(c0,{value:Array.isArray(n[x.name])?n[x.name]:n[x.name]?[n[x.name]]:[],onChange:j=>l({...n,[x.name]:j}),tileType:n.type},x.name);if(x.type==="boolean")return a.jsx(Bd,{label:x.label,checked:n[x.name]||!1,onChange:j=>l({...n,[x.name]:j})},x.name);if(x.type==="condition_logic"){if(x.optional){const j=n[x.name]!==void 0;return a.jsxs("div",{className:"mb-4 border rounded p-2 bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("input",{type:"checkbox",checked:j,onChange:S=>{if(S.target.checked)l({...n,[x.name]:""});else{const D={...n};delete D[x.name],l(D)}},className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),a.jsx("label",{className:"text-xs font-medium text-slate-600 uppercase select-none cursor-pointer",onClick:()=>{if(!j)l({...n,[x.name]:""});else{const S={...n};delete S[x.name],l(S)}},children:x.label})]}),j&&a.jsx("div",{className:"pl-2",children:a.jsx(Xr,{value:n[x.name]||"",onChange:S=>l({...n,[x.name]:S})})})]},x.name)}return a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:x.label}),a.jsx(Xr,{value:n[x.name]||"",onChange:j=>l({...n,[x.name]:j})})]},x.name)}if(x.type==="object"){if(x.optional){const j=n[x.name]!==void 0;return a.jsxs("div",{className:"mb-4 border rounded p-2 bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("input",{type:"checkbox",checked:j,onChange:S=>{if(S.target.checked)l({...n,[x.name]:{}});else{const D={...n};delete D[x.name],l(D)}},className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),a.jsx("label",{className:"text-xs font-medium text-slate-600 uppercase select-none cursor-pointer",onClick:()=>{if(!j)l({...n,[x.name]:{}});else{const S={...n};delete S[x.name],l(S)}},children:x.label})]}),j&&a.jsx("div",{className:"pl-2",children:a.jsx(ao,{label:"",value:n[x.name]||{},fields:x.objectFields,onChange:S=>l({...n,[x.name]:S}),dynamicEntities:b,haEntities:p})})]},x.name)}return a.jsx(ao,{label:x.label,value:n[x.name]||{},fields:x.objectFields,onChange:j=>l({...n,[x.name]:j}),dynamicEntities:b,haEntities:p},x.name)}return null})}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("label",{className:"block text-xs font-medium text-slate-500 uppercase mb-2",children:"Specific Properties"}),v?.fields?.map(x=>{if(x.type==="string"||x.type==="ha_entity")return a.jsx(r0,{label:x.label,value:n[x.name]||"",onChange:j=>l({...n,[x.name]:j}),haEntities:x.type==="ha_entity"?p:void 0},x.name);if(x.type==="ha_entity_list")return a.jsx(Ha,{label:x.label,values:n[x.name]||[],onChange:j=>l({...n,[x.name]:j}),haEntities:p},x.name);if(x.type==="boolean")return a.jsx(Bd,{label:x.label,checked:n[x.name]||!1,onChange:j=>l({...n,[x.name]:j})},x.name);if(x.type==="script")return a.jsx(l0,{label:x.label,value:n[x.name]||"",onChange:j=>l({...n,[x.name]:j}),type:x.scriptType},x.name);if(x.type==="script_list")return a.jsx(Na,{label:x.label,values:n[x.name]||[],onChange:j=>l({...n,[x.name]:j}),suggestionType:x.scriptType},x.name);if(x.type==="entity_list")return a.jsx(o0,{label:x.label,values:n[x.name]||[],onChange:j=>l({...n,[x.name]:j}),dynamicEntities:b,haEntities:p},x.name);if(x.type==="object"){if(x.optional){const j=n[x.name]!==void 0;return a.jsxs("div",{className:"mb-4 border rounded p-2 bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("input",{type:"checkbox",checked:j,onChange:S=>{if(S.target.checked)l({...n,[x.name]:{}});else{const D={...n};delete D[x.name],l(D)}},className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),a.jsx("label",{className:"text-xs font-medium text-slate-600 uppercase select-none cursor-pointer",onClick:()=>{if(!j)l({...n,[x.name]:{}});else{const S={...n};delete S[x.name],l(S)}},children:x.label})]}),j&&a.jsx("div",{className:"pl-2",children:a.jsx(ao,{label:"",value:n[x.name]||{},fields:x.objectFields,onChange:S=>l({...n,[x.name]:S}),dynamicEntities:b,haEntities:p})})]},x.name)}return a.jsx(ao,{label:x.label,value:n[x.name]||{},fields:x.objectFields,onChange:j=>l({...n,[x.name]:j}),dynamicEntities:b,haEntities:p},x.name)}if(x.type==="object_list")return a.jsx(s0,{label:x.label,values:n[x.name]||[],fields:x.objectFields,onChange:j=>l({...n,[x.name]:j}),haEntities:p},x.name);if(x.type==="page_select"){if(x.optional){const j=n[x.name]!==void 0;return a.jsxs("div",{className:"mb-4 border rounded p-2 bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("input",{type:"checkbox",checked:j,onChange:S=>{if(S.target.checked)l({...n,[x.name]:d.pages[0].id});else{const D={...n};delete D[x.name],l(D)}},className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),a.jsx("label",{className:"text-xs font-medium text-slate-600 uppercase select-none cursor-pointer",onClick:()=>{if(!j)l({...n,[x.name]:d.pages[0].id});else{const S={...n};delete S[x.name],l(S)}},children:x.label})]}),j&&a.jsx("div",{className:"pl-2",children:a.jsxs("select",{value:n[x.name]||"",onChange:S=>l({...n,[x.name]:S.target.value}),className:"w-full border rounded p-1 text-sm bg-white",children:[a.jsx("option",{value:"",children:"Select page..."}),d.pages.map(S=>a.jsx("option",{value:S.id,children:S.id},S.id))]})})]},x.name)}return a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:x.label}),a.jsxs("select",{value:n[x.name]||"",onChange:j=>l({...n,[x.name]:j.target.value}),className:"w-full border rounded p-1 text-sm bg-white",children:[a.jsx("option",{value:"",children:"Select page..."}),d.pages.map(j=>a.jsx("option",{value:j.id,children:j.id},j.id))]})]},x.name)}return x.type==="dynamic_entity_select"?a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:x.label}),a.jsxs("select",{value:n[x.name]||"",onChange:j=>l({...n,[x.name]:j.target.value}),className:"w-full border rounded p-1 text-sm bg-white",children:[a.jsx("option",{value:"",children:"Select variable..."}),b.map(j=>a.jsx("option",{value:j,children:j},j))]})]},x.name):null})]})]})]}):null})]})},f0=({isOpen:n,onClose:l,onAdd:o,existingIds:d})=>{const[u,f]=N.useState(""),[h,p]=N.useState("");if(!n)return null;const m=y=>{y.preventDefault();const b=u.trim();if(!b){p("Page ID cannot be empty");return}if(!/^[a-zA-Z0-9_]+$/.test(b)){p("Page ID can only contain letters, numbers, and underscores");return}if(d.includes(b)){p("Page ID already exists");return}o(b),f(""),p(""),l()};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-80 p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"font-bold text-lg",children:"Add New Page"}),a.jsx("button",{onClick:l,className:"text-slate-400 hover:text-slate-600",children:a.jsx(el,{size:20})})]}),a.jsxs("form",{onSubmit:m,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Page ID"}),a.jsx("input",{type:"text",value:u,onChange:y=>{f(y.target.value),p("")},className:"w-full border rounded p-2 text-sm focus:ring-2 ring-blue-200 outline-none",placeholder:"e.g. settings_page",autoFocus:!0}),h&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:h})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:l,className:"px-3 py-1.5 text-sm text-slate-600 hover:bg-slate-100 rounded",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Add Page"})]})]})]})})},p0=({width:n,onSidebarClick:l,isDynamicEntitiesOpen:o,setIsDynamicEntitiesOpen:d,config:u,setConfig:f,isAddTileOpen:h,setIsAddTileOpen:p,schema:m,handleAddTile:y,isPagesOpen:b,setIsPagesOpen:v,activePageId:k,setActivePageId:x,handleDeletePage:j,selectedTileId:S,setSelectedTileId:D,handleDeleteTile:z,getTileLabel:A,setIsPageDialogOpen:P,fileInputRef:$,handleLoadProject:V,handleClearConfig:T})=>{const[M,W]=N.useState(!1);return a.jsxs("div",{className:"bg-white border-r flex flex-col flex-shrink-0",style:{width:n},onClick:l,children:[a.jsx("div",{className:"p-4 border-b bg-slate-50",children:a.jsxs("h1",{className:"font-bold text-xl text-blue-600 flex items-center gap-2",children:[a.jsx(ja,{size:24}),"CYD Config"]})}),a.jsxs("div",{className:"p-4 flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"mb-6 bg-slate-50 border rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-slate-100 transition-colors",onClick:()=>d(!o),children:[a.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:[o?a.jsx(uo,{size:14}):a.jsx(co,{size:14}),a.jsx(Im,{size:14})," Dynamic Entities"]}),a.jsx("span",{className:"text-[10px] font-bold text-slate-400 bg-slate-200 px-1.5 rounded-full",children:(u.dynamic_entities||[]).length})]}),o&&a.jsx("div",{className:"p-3 pt-0 border-t border-slate-100 mt-2",children:a.jsx("div",{className:"pt-2",children:a.jsx(i0,{entities:u.dynamic_entities||[],onChange:Z=>f({...u,dynamic_entities:Z})})})})]}),a.jsxs("div",{className:"mb-6 bg-slate-50 border rounded-lg overflow-hidden",children:[a.jsx("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-slate-100 transition-colors",onClick:()=>p(!h),children:a.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:[h?a.jsx(uo,{size:14}):a.jsx(co,{size:14}),a.jsx(ja,{size:14})," Add Tile"]})}),h&&a.jsx("div",{className:"p-3 pt-0 border-t border-slate-100 mt-2",children:a.jsx("div",{className:"pt-2 grid grid-cols-2 gap-2",children:m?.types?.map(Z=>a.jsx("button",{onClick:()=>y(Z.type),className:"p-2 h-10 flex items-center justify-center text-xs font-bold bg-white hover:bg-blue-50 border rounded text-center transition-colors shadow-sm",children:Z.label},Z.type))})})]}),a.jsxs("div",{className:"mb-6 bg-slate-50 border rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-slate-100 transition-colors",onClick:()=>v(!b),children:[a.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:[b?a.jsx(uo,{size:14}):a.jsx(co,{size:14}),a.jsx(jo,{size:14})," Pages"]}),a.jsx("span",{className:"text-[10px] font-bold text-slate-400 bg-slate-200 px-1.5 rounded-full",children:u.pages.length})]}),b&&a.jsx("div",{className:"p-3 pt-0 border-t border-slate-100 mt-2",children:a.jsxs("div",{className:"pt-2 space-y-1",children:[u.pages.map(Z=>a.jsxs("div",{children:[a.jsxs("div",{className:`flex items-center justify-between p-2 rounded cursor-pointer mb-1 ${k===Z.id?"bg-blue-100 text-blue-700":"hover:bg-slate-100"}`,onClick:()=>x(Z.id),children:[a.jsx("span",{className:"text-xs truncate font-medium",children:Z.id}),u.pages.length>1&&a.jsx("button",{onClick:ie=>{ie.stopPropagation(),j(Z.id)},className:"text-slate-400 hover:text-red-500 p-1",title:"Delete Page",children:a.jsx(Ot,{size:14})})]}),k===Z.id&&a.jsxs("div",{className:"ml-4 mb-2 space-y-1",children:[Z.tiles.map(ie=>a.jsxs("div",{className:`flex items-center justify-between p-1.5 rounded text-[10px] cursor-pointer ${S===ie.id?"bg-blue-50 text-blue-600 border border-blue-200":"text-slate-600 hover:bg-slate-50"}`,onClick:()=>D(ie.id),children:[a.jsxs("div",{className:"flex items-center gap-2 truncate",children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${ie.x===-1?"bg-amber-400":"bg-blue-400"}`}),a.jsx("span",{className:"truncate font-medium",children:A(ie)})]}),a.jsx("button",{onClick:pe=>{pe.stopPropagation(),z(ie.id)},className:"text-slate-300 hover:text-red-500",children:a.jsx(Ot,{size:12})})]},ie.id)),Z.tiles.length===0&&a.jsx("div",{className:"text-[10px] text-slate-400 italic p-1",children:"No tiles on this page"})]})]},Z.id)),a.jsx("button",{onClick:()=>P(!0),className:"w-full mt-2 p-2 text-[10px] font-medium border border-dashed rounded text-slate-500 hover:text-blue-600 hover:bg-white transition-colors",children:"+ New Page"})]})})]})]}),a.jsxs("div",{className:"p-4 border-t bg-slate-50",children:[a.jsx("input",{type:"file",ref:$,onChange:V,className:"hidden",accept:".yaml,.yml"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:a.jsxs("button",{onClick:T,className:"flex items-center justify-center gap-2 text-red-500 p-2 rounded hover:bg-red-50 border border-red-200 text-[10px] font-bold",children:[a.jsx(Ot,{size:14})," Clear All"]})})]})]})};var Ul=wf();const Co=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tl(n){const l=Object.prototype.toString.call(n);return l==="[object Window]"||l==="[object global]"}function Ua(n){return"nodeType"in n}function jt(n){var l,o;return n?tl(n)?n:Ua(n)&&(l=(o=n.ownerDocument)==null?void 0:o.defaultView)!=null?l:window:window}function Ba(n){const{Document:l}=jt(n);return n instanceof l}function Jl(n){return tl(n)?!1:n instanceof jt(n).HTMLElement}function Nf(n){return n instanceof jt(n).SVGElement}function nl(n){return n?tl(n)?n.document:Ua(n)?Ba(n)?n:Jl(n)||Nf(n)?n.ownerDocument:document:document:document}const er=Co?N.useLayoutEffect:N.useEffect;function $a(n){const l=N.useRef(n);return er(()=>{l.current=n}),N.useCallback(function(){for(var o=arguments.length,d=new Array(o),u=0;u<o;u++)d[u]=arguments[u];return l.current==null?void 0:l.current(...d)},[])}function h0(){const n=N.useRef(null),l=N.useCallback((d,u)=>{n.current=setInterval(d,u)},[]),o=N.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[l,o]}function Kl(n,l){l===void 0&&(l=[n]);const o=N.useRef(n);return er(()=>{o.current!==n&&(o.current=n)},l),o}function ei(n,l){const o=N.useRef();return N.useMemo(()=>{const d=n(o.current);return o.current=d,d},[...l])}function mo(n){const l=$a(n),o=N.useRef(null),d=N.useCallback(u=>{u!==o.current&&l?.(u,o.current),o.current=u},[]);return[o,d]}function Ca(n){const l=N.useRef();return N.useEffect(()=>{l.current=n},[n]),l.current}let xa={};function Eo(n,l){return N.useMemo(()=>{if(l)return l;const o=xa[n]==null?0:xa[n]+1;return xa[n]=o,n+"-"+o},[n,l])}function Cf(n){return function(l){for(var o=arguments.length,d=new Array(o>1?o-1:0),u=1;u<o;u++)d[u-1]=arguments[u];return d.reduce((f,h)=>{const p=Object.entries(h);for(const[m,y]of p){const b=f[m];b!=null&&(f[m]=b+n*y)}return f},{...l})}}const qr=Cf(1),go=Cf(-1);function m0(n){return"clientX"in n&&"clientY"in n}function Ef(n){if(!n)return!1;const{KeyboardEvent:l}=jt(n.target);return l&&n instanceof l}function g0(n){if(!n)return!1;const{TouchEvent:l}=jt(n.target);return l&&n instanceof l}function Ea(n){if(g0(n)){if(n.touches&&n.touches.length){const{clientX:l,clientY:o}=n.touches[0];return{x:l,y:o}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:l,clientY:o}=n.changedTouches[0];return{x:l,y:o}}}return m0(n)?{x:n.clientX,y:n.clientY}:null}const $d="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function x0(n){return n.matches($d)?n:n.querySelector($d)}const v0={display:"none"};function y0(n){let{id:l,value:o}=n;return kt.createElement("div",{id:l,style:v0},o)}function w0(n){let{id:l,announcement:o,ariaLiveType:d="assertive"}=n;const u={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return kt.createElement("div",{id:l,style:u,role:"status","aria-live":d,"aria-atomic":!0},o)}function b0(){const[n,l]=N.useState("");return{announce:N.useCallback(d=>{d!=null&&l(d)},[]),announcement:n}}const _f=N.createContext(null);function k0(n){const l=N.useContext(_f);N.useEffect(()=>{if(!l)throw new Error("useDndMonitor must be used within a children of <DndContext>");return l(n)},[n,l])}function S0(){const[n]=N.useState(()=>new Set),l=N.useCallback(d=>(n.add(d),()=>n.delete(d)),[n]);return[N.useCallback(d=>{let{type:u,event:f}=d;n.forEach(h=>{var p;return(p=h[u])==null?void 0:p.call(h,f)})},[n]),l]}const j0={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},N0={onDragStart(n){let{active:l}=n;return"Picked up draggable item "+l.id+"."},onDragOver(n){let{active:l,over:o}=n;return o?"Draggable item "+l.id+" was moved over droppable area "+o.id+".":"Draggable item "+l.id+" is no longer over a droppable area."},onDragEnd(n){let{active:l,over:o}=n;return o?"Draggable item "+l.id+" was dropped over droppable area "+o.id:"Draggable item "+l.id+" was dropped."},onDragCancel(n){let{active:l}=n;return"Dragging was cancelled. Draggable item "+l.id+" was dropped."}};function C0(n){let{announcements:l=N0,container:o,hiddenTextDescribedById:d,screenReaderInstructions:u=j0}=n;const{announce:f,announcement:h}=b0(),p=Eo("DndLiveRegion"),[m,y]=N.useState(!1);if(N.useEffect(()=>{y(!0)},[]),k0(N.useMemo(()=>({onDragStart(v){let{active:k}=v;f(l.onDragStart({active:k}))},onDragMove(v){let{active:k,over:x}=v;l.onDragMove&&f(l.onDragMove({active:k,over:x}))},onDragOver(v){let{active:k,over:x}=v;f(l.onDragOver({active:k,over:x}))},onDragEnd(v){let{active:k,over:x}=v;f(l.onDragEnd({active:k,over:x}))},onDragCancel(v){let{active:k,over:x}=v;f(l.onDragCancel({active:k,over:x}))}}),[f,l])),!m)return null;const b=kt.createElement(kt.Fragment,null,kt.createElement(y0,{id:d,value:u.draggable}),kt.createElement(w0,{id:p,announcement:h}));return o?Ul.createPortal(b,o):b}var We;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(We||(We={}));function xo(){}function Vd(n,l){return N.useMemo(()=>({sensor:n,options:l??{}}),[n,l])}function E0(){for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return N.useMemo(()=>[...l].filter(d=>d!=null),[...l])}const ln=Object.freeze({x:0,y:0});function _0(n,l){let{data:{value:o}}=n,{data:{value:d}}=l;return d-o}function A0(n,l){if(!n||n.length===0)return null;const[o]=n;return o[l]}function D0(n,l){const o=Math.max(l.top,n.top),d=Math.max(l.left,n.left),u=Math.min(l.left+l.width,n.left+n.width),f=Math.min(l.top+l.height,n.top+n.height),h=u-d,p=f-o;if(d<u&&o<f){const m=l.width*l.height,y=n.width*n.height,b=h*p,v=b/(m+y-b);return Number(v.toFixed(4))}return 0}const R0=n=>{let{collisionRect:l,droppableRects:o,droppableContainers:d}=n;const u=[];for(const f of d){const{id:h}=f,p=o.get(h);if(p){const m=D0(p,l);m>0&&u.push({id:h,data:{droppableContainer:f,value:m}})}}return u.sort(_0)};function L0(n,l,o){return{...n,scaleX:l&&o?l.width/o.width:1,scaleY:l&&o?l.height/o.height:1}}function Af(n,l){return n&&l?{x:n.left-l.left,y:n.top-l.top}:ln}function O0(n){return function(o){for(var d=arguments.length,u=new Array(d>1?d-1:0),f=1;f<d;f++)u[f-1]=arguments[f];return u.reduce((h,p)=>({...h,top:h.top+n*p.y,bottom:h.bottom+n*p.y,left:h.left+n*p.x,right:h.right+n*p.x}),{...o})}}const T0=O0(1);function M0(n){if(n.startsWith("matrix3d(")){const l=n.slice(9,-1).split(/, /);return{x:+l[12],y:+l[13],scaleX:+l[0],scaleY:+l[5]}}else if(n.startsWith("matrix(")){const l=n.slice(7,-1).split(/, /);return{x:+l[4],y:+l[5],scaleX:+l[0],scaleY:+l[3]}}return null}function F0(n,l,o){const d=M0(l);if(!d)return n;const{scaleX:u,scaleY:f,x:h,y:p}=d,m=n.left-h-(1-u)*parseFloat(o),y=n.top-p-(1-f)*parseFloat(o.slice(o.indexOf(" ")+1)),b=u?n.width/u:n.width,v=f?n.height/f:n.height;return{width:b,height:v,top:y,right:m+b,bottom:y+v,left:m}}const P0={ignoreTransform:!1};function ti(n,l){l===void 0&&(l=P0);let o=n.getBoundingClientRect();if(l.ignoreTransform){const{transform:y,transformOrigin:b}=jt(n).getComputedStyle(n);y&&(o=F0(o,y,b))}const{top:d,left:u,width:f,height:h,bottom:p,right:m}=o;return{top:d,left:u,width:f,height:h,bottom:p,right:m}}function Wd(n){return ti(n,{ignoreTransform:!0})}function z0(n){const l=n.innerWidth,o=n.innerHeight;return{top:0,left:0,right:l,bottom:o,width:l,height:o}}function I0(n,l){return l===void 0&&(l=jt(n).getComputedStyle(n)),l.position==="fixed"}function H0(n,l){l===void 0&&(l=jt(n).getComputedStyle(n));const o=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(u=>{const f=l[u];return typeof f=="string"?o.test(f):!1})}function Va(n,l){const o=[];function d(u){if(l!=null&&o.length>=l||!u)return o;if(Ba(u)&&u.scrollingElement!=null&&!o.includes(u.scrollingElement))return o.push(u.scrollingElement),o;if(!Jl(u)||Nf(u)||o.includes(u))return o;const f=jt(n).getComputedStyle(u);return u!==n&&H0(u,f)&&o.push(u),I0(u,f)?o:d(u.parentNode)}return n?d(n):o}function Df(n){const[l]=Va(n,1);return l??null}function va(n){return!Co||!n?null:tl(n)?n:Ua(n)?Ba(n)||n===nl(n).scrollingElement?window:Jl(n)?n:null:null}function Rf(n){return tl(n)?n.scrollX:n.scrollLeft}function Lf(n){return tl(n)?n.scrollY:n.scrollTop}function _a(n){return{x:Rf(n),y:Lf(n)}}var Xe;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Xe||(Xe={}));function Of(n){return!Co||!n?!1:n===document.scrollingElement}function Tf(n){const l={x:0,y:0},o=Of(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},d={x:n.scrollWidth-o.width,y:n.scrollHeight-o.height},u=n.scrollTop<=l.y,f=n.scrollLeft<=l.x,h=n.scrollTop>=d.y,p=n.scrollLeft>=d.x;return{isTop:u,isLeft:f,isBottom:h,isRight:p,maxScroll:d,minScroll:l}}const U0={x:.2,y:.2};function B0(n,l,o,d,u){let{top:f,left:h,right:p,bottom:m}=o;d===void 0&&(d=10),u===void 0&&(u=U0);const{isTop:y,isBottom:b,isLeft:v,isRight:k}=Tf(n),x={x:0,y:0},j={x:0,y:0},S={height:l.height*u.y,width:l.width*u.x};return!y&&f<=l.top+S.height?(x.y=Xe.Backward,j.y=d*Math.abs((l.top+S.height-f)/S.height)):!b&&m>=l.bottom-S.height&&(x.y=Xe.Forward,j.y=d*Math.abs((l.bottom-S.height-m)/S.height)),!k&&p>=l.right-S.width?(x.x=Xe.Forward,j.x=d*Math.abs((l.right-S.width-p)/S.width)):!v&&h<=l.left+S.width&&(x.x=Xe.Backward,j.x=d*Math.abs((l.left+S.width-h)/S.width)),{direction:x,speed:j}}function $0(n){if(n===document.scrollingElement){const{innerWidth:f,innerHeight:h}=window;return{top:0,left:0,right:f,bottom:h,width:f,height:h}}const{top:l,left:o,right:d,bottom:u}=n.getBoundingClientRect();return{top:l,left:o,right:d,bottom:u,width:n.clientWidth,height:n.clientHeight}}function Mf(n){return n.reduce((l,o)=>qr(l,_a(o)),ln)}function V0(n){return n.reduce((l,o)=>l+Rf(o),0)}function W0(n){return n.reduce((l,o)=>l+Lf(o),0)}function Y0(n,l){if(l===void 0&&(l=ti),!n)return;const{top:o,left:d,bottom:u,right:f}=l(n);Df(n)&&(u<=0||f<=0||o>=window.innerHeight||d>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const K0=[["x",["left","right"],V0],["y",["top","bottom"],W0]];class Wa{constructor(l,o){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const d=Va(o),u=Mf(d);this.rect={...l},this.width=l.width,this.height=l.height;for(const[f,h,p]of K0)for(const m of h)Object.defineProperty(this,m,{get:()=>{const y=p(d),b=u[f]-y;return this.rect[m]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Vl{constructor(l){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(o=>{var d;return(d=this.target)==null?void 0:d.removeEventListener(...o)})},this.target=l}add(l,o,d){var u;(u=this.target)==null||u.addEventListener(l,o,d),this.listeners.push([l,o,d])}}function Q0(n){const{EventTarget:l}=jt(n);return n instanceof l?n:nl(n)}function ya(n,l){const o=Math.abs(n.x),d=Math.abs(n.y);return typeof l=="number"?Math.sqrt(o**2+d**2)>l:"x"in l&&"y"in l?o>l.x&&d>l.y:"x"in l?o>l.x:"y"in l?d>l.y:!1}var $t;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})($t||($t={}));function Yd(n){n.preventDefault()}function G0(n){n.stopPropagation()}var je;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(je||(je={}));const Ff={start:[je.Space,je.Enter],cancel:[je.Esc],end:[je.Space,je.Enter,je.Tab]},X0=(n,l)=>{let{currentCoordinates:o}=l;switch(n.code){case je.Right:return{...o,x:o.x+25};case je.Left:return{...o,x:o.x-25};case je.Down:return{...o,y:o.y+25};case je.Up:return{...o,y:o.y-25}}};class Pf{constructor(l){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=l;const{event:{target:o}}=l;this.props=l,this.listeners=new Vl(nl(o)),this.windowListeners=new Vl(jt(o)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add($t.Resize,this.handleCancel),this.windowListeners.add($t.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add($t.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:l,onStart:o}=this.props,d=l.node.current;d&&Y0(d),o(ln)}handleKeyDown(l){if(Ef(l)){const{active:o,context:d,options:u}=this.props,{keyboardCodes:f=Ff,coordinateGetter:h=X0,scrollBehavior:p="smooth"}=u,{code:m}=l;if(f.end.includes(m)){this.handleEnd(l);return}if(f.cancel.includes(m)){this.handleCancel(l);return}const{collisionRect:y}=d.current,b=y?{x:y.left,y:y.top}:ln;this.referenceCoordinates||(this.referenceCoordinates=b);const v=h(l,{active:o,context:d.current,currentCoordinates:b});if(v){const k=go(v,b),x={x:0,y:0},{scrollableAncestors:j}=d.current;for(const S of j){const D=l.code,{isTop:z,isRight:A,isLeft:P,isBottom:$,maxScroll:V,minScroll:T}=Tf(S),M=$0(S),W={x:Math.min(D===je.Right?M.right-M.width/2:M.right,Math.max(D===je.Right?M.left:M.left+M.width/2,v.x)),y:Math.min(D===je.Down?M.bottom-M.height/2:M.bottom,Math.max(D===je.Down?M.top:M.top+M.height/2,v.y))},Z=D===je.Right&&!A||D===je.Left&&!P,ie=D===je.Down&&!$||D===je.Up&&!z;if(Z&&W.x!==v.x){const pe=S.scrollLeft+k.x,ge=D===je.Right&&pe<=V.x||D===je.Left&&pe>=T.x;if(ge&&!k.y){S.scrollTo({left:pe,behavior:p});return}ge?x.x=S.scrollLeft-pe:x.x=D===je.Right?S.scrollLeft-V.x:S.scrollLeft-T.x,x.x&&S.scrollBy({left:-x.x,behavior:p});break}else if(ie&&W.y!==v.y){const pe=S.scrollTop+k.y,ge=D===je.Down&&pe<=V.y||D===je.Up&&pe>=T.y;if(ge&&!k.x){S.scrollTo({top:pe,behavior:p});return}ge?x.y=S.scrollTop-pe:x.y=D===je.Down?S.scrollTop-V.y:S.scrollTop-T.y,x.y&&S.scrollBy({top:-x.y,behavior:p});break}}this.handleMove(l,qr(go(v,this.referenceCoordinates),x))}}}handleMove(l,o){const{onMove:d}=this.props;l.preventDefault(),d(o)}handleEnd(l){const{onEnd:o}=this.props;l.preventDefault(),this.detach(),o()}handleCancel(l){const{onCancel:o}=this.props;l.preventDefault(),this.detach(),o()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Pf.activators=[{eventName:"onKeyDown",handler:(n,l,o)=>{let{keyboardCodes:d=Ff,onActivation:u}=l,{active:f}=o;const{code:h}=n.nativeEvent;if(d.start.includes(h)){const p=f.activatorNode.current;return p&&n.target!==p?!1:(n.preventDefault(),u?.({event:n.nativeEvent}),!0)}return!1}}];function Kd(n){return!!(n&&"distance"in n)}function Qd(n){return!!(n&&"delay"in n)}class Ya{constructor(l,o,d){var u;d===void 0&&(d=Q0(l.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=l,this.events=o;const{event:f}=l,{target:h}=f;this.props=l,this.events=o,this.document=nl(h),this.documentListeners=new Vl(this.document),this.listeners=new Vl(d),this.windowListeners=new Vl(jt(h)),this.initialCoordinates=(u=Ea(f))!=null?u:ln,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:l,props:{options:{activationConstraint:o,bypassActivationConstraint:d}}}=this;if(this.listeners.add(l.move.name,this.handleMove,{passive:!1}),this.listeners.add(l.end.name,this.handleEnd),l.cancel&&this.listeners.add(l.cancel.name,this.handleCancel),this.windowListeners.add($t.Resize,this.handleCancel),this.windowListeners.add($t.DragStart,Yd),this.windowListeners.add($t.VisibilityChange,this.handleCancel),this.windowListeners.add($t.ContextMenu,Yd),this.documentListeners.add($t.Keydown,this.handleKeydown),o){if(d!=null&&d({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Qd(o)){this.timeoutId=setTimeout(this.handleStart,o.delay),this.handlePending(o);return}if(Kd(o)){this.handlePending(o);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(l,o){const{active:d,onPending:u}=this.props;u(d,l,this.initialCoordinates,o)}handleStart(){const{initialCoordinates:l}=this,{onStart:o}=this.props;l&&(this.activated=!0,this.documentListeners.add($t.Click,G0,{capture:!0}),this.removeTextSelection(),this.documentListeners.add($t.SelectionChange,this.removeTextSelection),o(l))}handleMove(l){var o;const{activated:d,initialCoordinates:u,props:f}=this,{onMove:h,options:{activationConstraint:p}}=f;if(!u)return;const m=(o=Ea(l))!=null?o:ln,y=go(u,m);if(!d&&p){if(Kd(p)){if(p.tolerance!=null&&ya(y,p.tolerance))return this.handleCancel();if(ya(y,p.distance))return this.handleStart()}if(Qd(p)&&ya(y,p.tolerance))return this.handleCancel();this.handlePending(p,y);return}l.cancelable&&l.preventDefault(),h(m)}handleEnd(){const{onAbort:l,onEnd:o}=this.props;this.detach(),this.activated||l(this.props.active),o()}handleCancel(){const{onAbort:l,onCancel:o}=this.props;this.detach(),this.activated||l(this.props.active),o()}handleKeydown(l){l.code===je.Esc&&this.handleCancel()}removeTextSelection(){var l;(l=this.document.getSelection())==null||l.removeAllRanges()}}const q0={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class zf extends Ya{constructor(l){const{event:o}=l,d=nl(o.target);super(l,q0,d)}}zf.activators=[{eventName:"onPointerDown",handler:(n,l)=>{let{nativeEvent:o}=n,{onActivation:d}=l;return!o.isPrimary||o.button!==0?!1:(d?.({event:o}),!0)}}];const Z0={move:{name:"mousemove"},end:{name:"mouseup"}};var Aa;(function(n){n[n.RightClick=2]="RightClick"})(Aa||(Aa={}));class If extends Ya{constructor(l){super(l,Z0,nl(l.event.target))}}If.activators=[{eventName:"onMouseDown",handler:(n,l)=>{let{nativeEvent:o}=n,{onActivation:d}=l;return o.button===Aa.RightClick?!1:(d?.({event:o}),!0)}}];const wa={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Hf extends Ya{constructor(l){super(l,wa)}static setup(){return window.addEventListener(wa.move.name,l,{capture:!1,passive:!1}),function(){window.removeEventListener(wa.move.name,l)};function l(){}}}Hf.activators=[{eventName:"onTouchStart",handler:(n,l)=>{let{nativeEvent:o}=n,{onActivation:d}=l;const{touches:u}=o;return u.length>1?!1:(d?.({event:o}),!0)}}];var Wl;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Wl||(Wl={}));var vo;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(vo||(vo={}));function J0(n){let{acceleration:l,activator:o=Wl.Pointer,canScroll:d,draggingRect:u,enabled:f,interval:h=5,order:p=vo.TreeOrder,pointerCoordinates:m,scrollableAncestors:y,scrollableAncestorRects:b,delta:v,threshold:k}=n;const x=tg({delta:v,disabled:!f}),[j,S]=h0(),D=N.useRef({x:0,y:0}),z=N.useRef({x:0,y:0}),A=N.useMemo(()=>{switch(o){case Wl.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case Wl.DraggableRect:return u}},[o,u,m]),P=N.useRef(null),$=N.useCallback(()=>{const T=P.current;if(!T)return;const M=D.current.x*z.current.x,W=D.current.y*z.current.y;T.scrollBy(M,W)},[]),V=N.useMemo(()=>p===vo.TreeOrder?[...y].reverse():y,[p,y]);N.useEffect(()=>{if(!f||!y.length||!A){S();return}for(const T of V){if(d?.(T)===!1)continue;const M=y.indexOf(T),W=b[M];if(!W)continue;const{direction:Z,speed:ie}=B0(T,W,A,l,k);for(const pe of["x","y"])x[pe][Z[pe]]||(ie[pe]=0,Z[pe]=0);if(ie.x>0||ie.y>0){S(),P.current=T,j($,h),D.current=ie,z.current=Z;return}}D.current={x:0,y:0},z.current={x:0,y:0},S()},[l,$,d,S,f,h,JSON.stringify(A),JSON.stringify(x),j,y,V,b,JSON.stringify(k)])}const eg={x:{[Xe.Backward]:!1,[Xe.Forward]:!1},y:{[Xe.Backward]:!1,[Xe.Forward]:!1}};function tg(n){let{delta:l,disabled:o}=n;const d=Ca(l);return ei(u=>{if(o||!d||!u)return eg;const f={x:Math.sign(l.x-d.x),y:Math.sign(l.y-d.y)};return{x:{[Xe.Backward]:u.x[Xe.Backward]||f.x===-1,[Xe.Forward]:u.x[Xe.Forward]||f.x===1},y:{[Xe.Backward]:u.y[Xe.Backward]||f.y===-1,[Xe.Forward]:u.y[Xe.Forward]||f.y===1}}},[o,l,d])}function ng(n,l){const o=l!=null?n.get(l):void 0,d=o?o.node.current:null;return ei(u=>{var f;return l==null?null:(f=d??u)!=null?f:null},[d,l])}function rg(n,l){return N.useMemo(()=>n.reduce((o,d)=>{const{sensor:u}=d,f=u.activators.map(h=>({eventName:h.eventName,handler:l(h.handler,d)}));return[...o,...f]},[]),[n,l])}var Ql;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Ql||(Ql={}));var Da;(function(n){n.Optimized="optimized"})(Da||(Da={}));const Gd=new Map;function lg(n,l){let{dragging:o,dependencies:d,config:u}=l;const[f,h]=N.useState(null),{frequency:p,measure:m,strategy:y}=u,b=N.useRef(n),v=D(),k=Kl(v),x=N.useCallback(function(z){z===void 0&&(z=[]),!k.current&&h(A=>A===null?z:A.concat(z.filter(P=>!A.includes(P))))},[k]),j=N.useRef(null),S=ei(z=>{if(v&&!o)return Gd;if(!z||z===Gd||b.current!==n||f!=null){const A=new Map;for(let P of n){if(!P)continue;if(f&&f.length>0&&!f.includes(P.id)&&P.rect.current){A.set(P.id,P.rect.current);continue}const $=P.node.current,V=$?new Wa(m($),$):null;P.rect.current=V,V&&A.set(P.id,V)}return A}return z},[n,f,o,v,m]);return N.useEffect(()=>{b.current=n},[n]),N.useEffect(()=>{v||x()},[o,v]),N.useEffect(()=>{f&&f.length>0&&h(null)},[JSON.stringify(f)]),N.useEffect(()=>{v||typeof p!="number"||j.current!==null||(j.current=setTimeout(()=>{x(),j.current=null},p))},[p,v,x,...d]),{droppableRects:S,measureDroppableContainers:x,measuringScheduled:f!=null};function D(){switch(y){case Ql.Always:return!1;case Ql.BeforeDragging:return o;default:return!o}}}function Uf(n,l){return ei(o=>n?o||(typeof l=="function"?l(n):n):null,[l,n])}function ig(n,l){return Uf(n,l)}function og(n){let{callback:l,disabled:o}=n;const d=$a(l),u=N.useMemo(()=>{if(o||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:f}=window;return new f(d)},[d,o]);return N.useEffect(()=>()=>u?.disconnect(),[u]),u}function _o(n){let{callback:l,disabled:o}=n;const d=$a(l),u=N.useMemo(()=>{if(o||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:f}=window;return new f(d)},[o]);return N.useEffect(()=>()=>u?.disconnect(),[u]),u}function sg(n){return new Wa(ti(n),n)}function Xd(n,l,o){l===void 0&&(l=sg);const[d,u]=N.useState(null);function f(){u(m=>{if(!n)return null;if(n.isConnected===!1){var y;return(y=m??o)!=null?y:null}const b=l(n);return JSON.stringify(m)===JSON.stringify(b)?m:b})}const h=og({callback(m){if(n)for(const y of m){const{type:b,target:v}=y;if(b==="childList"&&v instanceof HTMLElement&&v.contains(n)){f();break}}}}),p=_o({callback:f});return er(()=>{f(),n?(p?.observe(n),h?.observe(document.body,{childList:!0,subtree:!0})):(p?.disconnect(),h?.disconnect())},[n]),d}function ag(n){const l=Uf(n);return Af(n,l)}const qd=[];function ug(n){const l=N.useRef(n),o=ei(d=>n?d&&d!==qd&&n&&l.current&&n.parentNode===l.current.parentNode?d:Va(n):qd,[n]);return N.useEffect(()=>{l.current=n},[n]),o}function cg(n){const[l,o]=N.useState(null),d=N.useRef(n),u=N.useCallback(f=>{const h=va(f.target);h&&o(p=>p?(p.set(h,_a(h)),new Map(p)):null)},[]);return N.useEffect(()=>{const f=d.current;if(n!==f){h(f);const p=n.map(m=>{const y=va(m);return y?(y.addEventListener("scroll",u,{passive:!0}),[y,_a(y)]):null}).filter(m=>m!=null);o(p.length?new Map(p):null),d.current=n}return()=>{h(n),h(f)};function h(p){p.forEach(m=>{const y=va(m);y?.removeEventListener("scroll",u)})}},[u,n]),N.useMemo(()=>n.length?l?Array.from(l.values()).reduce((f,h)=>qr(f,h),ln):Mf(n):ln,[n,l])}function Zd(n,l){l===void 0&&(l=[]);const o=N.useRef(null);return N.useEffect(()=>{o.current=null},l),N.useEffect(()=>{const d=n!==ln;d&&!o.current&&(o.current=n),!d&&o.current&&(o.current=null)},[n]),o.current?go(n,o.current):ln}function dg(n){N.useEffect(()=>{if(!Co)return;const l=n.map(o=>{let{sensor:d}=o;return d.setup==null?void 0:d.setup()});return()=>{for(const o of l)o?.()}},n.map(l=>{let{sensor:o}=l;return o}))}function fg(n,l){return N.useMemo(()=>n.reduce((o,d)=>{let{eventName:u,handler:f}=d;return o[u]=h=>{f(h,l)},o},{}),[n,l])}function Bf(n){return N.useMemo(()=>n?z0(n):null,[n])}const Jd=[];function pg(n,l){l===void 0&&(l=ti);const[o]=n,d=Bf(o?jt(o):null),[u,f]=N.useState(Jd);function h(){f(()=>n.length?n.map(m=>Of(m)?d:new Wa(l(m),m)):Jd)}const p=_o({callback:h});return er(()=>{p?.disconnect(),h(),n.forEach(m=>p?.observe(m))},[n]),u}function hg(n){if(!n)return null;if(n.children.length>1)return n;const l=n.children[0];return Jl(l)?l:n}function mg(n){let{measure:l}=n;const[o,d]=N.useState(null),u=N.useCallback(y=>{for(const{target:b}of y)if(Jl(b)){d(v=>{const k=l(b);return v?{...v,width:k.width,height:k.height}:k});break}},[l]),f=_o({callback:u}),h=N.useCallback(y=>{const b=hg(y);f?.disconnect(),b&&f?.observe(b),d(b?l(b):null)},[l,f]),[p,m]=mo(h);return N.useMemo(()=>({nodeRef:p,rect:o,setRef:m}),[o,p,m])}const gg=[{sensor:zf,options:{}},{sensor:Pf,options:{}}],xg={current:{}},po={draggable:{measure:Wd},droppable:{measure:Wd,strategy:Ql.WhileDragging,frequency:Da.Optimized},dragOverlay:{measure:ti}};class Yl extends Map{get(l){var o;return l!=null&&(o=super.get(l))!=null?o:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(l=>{let{disabled:o}=l;return!o})}getNodeFor(l){var o,d;return(o=(d=this.get(l))==null?void 0:d.node.current)!=null?o:void 0}}const vg={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Yl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:xo},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:po,measureDroppableContainers:xo,windowRect:null,measuringScheduled:!1},yg={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:xo,draggableNodes:new Map,over:null,measureDroppableContainers:xo},Ao=N.createContext(yg),wg=N.createContext(vg);function bg(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Yl}}}function kg(n,l){switch(l.type){case We.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:l.initialCoordinates,active:l.active}};case We.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:l.coordinates.x-n.draggable.initialCoordinates.x,y:l.coordinates.y-n.draggable.initialCoordinates.y}}};case We.DragEnd:case We.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case We.RegisterDroppable:{const{element:o}=l,{id:d}=o,u=new Yl(n.droppable.containers);return u.set(d,o),{...n,droppable:{...n.droppable,containers:u}}}case We.SetDroppableDisabled:{const{id:o,key:d,disabled:u}=l,f=n.droppable.containers.get(o);if(!f||d!==f.key)return n;const h=new Yl(n.droppable.containers);return h.set(o,{...f,disabled:u}),{...n,droppable:{...n.droppable,containers:h}}}case We.UnregisterDroppable:{const{id:o,key:d}=l,u=n.droppable.containers.get(o);if(!u||d!==u.key)return n;const f=new Yl(n.droppable.containers);return f.delete(o),{...n,droppable:{...n.droppable,containers:f}}}default:return n}}function Sg(n){let{disabled:l}=n;const{active:o,activatorEvent:d,draggableNodes:u}=N.useContext(Ao),f=Ca(d),h=Ca(o?.id);return N.useEffect(()=>{if(!l&&!d&&f&&h!=null){if(!Ef(f)||document.activeElement===f.target)return;const p=u.get(h);if(!p)return;const{activatorNode:m,node:y}=p;if(!m.current&&!y.current)return;requestAnimationFrame(()=>{for(const b of[m.current,y.current]){if(!b)continue;const v=x0(b);if(v){v.focus();break}}})}},[d,l,u,h,f]),null}function jg(n,l){let{transform:o,...d}=l;return n!=null&&n.length?n.reduce((u,f)=>f({transform:u,...d}),o):o}function Ng(n){return N.useMemo(()=>({draggable:{...po.draggable,...n?.draggable},droppable:{...po.droppable,...n?.droppable},dragOverlay:{...po.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function Cg(n){let{activeNode:l,measure:o,initialRect:d,config:u=!0}=n;const f=N.useRef(!1),{x:h,y:p}=typeof u=="boolean"?{x:u,y:u}:u;er(()=>{if(!h&&!p||!l){f.current=!1;return}if(f.current||!d)return;const y=l?.node.current;if(!y||y.isConnected===!1)return;const b=o(y),v=Af(b,d);if(h||(v.x=0),p||(v.y=0),f.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const k=Df(y);k&&k.scrollBy({top:v.y,left:v.x})}},[l,h,p,d,o])}const $f=N.createContext({...ln,scaleX:1,scaleY:1});var qn;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(qn||(qn={}));const Eg=N.memo(function(l){var o,d,u,f;let{id:h,accessibility:p,autoScroll:m=!0,children:y,sensors:b=gg,collisionDetection:v=R0,measuring:k,modifiers:x,...j}=l;const S=N.useReducer(kg,void 0,bg),[D,z]=S,[A,P]=S0(),[$,V]=N.useState(qn.Uninitialized),T=$===qn.Initialized,{draggable:{active:M,nodes:W,translate:Z},droppable:{containers:ie}}=D,pe=M!=null?W.get(M):null,ge=N.useRef({initial:null,translated:null}),he=N.useMemo(()=>{var Re;return M!=null?{id:M,data:(Re=pe?.data)!=null?Re:xg,rect:ge}:null},[M,pe]),Se=N.useRef(null),[_e,Pe]=N.useState(null),[me,Y]=N.useState(null),ee=Kl(j,Object.values(j)),K=Eo("DndDescribedBy",h),_=N.useMemo(()=>ie.getEnabled(),[ie]),F=Ng(k),{droppableRects:le,measureDroppableContainers:oe,measuringScheduled:ce}=lg(_,{dragging:T,dependencies:[Z.x,Z.y],config:F.droppable}),ae=ng(W,M),ve=N.useMemo(()=>me?Ea(me):null,[me]),fe=Rn(),we=ig(ae,F.draggable.measure);Cg({activeNode:M!=null?W.get(M):null,config:fe.layoutShiftCompensation,initialRect:we,measure:F.draggable.measure});const ke=Xd(ae,F.draggable.measure,we),Vt=Xd(ae?ae.parentElement:null),Tt=N.useRef({activatorEvent:null,active:null,activeNode:ae,collisionRect:null,collisions:null,droppableRects:le,draggableNodes:W,draggingNode:null,draggingNodeRect:null,droppableContainers:ie,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),mn=ie.getNodeFor((o=Tt.current.over)==null?void 0:o.id),Nt=mg({measure:F.dragOverlay.measure}),Wt=(d=Nt.nodeRef.current)!=null?d:ae,Yt=T?(u=Nt.rect)!=null?u:ke:null,_n=!!(Nt.nodeRef.current&&Nt.rect),nr=ag(_n?null:ke),gn=Bf(Wt?jt(Wt):null),et=ug(T?mn??ae:null),Ct=pg(et),Kt=jg(x,{transform:{x:Z.x-nr.x,y:Z.y-nr.y,scaleX:1,scaleY:1},activatorEvent:me,active:he,activeNodeRect:ke,containerNodeRect:Vt,draggingNodeRect:Yt,over:Tt.current.over,overlayNodeRect:Nt.rect,scrollableAncestors:et,scrollableAncestorRects:Ct,windowRect:gn}),rr=ve?qr(ve,Z):null,An=cg(et),Dn=Zd(An),lr=Zd(An,[ke]),Mt=qr(Kt,Dn),Et=Yt?T0(Yt,Kt):null,on=he&&Et?v({active:he,collisionRect:Et,droppableRects:le,droppableContainers:_,pointerCoordinates:rr}):null,sn=A0(on,"id"),[tt,br]=N.useState(null),kr=_n?Kt:qr(Kt,lr),ir=L0(kr,(f=tt?.rect)!=null?f:null,ke),De=N.useRef(null),Me=N.useCallback((Re,nt)=>{let{sensor:rt,options:Qt}=nt;if(Se.current==null)return;const dt=W.get(Se.current);if(!dt)return;const lt=Re.nativeEvent,mt=new rt({active:Se.current,activeNode:dt,event:lt,options:Qt,context:Tt,onAbort(Le){if(!W.get(Le))return;const{onDragAbort:it}=ee.current,Gt={id:Le};it?.(Gt),A({type:"onDragAbort",event:Gt})},onPending(Le,Ft,it,Gt){if(!W.get(Le))return;const{onDragPending:an}=ee.current,_t={id:Le,constraint:Ft,initialCoordinates:it,offset:Gt};an?.(_t),A({type:"onDragPending",event:_t})},onStart(Le){const Ft=Se.current;if(Ft==null)return;const it=W.get(Ft);if(!it)return;const{onDragStart:Gt}=ee.current,Xt={activatorEvent:lt,active:{id:Ft,data:it.data,rect:ge}};Ul.unstable_batchedUpdates(()=>{Gt?.(Xt),V(qn.Initializing),z({type:We.DragStart,initialCoordinates:Le,active:Ft}),A({type:"onDragStart",event:Xt}),Pe(De.current),Y(lt)})},onMove(Le){z({type:We.DragMove,coordinates:Le})},onEnd:xn(We.DragEnd),onCancel:xn(We.DragCancel)});De.current=mt;function xn(Le){return async function(){const{active:it,collisions:Gt,over:Xt,scrollAdjustedTranslate:an}=Tt.current;let _t=null;if(it&&an){const{cancelDrop:vn}=ee.current;_t={activatorEvent:lt,active:it,collisions:Gt,delta:an,over:Xt},Le===We.DragEnd&&typeof vn=="function"&&await Promise.resolve(vn(_t))&&(Le=We.DragCancel)}Se.current=null,Ul.unstable_batchedUpdates(()=>{z({type:Le}),V(qn.Uninitialized),br(null),Pe(null),Y(null),De.current=null;const vn=Le===We.DragEnd?"onDragEnd":"onDragCancel";if(_t){const ol=ee.current[vn];ol?.(_t),A({type:vn,event:_t})}})}}},[W]),rl=N.useCallback((Re,nt)=>(rt,Qt)=>{const dt=rt.nativeEvent,lt=W.get(Qt);if(Se.current!==null||!lt||dt.dndKit||dt.defaultPrevented)return;const mt={active:lt};Re(rt,nt.options,mt)===!0&&(dt.dndKit={capturedBy:nt.sensor},Se.current=Qt,Me(rt,nt))},[W,Me]),Sr=rg(b,rl);dg(b),er(()=>{ke&&$===qn.Initializing&&V(qn.Initialized)},[ke,$]),N.useEffect(()=>{const{onDragMove:Re}=ee.current,{active:nt,activatorEvent:rt,collisions:Qt,over:dt}=Tt.current;if(!nt||!rt)return;const lt={active:nt,activatorEvent:rt,collisions:Qt,delta:{x:Mt.x,y:Mt.y},over:dt};Ul.unstable_batchedUpdates(()=>{Re?.(lt),A({type:"onDragMove",event:lt})})},[Mt.x,Mt.y]),N.useEffect(()=>{const{active:Re,activatorEvent:nt,collisions:rt,droppableContainers:Qt,scrollAdjustedTranslate:dt}=Tt.current;if(!Re||Se.current==null||!nt||!dt)return;const{onDragOver:lt}=ee.current,mt=Qt.get(sn),xn=mt&&mt.rect.current?{id:mt.id,rect:mt.rect.current,data:mt.data,disabled:mt.disabled}:null,Le={active:Re,activatorEvent:nt,collisions:rt,delta:{x:dt.x,y:dt.y},over:xn};Ul.unstable_batchedUpdates(()=>{br(xn),lt?.(Le),A({type:"onDragOver",event:Le})})},[sn]),er(()=>{Tt.current={activatorEvent:me,active:he,activeNode:ae,collisionRect:Et,collisions:on,droppableRects:le,draggableNodes:W,draggingNode:Wt,draggingNodeRect:Yt,droppableContainers:ie,over:tt,scrollableAncestors:et,scrollAdjustedTranslate:Mt},ge.current={initial:Yt,translated:Et}},[he,ae,on,Et,W,Wt,Yt,le,ie,tt,et,Mt]),J0({...fe,delta:Z,draggingRect:Et,pointerCoordinates:rr,scrollableAncestors:et,scrollableAncestorRects:Ct});const ll=N.useMemo(()=>({active:he,activeNode:ae,activeNodeRect:ke,activatorEvent:me,collisions:on,containerNodeRect:Vt,dragOverlay:Nt,draggableNodes:W,droppableContainers:ie,droppableRects:le,over:tt,measureDroppableContainers:oe,scrollableAncestors:et,scrollableAncestorRects:Ct,measuringConfiguration:F,measuringScheduled:ce,windowRect:gn}),[he,ae,ke,me,on,Vt,Nt,W,ie,le,tt,oe,et,Ct,F,ce,gn]),il=N.useMemo(()=>({activatorEvent:me,activators:Sr,active:he,activeNodeRect:ke,ariaDescribedById:{draggable:K},dispatch:z,draggableNodes:W,over:tt,measureDroppableContainers:oe}),[me,Sr,he,ke,z,K,W,tt,oe]);return kt.createElement(_f.Provider,{value:P},kt.createElement(Ao.Provider,{value:il},kt.createElement(wg.Provider,{value:ll},kt.createElement($f.Provider,{value:ir},y)),kt.createElement(Sg,{disabled:p?.restoreFocus===!1})),kt.createElement(C0,{...p,hiddenTextDescribedById:K}));function Rn(){const Re=_e?.autoScrollEnabled===!1,nt=typeof m=="object"?m.enabled===!1:m===!1,rt=T&&!Re&&!nt;return typeof m=="object"?{...m,enabled:rt}:{enabled:rt}}}),_g=N.createContext(null),ef="button",Ag="Draggable";function Dg(n){let{id:l,data:o,disabled:d=!1,attributes:u}=n;const f=Eo(Ag),{activators:h,activatorEvent:p,active:m,activeNodeRect:y,ariaDescribedById:b,draggableNodes:v,over:k}=N.useContext(Ao),{role:x=ef,roleDescription:j="draggable",tabIndex:S=0}=u??{},D=m?.id===l,z=N.useContext(D?$f:_g),[A,P]=mo(),[$,V]=mo(),T=fg(h,l),M=Kl(o);er(()=>(v.set(l,{id:l,key:f,node:A,activatorNode:$,data:M}),()=>{const Z=v.get(l);Z&&Z.key===f&&v.delete(l)}),[v,l]);const W=N.useMemo(()=>({role:x,tabIndex:S,"aria-disabled":d,"aria-pressed":D&&x===ef?!0:void 0,"aria-roledescription":j,"aria-describedby":b.draggable}),[d,x,S,D,j,b.draggable]);return{active:m,activatorEvent:p,activeNodeRect:y,attributes:W,isDragging:D,listeners:d?void 0:T,node:A,over:k,setNodeRef:P,setActivatorNodeRef:V,transform:z}}const Rg="Droppable",Lg={timeout:25};function Og(n){let{data:l,disabled:o=!1,id:d,resizeObserverConfig:u}=n;const f=Eo(Rg),{active:h,dispatch:p,over:m,measureDroppableContainers:y}=N.useContext(Ao),b=N.useRef({disabled:o}),v=N.useRef(!1),k=N.useRef(null),x=N.useRef(null),{disabled:j,updateMeasurementsFor:S,timeout:D}={...Lg,...u},z=Kl(S??d),A=N.useCallback(()=>{if(!v.current){v.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{y(Array.isArray(z.current)?z.current:[z.current]),x.current=null},D)},[D]),P=_o({callback:A,disabled:j||!h}),$=N.useCallback((W,Z)=>{P&&(Z&&(P.unobserve(Z),v.current=!1),W&&P.observe(W))},[P]),[V,T]=mo($),M=Kl(l);return N.useEffect(()=>{!P||!V.current||(P.disconnect(),v.current=!1,P.observe(V.current))},[V,P]),N.useEffect(()=>(p({type:We.RegisterDroppable,element:{id:d,key:f,disabled:o,node:V,rect:k,data:M}}),()=>p({type:We.UnregisterDroppable,key:f,id:d})),[d]),N.useEffect(()=>{o!==b.current.disabled&&(p({type:We.SetDroppableDisabled,id:d,key:f,disabled:o}),b.current.disabled=o)},[d,f,o,p]),{active:h,rect:k,isOver:m?.id===d,node:V,over:m,setNodeRef:T}}const Tg=({x:n,y:l,children:o,onSelect:d})=>{const{isOver:u,setNodeRef:f}=Og({id:`cell-${n}-${l}`,data:{x:n,y:l}});return a.jsx("div",{ref:f,className:`relative border-2 border-dashed rounded flex items-center justify-center h-full w-full
        ${u?"bg-green-100 border-green-500":"border-slate-300 hover:bg-slate-50"}
      `,onClick:d,children:o||a.jsx("span",{className:"text-slate-300 text-xs select-none pointer-events-none",children:"Empty"})})},tf=({tile:n,isSelected:l,onClick:o,onDelete:d})=>{const{attributes:u,listeners:f,setNodeRef:h,transform:p}=Dg({id:n.id}),m=p?{transform:`translate3d(${p.x}px, ${p.y}px, 0)`,zIndex:100}:void 0;return a.jsxs("div",{ref:h,style:m,...f,...u,className:`w-full h-full relative border-2 border-solid rounded flex items-center justify-center group
        ${l?"bg-blue-100 border-blue-600 ring-2 ring-blue-400":"bg-blue-50 border-blue-500"}
        cursor-grab active:cursor-grabbing shadow-sm hover:shadow-md transition-shadow
      `,onClick:()=>{o()},children:[a.jsx("button",{className:"absolute top-1 right-1 p-1 bg-white rounded-full shadow opacity-0 group-hover:opacity-100 hover:bg-red-50 text-red-500 transition-opacity z-10",onPointerDown:y=>y.stopPropagation(),onClick:y=>{y.stopPropagation(),d()},title:"Delete Tile",children:a.jsx(Ot,{size:12})}),a.jsxs("div",{className:"text-center p-1 overflow-hidden w-full pointer-events-none",children:[a.jsx("div",{className:"font-bold text-[10px] uppercase text-blue-700 truncate",children:n.type.replace("_"," ")}),n.display&&a.jsx("div",{className:"text-[9px] text-slate-600 truncate mt-1",title:(Array.isArray(n.display)?n.display:[n.display]).map(b=>typeof b=="string"?b:Object.keys(b)[0]).join(", "),children:(()=>{const y=Array.isArray(n.display)?n.display:[n.display];if(y.length===0)return null;const b=y[0];if(typeof b=="string")return b;const v=Object.keys(b)[0];if(v==="tile_icon"&&b[v]?.icon){let k=b[v].icon;typeof k=="string"&&k.startsWith('"')&&k.endsWith('"')&&(k=k.slice(1,-1));let x=k;if(k.startsWith("\\U"))try{x=String.fromCodePoint(parseInt(k.substring(2),16))}catch{}return a.jsx("span",{style:{fontFamily:'"Material Symbols Outlined"',fontSize:"24px",lineHeight:1},children:x})}return v})()}),n.entity&&a.jsx("div",{className:"text-[9px] text-slate-500 truncate mt-0.5",children:n.entity})]})]})},Mg=({page:n,onSelectTile:l,selectedTileId:o,onDragEnd:d,onDeleteTile:u,rows:f,cols:h})=>{const p=E0(Vd(If,{activationConstraint:{distance:5}}),Vd(Hf,{activationConstraint:{delay:250,tolerance:5}})),[m,y]=N.useState({});N.useEffect(()=>{if(o){const v=n.tiles.find(k=>k.id===o);if(v&&v.x>=0&&v.y>=0){const k=`${v.x},${v.y}`,j=n.tiles.filter(S=>S.x===v.x&&S.y===v.y).findIndex(S=>S.id===o);j!==-1&&y(S=>({...S,[k]:j}))}}},[o,n.tiles]);const b=n.tiles.filter(v=>v.x<0||v.y<0);return a.jsx(Eg,{onDragEnd:d,sensors:p,children:a.jsxs("div",{className:"flex flex-col items-center gap-6",children:[a.jsx("div",{className:"relative bg-white shadow-lg rounded-lg overflow-hidden",style:{width:"480px",height:"320px"},children:a.jsx("div",{className:"absolute inset-0 grid gap-1 p-1 bg-slate-200",style:{gridTemplateColumns:`repeat(${h}, minmax(0, 1fr))`,gridTemplateRows:`repeat(${f}, minmax(0, 1fr))`},children:Array.from({length:h*f}).map((v,k)=>{const x=k%h,j=Math.floor(k/h),S=n.tiles.filter($=>$.x===x&&$.y===j),D=`${x},${j}`,z=m[D]||0,A=S.length>0?z%S.length:0,P=S[A];return a.jsxs(Tg,{x,y:j,children:[P&&a.jsx(tf,{tile:P,isSelected:o===P.id,onClick:()=>l(P),onDelete:()=>u(P.id)}),S.length>1&&a.jsxs("div",{className:"absolute bottom-1 left-1 right-1 flex justify-between items-center bg-white/90 rounded px-1 z-20 text-[10px] font-bold shadow-sm border border-slate-300",children:[a.jsx("button",{onPointerDown:$=>$.stopPropagation(),onClick:$=>{$.stopPropagation();const V=(A-1+S.length)%S.length;y(T=>({...T,[D]:V})),l(S[V])},className:"hover:text-blue-600 p-0.5 cursor-pointer",children:"<"}),a.jsxs("span",{className:"text-slate-600",children:[A+1,"/",S.length]}),a.jsx("button",{onPointerDown:$=>$.stopPropagation(),onClick:$=>{$.stopPropagation();const V=(A+1)%S.length;y(T=>({...T,[D]:V})),l(S[V])},className:"hover:text-blue-600 p-0.5 cursor-pointer",children:">"})]})]},k)})})}),b.length>0&&a.jsxs("div",{className:"w-full max-w-[480px] p-4 bg-slate-50 border-2 border-dashed border-slate-300 rounded-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Unplaced Tiles (Staging)"}),a.jsx("span",{className:"text-[10px] bg-slate-200 text-slate-600 px-1.5 py-0.5 rounded-full font-bold",children:b.length})]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:b.map(v=>a.jsx("div",{className:"w-[70px] h-[70px] relative shadow-sm rounded overflow-hidden bg-white",children:a.jsx(tf,{tile:v,isSelected:o===v.id,onClick:()=>l(v),onDelete:()=>u(v.id)})},v.id))}),a.jsx("p",{className:"mt-3 text-[10px] text-slate-400 italic text-center",children:"Drag these onto the grid to place them"})]})]})})};function Vf(n){return typeof n>"u"||n===null}function Fg(n){return typeof n=="object"&&n!==null}function Pg(n){return Array.isArray(n)?n:Vf(n)?[]:[n]}function zg(n,l){var o,d,u,f;if(l)for(f=Object.keys(l),o=0,d=f.length;o<d;o+=1)u=f[o],n[u]=l[u];return n}function Ig(n,l){var o="",d;for(d=0;d<l;d+=1)o+=n;return o}function Hg(n){return n===0&&Number.NEGATIVE_INFINITY===1/n}var Ug=Vf,Bg=Fg,$g=Pg,Vg=Ig,Wg=Hg,Yg=zg,Ye={isNothing:Ug,isObject:Bg,toArray:$g,repeat:Vg,isNegativeZero:Wg,extend:Yg};function Wf(n,l){var o="",d=n.reason||"(unknown reason)";return n.mark?(n.mark.name&&(o+='in "'+n.mark.name+'" '),o+="("+(n.mark.line+1)+":"+(n.mark.column+1)+")",!l&&n.mark.snippet&&(o+=`

`+n.mark.snippet),d+" "+o):d}function Gl(n,l){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=l,this.message=Wf(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Gl.prototype=Object.create(Error.prototype);Gl.prototype.constructor=Gl;Gl.prototype.toString=function(l){return this.name+": "+Wf(this,l)};var ht=Gl;function ba(n,l,o,d,u){var f="",h="",p=Math.floor(u/2)-1;return d-l>p&&(f=" ... ",l=d-p+f.length),o-d>p&&(h=" ...",o=d+p-h.length),{str:f+n.slice(l,o).replace(/\t/g,"")+h,pos:d-l+f.length}}function ka(n,l){return Ye.repeat(" ",l-n.length)+n}function Kg(n,l){if(l=Object.create(l||null),!n.buffer)return null;l.maxLength||(l.maxLength=79),typeof l.indent!="number"&&(l.indent=1),typeof l.linesBefore!="number"&&(l.linesBefore=3),typeof l.linesAfter!="number"&&(l.linesAfter=2);for(var o=/\r?\n|\r|\0/g,d=[0],u=[],f,h=-1;f=o.exec(n.buffer);)u.push(f.index),d.push(f.index+f[0].length),n.position<=f.index&&h<0&&(h=d.length-2);h<0&&(h=d.length-1);var p="",m,y,b=Math.min(n.line+l.linesAfter,u.length).toString().length,v=l.maxLength-(l.indent+b+3);for(m=1;m<=l.linesBefore&&!(h-m<0);m++)y=ba(n.buffer,d[h-m],u[h-m],n.position-(d[h]-d[h-m]),v),p=Ye.repeat(" ",l.indent)+ka((n.line-m+1).toString(),b)+" | "+y.str+`
`+p;for(y=ba(n.buffer,d[h],u[h],n.position,v),p+=Ye.repeat(" ",l.indent)+ka((n.line+1).toString(),b)+" | "+y.str+`
`,p+=Ye.repeat("-",l.indent+b+3+y.pos)+`^
`,m=1;m<=l.linesAfter&&!(h+m>=u.length);m++)y=ba(n.buffer,d[h+m],u[h+m],n.position-(d[h]-d[h+m]),v),p+=Ye.repeat(" ",l.indent)+ka((n.line+m+1).toString(),b)+" | "+y.str+`
`;return p.replace(/\n$/,"")}var Qg=Kg,Gg=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Xg=["scalar","sequence","mapping"];function qg(n){var l={};return n!==null&&Object.keys(n).forEach(function(o){n[o].forEach(function(d){l[String(d)]=o})}),l}function Zg(n,l){if(l=l||{},Object.keys(l).forEach(function(o){if(Gg.indexOf(o)===-1)throw new ht('Unknown option "'+o+'" is met in definition of "'+n+'" YAML type.')}),this.options=l,this.tag=n,this.kind=l.kind||null,this.resolve=l.resolve||function(){return!0},this.construct=l.construct||function(o){return o},this.instanceOf=l.instanceOf||null,this.predicate=l.predicate||null,this.represent=l.represent||null,this.representName=l.representName||null,this.defaultStyle=l.defaultStyle||null,this.multi=l.multi||!1,this.styleAliases=qg(l.styleAliases||null),Xg.indexOf(this.kind)===-1)throw new ht('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var Je=Zg;function nf(n,l){var o=[];return n[l].forEach(function(d){var u=o.length;o.forEach(function(f,h){f.tag===d.tag&&f.kind===d.kind&&f.multi===d.multi&&(u=h)}),o[u]=d}),o}function Jg(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},l,o;function d(u){u.multi?(n.multi[u.kind].push(u),n.multi.fallback.push(u)):n[u.kind][u.tag]=n.fallback[u.tag]=u}for(l=0,o=arguments.length;l<o;l+=1)arguments[l].forEach(d);return n}function Ra(n){return this.extend(n)}Ra.prototype.extend=function(l){var o=[],d=[];if(l instanceof Je)d.push(l);else if(Array.isArray(l))d=d.concat(l);else if(l&&(Array.isArray(l.implicit)||Array.isArray(l.explicit)))l.implicit&&(o=o.concat(l.implicit)),l.explicit&&(d=d.concat(l.explicit));else throw new ht("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");o.forEach(function(f){if(!(f instanceof Je))throw new ht("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(f.loadKind&&f.loadKind!=="scalar")throw new ht("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(f.multi)throw new ht("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),d.forEach(function(f){if(!(f instanceof Je))throw new ht("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var u=Object.create(Ra.prototype);return u.implicit=(this.implicit||[]).concat(o),u.explicit=(this.explicit||[]).concat(d),u.compiledImplicit=nf(u,"implicit"),u.compiledExplicit=nf(u,"explicit"),u.compiledTypeMap=Jg(u.compiledImplicit,u.compiledExplicit),u};var Yf=Ra,Kf=new Je("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),Qf=new Je("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),Gf=new Je("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),Xf=new Yf({explicit:[Kf,Qf,Gf]});function ex(n){if(n===null)return!0;var l=n.length;return l===1&&n==="~"||l===4&&(n==="null"||n==="Null"||n==="NULL")}function tx(){return null}function nx(n){return n===null}var qf=new Je("tag:yaml.org,2002:null",{kind:"scalar",resolve:ex,construct:tx,predicate:nx,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function rx(n){if(n===null)return!1;var l=n.length;return l===4&&(n==="true"||n==="True"||n==="TRUE")||l===5&&(n==="false"||n==="False"||n==="FALSE")}function lx(n){return n==="true"||n==="True"||n==="TRUE"}function ix(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var Zf=new Je("tag:yaml.org,2002:bool",{kind:"scalar",resolve:rx,construct:lx,predicate:ix,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function ox(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function sx(n){return 48<=n&&n<=55}function ax(n){return 48<=n&&n<=57}function ux(n){if(n===null)return!1;var l=n.length,o=0,d=!1,u;if(!l)return!1;if(u=n[o],(u==="-"||u==="+")&&(u=n[++o]),u==="0"){if(o+1===l)return!0;if(u=n[++o],u==="b"){for(o++;o<l;o++)if(u=n[o],u!=="_"){if(u!=="0"&&u!=="1")return!1;d=!0}return d&&u!=="_"}if(u==="x"){for(o++;o<l;o++)if(u=n[o],u!=="_"){if(!ox(n.charCodeAt(o)))return!1;d=!0}return d&&u!=="_"}if(u==="o"){for(o++;o<l;o++)if(u=n[o],u!=="_"){if(!sx(n.charCodeAt(o)))return!1;d=!0}return d&&u!=="_"}}if(u==="_")return!1;for(;o<l;o++)if(u=n[o],u!=="_"){if(!ax(n.charCodeAt(o)))return!1;d=!0}return!(!d||u==="_")}function cx(n){var l=n,o=1,d;if(l.indexOf("_")!==-1&&(l=l.replace(/_/g,"")),d=l[0],(d==="-"||d==="+")&&(d==="-"&&(o=-1),l=l.slice(1),d=l[0]),l==="0")return 0;if(d==="0"){if(l[1]==="b")return o*parseInt(l.slice(2),2);if(l[1]==="x")return o*parseInt(l.slice(2),16);if(l[1]==="o")return o*parseInt(l.slice(2),8)}return o*parseInt(l,10)}function dx(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!Ye.isNegativeZero(n)}var Jf=new Je("tag:yaml.org,2002:int",{kind:"scalar",resolve:ux,construct:cx,predicate:dx,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),fx=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function px(n){return!(n===null||!fx.test(n)||n[n.length-1]==="_")}function hx(n){var l,o;return l=n.replace(/_/g,"").toLowerCase(),o=l[0]==="-"?-1:1,"+-".indexOf(l[0])>=0&&(l=l.slice(1)),l===".inf"?o===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:l===".nan"?NaN:o*parseFloat(l,10)}var mx=/^[-+]?[0-9]+e/;function gx(n,l){var o;if(isNaN(n))switch(l){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(l){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(l){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ye.isNegativeZero(n))return"-0.0";return o=n.toString(10),mx.test(o)?o.replace("e",".e"):o}function xx(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||Ye.isNegativeZero(n))}var ep=new Je("tag:yaml.org,2002:float",{kind:"scalar",resolve:px,construct:hx,predicate:xx,represent:gx,defaultStyle:"lowercase"}),tp=Xf.extend({implicit:[qf,Zf,Jf,ep]}),np=tp,rp=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),lp=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function vx(n){return n===null?!1:rp.exec(n)!==null||lp.exec(n)!==null}function yx(n){var l,o,d,u,f,h,p,m=0,y=null,b,v,k;if(l=rp.exec(n),l===null&&(l=lp.exec(n)),l===null)throw new Error("Date resolve error");if(o=+l[1],d=+l[2]-1,u=+l[3],!l[4])return new Date(Date.UTC(o,d,u));if(f=+l[4],h=+l[5],p=+l[6],l[7]){for(m=l[7].slice(0,3);m.length<3;)m+="0";m=+m}return l[9]&&(b=+l[10],v=+(l[11]||0),y=(b*60+v)*6e4,l[9]==="-"&&(y=-y)),k=new Date(Date.UTC(o,d,u,f,h,p,m)),y&&k.setTime(k.getTime()-y),k}function wx(n){return n.toISOString()}var ip=new Je("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:vx,construct:yx,instanceOf:Date,represent:wx});function bx(n){return n==="<<"||n===null}var op=new Je("tag:yaml.org,2002:merge",{kind:"scalar",resolve:bx}),Ka=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function kx(n){if(n===null)return!1;var l,o,d=0,u=n.length,f=Ka;for(o=0;o<u;o++)if(l=f.indexOf(n.charAt(o)),!(l>64)){if(l<0)return!1;d+=6}return d%8===0}function Sx(n){var l,o,d=n.replace(/[\r\n=]/g,""),u=d.length,f=Ka,h=0,p=[];for(l=0;l<u;l++)l%4===0&&l&&(p.push(h>>16&255),p.push(h>>8&255),p.push(h&255)),h=h<<6|f.indexOf(d.charAt(l));return o=u%4*6,o===0?(p.push(h>>16&255),p.push(h>>8&255),p.push(h&255)):o===18?(p.push(h>>10&255),p.push(h>>2&255)):o===12&&p.push(h>>4&255),new Uint8Array(p)}function jx(n){var l="",o=0,d,u,f=n.length,h=Ka;for(d=0;d<f;d++)d%3===0&&d&&(l+=h[o>>18&63],l+=h[o>>12&63],l+=h[o>>6&63],l+=h[o&63]),o=(o<<8)+n[d];return u=f%3,u===0?(l+=h[o>>18&63],l+=h[o>>12&63],l+=h[o>>6&63],l+=h[o&63]):u===2?(l+=h[o>>10&63],l+=h[o>>4&63],l+=h[o<<2&63],l+=h[64]):u===1&&(l+=h[o>>2&63],l+=h[o<<4&63],l+=h[64],l+=h[64]),l}function Nx(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var sp=new Je("tag:yaml.org,2002:binary",{kind:"scalar",resolve:kx,construct:Sx,predicate:Nx,represent:jx}),Cx=Object.prototype.hasOwnProperty,Ex=Object.prototype.toString;function _x(n){if(n===null)return!0;var l=[],o,d,u,f,h,p=n;for(o=0,d=p.length;o<d;o+=1){if(u=p[o],h=!1,Ex.call(u)!=="[object Object]")return!1;for(f in u)if(Cx.call(u,f))if(!h)h=!0;else return!1;if(!h)return!1;if(l.indexOf(f)===-1)l.push(f);else return!1}return!0}function Ax(n){return n!==null?n:[]}var ap=new Je("tag:yaml.org,2002:omap",{kind:"sequence",resolve:_x,construct:Ax}),Dx=Object.prototype.toString;function Rx(n){if(n===null)return!0;var l,o,d,u,f,h=n;for(f=new Array(h.length),l=0,o=h.length;l<o;l+=1){if(d=h[l],Dx.call(d)!=="[object Object]"||(u=Object.keys(d),u.length!==1))return!1;f[l]=[u[0],d[u[0]]]}return!0}function Lx(n){if(n===null)return[];var l,o,d,u,f,h=n;for(f=new Array(h.length),l=0,o=h.length;l<o;l+=1)d=h[l],u=Object.keys(d),f[l]=[u[0],d[u[0]]];return f}var up=new Je("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Rx,construct:Lx}),Ox=Object.prototype.hasOwnProperty;function Tx(n){if(n===null)return!0;var l,o=n;for(l in o)if(Ox.call(o,l)&&o[l]!==null)return!1;return!0}function Mx(n){return n!==null?n:{}}var cp=new Je("tag:yaml.org,2002:set",{kind:"mapping",resolve:Tx,construct:Mx}),Qa=np.extend({implicit:[ip,op],explicit:[sp,ap,up,cp]}),tr=Object.prototype.hasOwnProperty,yo=1,dp=2,fp=3,wo=4,Sa=1,Fx=2,rf=3,Px=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,zx=/[\x85\u2028\u2029]/,Ix=/[,\[\]\{\}]/,pp=/^(?:!|!!|![a-z\-]+!)$/i,hp=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function lf(n){return Object.prototype.toString.call(n)}function hn(n){return n===10||n===13}function wr(n){return n===9||n===32}function St(n){return n===9||n===32||n===10||n===13}function Qr(n){return n===44||n===91||n===93||n===123||n===125}function Hx(n){var l;return 48<=n&&n<=57?n-48:(l=n|32,97<=l&&l<=102?l-97+10:-1)}function Ux(n){return n===120?2:n===117?4:n===85?8:0}function Bx(n){return 48<=n&&n<=57?n-48:-1}function of(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?"":n===76?"\u2028":n===80?"\u2029":""}function $x(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}function mp(n,l,o){l==="__proto__"?Object.defineProperty(n,l,{configurable:!0,enumerable:!0,writable:!0,value:o}):n[l]=o}var gp=new Array(256),xp=new Array(256);for(var Yr=0;Yr<256;Yr++)gp[Yr]=of(Yr)?1:0,xp[Yr]=of(Yr);function Vx(n,l){this.input=n,this.filename=l.filename||null,this.schema=l.schema||Qa,this.onWarning=l.onWarning||null,this.legacy=l.legacy||!1,this.json=l.json||!1,this.listener=l.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function vp(n,l){var o={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return o.snippet=Qg(o),new ht(l,o)}function te(n,l){throw vp(n,l)}function bo(n,l){n.onWarning&&n.onWarning.call(null,vp(n,l))}var sf={YAML:function(l,o,d){var u,f,h;l.version!==null&&te(l,"duplication of %YAML directive"),d.length!==1&&te(l,"YAML directive accepts exactly one argument"),u=/^([0-9]+)\.([0-9]+)$/.exec(d[0]),u===null&&te(l,"ill-formed argument of the YAML directive"),f=parseInt(u[1],10),h=parseInt(u[2],10),f!==1&&te(l,"unacceptable YAML version of the document"),l.version=d[0],l.checkLineBreaks=h<2,h!==1&&h!==2&&bo(l,"unsupported YAML version of the document")},TAG:function(l,o,d){var u,f;d.length!==2&&te(l,"TAG directive accepts exactly two arguments"),u=d[0],f=d[1],pp.test(u)||te(l,"ill-formed tag handle (first argument) of the TAG directive"),tr.call(l.tagMap,u)&&te(l,'there is a previously declared suffix for "'+u+'" tag handle'),hp.test(f)||te(l,"ill-formed tag prefix (second argument) of the TAG directive");try{f=decodeURIComponent(f)}catch{te(l,"tag prefix is malformed: "+f)}l.tagMap[u]=f}};function Zn(n,l,o,d){var u,f,h,p;if(l<o){if(p=n.input.slice(l,o),d)for(u=0,f=p.length;u<f;u+=1)h=p.charCodeAt(u),h===9||32<=h&&h<=1114111||te(n,"expected valid JSON character");else Px.test(p)&&te(n,"the stream contains non-printable characters");n.result+=p}}function af(n,l,o,d){var u,f,h,p;for(Ye.isObject(o)||te(n,"cannot merge mappings; the provided source object is unacceptable"),u=Object.keys(o),h=0,p=u.length;h<p;h+=1)f=u[h],tr.call(l,f)||(mp(l,f,o[f]),d[f]=!0)}function Gr(n,l,o,d,u,f,h,p,m){var y,b;if(Array.isArray(u))for(u=Array.prototype.slice.call(u),y=0,b=u.length;y<b;y+=1)Array.isArray(u[y])&&te(n,"nested arrays are not supported inside keys"),typeof u=="object"&&lf(u[y])==="[object Object]"&&(u[y]="[object Object]");if(typeof u=="object"&&lf(u)==="[object Object]"&&(u="[object Object]"),u=String(u),l===null&&(l={}),d==="tag:yaml.org,2002:merge")if(Array.isArray(f))for(y=0,b=f.length;y<b;y+=1)af(n,l,f[y],o);else af(n,l,f,o);else!n.json&&!tr.call(o,u)&&tr.call(l,u)&&(n.line=h||n.line,n.lineStart=p||n.lineStart,n.position=m||n.position,te(n,"duplicated mapping key")),mp(l,u,f),delete o[u];return l}function Ga(n){var l;l=n.input.charCodeAt(n.position),l===10?n.position++:l===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):te(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function Be(n,l,o){for(var d=0,u=n.input.charCodeAt(n.position);u!==0;){for(;wr(u);)u===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),u=n.input.charCodeAt(++n.position);if(l&&u===35)do u=n.input.charCodeAt(++n.position);while(u!==10&&u!==13&&u!==0);if(hn(u))for(Ga(n),u=n.input.charCodeAt(n.position),d++,n.lineIndent=0;u===32;)n.lineIndent++,u=n.input.charCodeAt(++n.position);else break}return o!==-1&&d!==0&&n.lineIndent<o&&bo(n,"deficient indentation"),d}function Do(n){var l=n.position,o;return o=n.input.charCodeAt(l),!!((o===45||o===46)&&o===n.input.charCodeAt(l+1)&&o===n.input.charCodeAt(l+2)&&(l+=3,o=n.input.charCodeAt(l),o===0||St(o)))}function Xa(n,l){l===1?n.result+=" ":l>1&&(n.result+=Ye.repeat(`
`,l-1))}function Wx(n,l,o){var d,u,f,h,p,m,y,b,v=n.kind,k=n.result,x;if(x=n.input.charCodeAt(n.position),St(x)||Qr(x)||x===35||x===38||x===42||x===33||x===124||x===62||x===39||x===34||x===37||x===64||x===96||(x===63||x===45)&&(u=n.input.charCodeAt(n.position+1),St(u)||o&&Qr(u)))return!1;for(n.kind="scalar",n.result="",f=h=n.position,p=!1;x!==0;){if(x===58){if(u=n.input.charCodeAt(n.position+1),St(u)||o&&Qr(u))break}else if(x===35){if(d=n.input.charCodeAt(n.position-1),St(d))break}else{if(n.position===n.lineStart&&Do(n)||o&&Qr(x))break;if(hn(x))if(m=n.line,y=n.lineStart,b=n.lineIndent,Be(n,!1,-1),n.lineIndent>=l){p=!0,x=n.input.charCodeAt(n.position);continue}else{n.position=h,n.line=m,n.lineStart=y,n.lineIndent=b;break}}p&&(Zn(n,f,h,!1),Xa(n,n.line-m),f=h=n.position,p=!1),wr(x)||(h=n.position+1),x=n.input.charCodeAt(++n.position)}return Zn(n,f,h,!1),n.result?!0:(n.kind=v,n.result=k,!1)}function Yx(n,l){var o,d,u;if(o=n.input.charCodeAt(n.position),o!==39)return!1;for(n.kind="scalar",n.result="",n.position++,d=u=n.position;(o=n.input.charCodeAt(n.position))!==0;)if(o===39)if(Zn(n,d,n.position,!0),o=n.input.charCodeAt(++n.position),o===39)d=n.position,n.position++,u=n.position;else return!0;else hn(o)?(Zn(n,d,u,!0),Xa(n,Be(n,!1,l)),d=u=n.position):n.position===n.lineStart&&Do(n)?te(n,"unexpected end of the document within a single quoted scalar"):(n.position++,u=n.position);te(n,"unexpected end of the stream within a single quoted scalar")}function Kx(n,l){var o,d,u,f,h,p;if(p=n.input.charCodeAt(n.position),p!==34)return!1;for(n.kind="scalar",n.result="",n.position++,o=d=n.position;(p=n.input.charCodeAt(n.position))!==0;){if(p===34)return Zn(n,o,n.position,!0),n.position++,!0;if(p===92){if(Zn(n,o,n.position,!0),p=n.input.charCodeAt(++n.position),hn(p))Be(n,!1,l);else if(p<256&&gp[p])n.result+=xp[p],n.position++;else if((h=Ux(p))>0){for(u=h,f=0;u>0;u--)p=n.input.charCodeAt(++n.position),(h=Hx(p))>=0?f=(f<<4)+h:te(n,"expected hexadecimal character");n.result+=$x(f),n.position++}else te(n,"unknown escape sequence");o=d=n.position}else hn(p)?(Zn(n,o,d,!0),Xa(n,Be(n,!1,l)),o=d=n.position):n.position===n.lineStart&&Do(n)?te(n,"unexpected end of the document within a double quoted scalar"):(n.position++,d=n.position)}te(n,"unexpected end of the stream within a double quoted scalar")}function Qx(n,l){var o=!0,d,u,f,h=n.tag,p,m=n.anchor,y,b,v,k,x,j=Object.create(null),S,D,z,A;if(A=n.input.charCodeAt(n.position),A===91)b=93,x=!1,p=[];else if(A===123)b=125,x=!0,p={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=p),A=n.input.charCodeAt(++n.position);A!==0;){if(Be(n,!0,l),A=n.input.charCodeAt(n.position),A===b)return n.position++,n.tag=h,n.anchor=m,n.kind=x?"mapping":"sequence",n.result=p,!0;o?A===44&&te(n,"expected the node content, but found ','"):te(n,"missed comma between flow collection entries"),D=S=z=null,v=k=!1,A===63&&(y=n.input.charCodeAt(n.position+1),St(y)&&(v=k=!0,n.position++,Be(n,!0,l))),d=n.line,u=n.lineStart,f=n.position,Jr(n,l,yo,!1,!0),D=n.tag,S=n.result,Be(n,!0,l),A=n.input.charCodeAt(n.position),(k||n.line===d)&&A===58&&(v=!0,A=n.input.charCodeAt(++n.position),Be(n,!0,l),Jr(n,l,yo,!1,!0),z=n.result),x?Gr(n,p,j,D,S,z,d,u,f):v?p.push(Gr(n,null,j,D,S,z,d,u,f)):p.push(S),Be(n,!0,l),A=n.input.charCodeAt(n.position),A===44?(o=!0,A=n.input.charCodeAt(++n.position)):o=!1}te(n,"unexpected end of the stream within a flow collection")}function Gx(n,l){var o,d,u=Sa,f=!1,h=!1,p=l,m=0,y=!1,b,v;if(v=n.input.charCodeAt(n.position),v===124)d=!1;else if(v===62)d=!0;else return!1;for(n.kind="scalar",n.result="";v!==0;)if(v=n.input.charCodeAt(++n.position),v===43||v===45)Sa===u?u=v===43?rf:Fx:te(n,"repeat of a chomping mode identifier");else if((b=Bx(v))>=0)b===0?te(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):h?te(n,"repeat of an indentation width identifier"):(p=l+b-1,h=!0);else break;if(wr(v)){do v=n.input.charCodeAt(++n.position);while(wr(v));if(v===35)do v=n.input.charCodeAt(++n.position);while(!hn(v)&&v!==0)}for(;v!==0;){for(Ga(n),n.lineIndent=0,v=n.input.charCodeAt(n.position);(!h||n.lineIndent<p)&&v===32;)n.lineIndent++,v=n.input.charCodeAt(++n.position);if(!h&&n.lineIndent>p&&(p=n.lineIndent),hn(v)){m++;continue}if(n.lineIndent<p){u===rf?n.result+=Ye.repeat(`
`,f?1+m:m):u===Sa&&f&&(n.result+=`
`);break}for(d?wr(v)?(y=!0,n.result+=Ye.repeat(`
`,f?1+m:m)):y?(y=!1,n.result+=Ye.repeat(`
`,m+1)):m===0?f&&(n.result+=" "):n.result+=Ye.repeat(`
`,m):n.result+=Ye.repeat(`
`,f?1+m:m),f=!0,h=!0,m=0,o=n.position;!hn(v)&&v!==0;)v=n.input.charCodeAt(++n.position);Zn(n,o,n.position,!1)}return!0}function uf(n,l){var o,d=n.tag,u=n.anchor,f=[],h,p=!1,m;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=f),m=n.input.charCodeAt(n.position);m!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,te(n,"tab characters must not be used in indentation")),!(m!==45||(h=n.input.charCodeAt(n.position+1),!St(h))));){if(p=!0,n.position++,Be(n,!0,-1)&&n.lineIndent<=l){f.push(null),m=n.input.charCodeAt(n.position);continue}if(o=n.line,Jr(n,l,fp,!1,!0),f.push(n.result),Be(n,!0,-1),m=n.input.charCodeAt(n.position),(n.line===o||n.lineIndent>l)&&m!==0)te(n,"bad indentation of a sequence entry");else if(n.lineIndent<l)break}return p?(n.tag=d,n.anchor=u,n.kind="sequence",n.result=f,!0):!1}function Xx(n,l,o){var d,u,f,h,p,m,y=n.tag,b=n.anchor,v={},k=Object.create(null),x=null,j=null,S=null,D=!1,z=!1,A;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=v),A=n.input.charCodeAt(n.position);A!==0;){if(!D&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,te(n,"tab characters must not be used in indentation")),d=n.input.charCodeAt(n.position+1),f=n.line,(A===63||A===58)&&St(d))A===63?(D&&(Gr(n,v,k,x,j,null,h,p,m),x=j=S=null),z=!0,D=!0,u=!0):D?(D=!1,u=!0):te(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,A=d;else{if(h=n.line,p=n.lineStart,m=n.position,!Jr(n,o,dp,!1,!0))break;if(n.line===f){for(A=n.input.charCodeAt(n.position);wr(A);)A=n.input.charCodeAt(++n.position);if(A===58)A=n.input.charCodeAt(++n.position),St(A)||te(n,"a whitespace character is expected after the key-value separator within a block mapping"),D&&(Gr(n,v,k,x,j,null,h,p,m),x=j=S=null),z=!0,D=!1,u=!1,x=n.tag,j=n.result;else if(z)te(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=y,n.anchor=b,!0}else if(z)te(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=y,n.anchor=b,!0}if((n.line===f||n.lineIndent>l)&&(D&&(h=n.line,p=n.lineStart,m=n.position),Jr(n,l,wo,!0,u)&&(D?j=n.result:S=n.result),D||(Gr(n,v,k,x,j,S,h,p,m),x=j=S=null),Be(n,!0,-1),A=n.input.charCodeAt(n.position)),(n.line===f||n.lineIndent>l)&&A!==0)te(n,"bad indentation of a mapping entry");else if(n.lineIndent<l)break}return D&&Gr(n,v,k,x,j,null,h,p,m),z&&(n.tag=y,n.anchor=b,n.kind="mapping",n.result=v),z}function qx(n){var l,o=!1,d=!1,u,f,h;if(h=n.input.charCodeAt(n.position),h!==33)return!1;if(n.tag!==null&&te(n,"duplication of a tag property"),h=n.input.charCodeAt(++n.position),h===60?(o=!0,h=n.input.charCodeAt(++n.position)):h===33?(d=!0,u="!!",h=n.input.charCodeAt(++n.position)):u="!",l=n.position,o){do h=n.input.charCodeAt(++n.position);while(h!==0&&h!==62);n.position<n.length?(f=n.input.slice(l,n.position),h=n.input.charCodeAt(++n.position)):te(n,"unexpected end of the stream within a verbatim tag")}else{for(;h!==0&&!St(h);)h===33&&(d?te(n,"tag suffix cannot contain exclamation marks"):(u=n.input.slice(l-1,n.position+1),pp.test(u)||te(n,"named tag handle cannot contain such characters"),d=!0,l=n.position+1)),h=n.input.charCodeAt(++n.position);f=n.input.slice(l,n.position),Ix.test(f)&&te(n,"tag suffix cannot contain flow indicator characters")}f&&!hp.test(f)&&te(n,"tag name cannot contain such characters: "+f);try{f=decodeURIComponent(f)}catch{te(n,"tag name is malformed: "+f)}return o?n.tag=f:tr.call(n.tagMap,u)?n.tag=n.tagMap[u]+f:u==="!"?n.tag="!"+f:u==="!!"?n.tag="tag:yaml.org,2002:"+f:te(n,'undeclared tag handle "'+u+'"'),!0}function Zx(n){var l,o;if(o=n.input.charCodeAt(n.position),o!==38)return!1;for(n.anchor!==null&&te(n,"duplication of an anchor property"),o=n.input.charCodeAt(++n.position),l=n.position;o!==0&&!St(o)&&!Qr(o);)o=n.input.charCodeAt(++n.position);return n.position===l&&te(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(l,n.position),!0}function Jx(n){var l,o,d;if(d=n.input.charCodeAt(n.position),d!==42)return!1;for(d=n.input.charCodeAt(++n.position),l=n.position;d!==0&&!St(d)&&!Qr(d);)d=n.input.charCodeAt(++n.position);return n.position===l&&te(n,"name of an alias node must contain at least one character"),o=n.input.slice(l,n.position),tr.call(n.anchorMap,o)||te(n,'unidentified alias "'+o+'"'),n.result=n.anchorMap[o],Be(n,!0,-1),!0}function Jr(n,l,o,d,u){var f,h,p,m=1,y=!1,b=!1,v,k,x,j,S,D;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,f=h=p=wo===o||fp===o,d&&Be(n,!0,-1)&&(y=!0,n.lineIndent>l?m=1:n.lineIndent===l?m=0:n.lineIndent<l&&(m=-1)),m===1)for(;qx(n)||Zx(n);)Be(n,!0,-1)?(y=!0,p=f,n.lineIndent>l?m=1:n.lineIndent===l?m=0:n.lineIndent<l&&(m=-1)):p=!1;if(p&&(p=y||u),(m===1||wo===o)&&(yo===o||dp===o?S=l:S=l+1,D=n.position-n.lineStart,m===1?p&&(uf(n,D)||Xx(n,D,S))||Qx(n,S)?b=!0:(h&&Gx(n,S)||Yx(n,S)||Kx(n,S)?b=!0:Jx(n)?(b=!0,(n.tag!==null||n.anchor!==null)&&te(n,"alias node should not have any properties")):Wx(n,S,yo===o)&&(b=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):m===0&&(b=p&&uf(n,D))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&te(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),v=0,k=n.implicitTypes.length;v<k;v+=1)if(j=n.implicitTypes[v],j.resolve(n.result)){n.result=j.construct(n.result),n.tag=j.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(tr.call(n.typeMap[n.kind||"fallback"],n.tag))j=n.typeMap[n.kind||"fallback"][n.tag];else for(j=null,x=n.typeMap.multi[n.kind||"fallback"],v=0,k=x.length;v<k;v+=1)if(n.tag.slice(0,x[v].tag.length)===x[v].tag){j=x[v];break}j||te(n,"unknown tag !<"+n.tag+">"),n.result!==null&&j.kind!==n.kind&&te(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+j.kind+'", not "'+n.kind+'"'),j.resolve(n.result,n.tag)?(n.result=j.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):te(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||b}function ev(n){var l=n.position,o,d,u,f=!1,h;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(h=n.input.charCodeAt(n.position))!==0&&(Be(n,!0,-1),h=n.input.charCodeAt(n.position),!(n.lineIndent>0||h!==37));){for(f=!0,h=n.input.charCodeAt(++n.position),o=n.position;h!==0&&!St(h);)h=n.input.charCodeAt(++n.position);for(d=n.input.slice(o,n.position),u=[],d.length<1&&te(n,"directive name must not be less than one character in length");h!==0;){for(;wr(h);)h=n.input.charCodeAt(++n.position);if(h===35){do h=n.input.charCodeAt(++n.position);while(h!==0&&!hn(h));break}if(hn(h))break;for(o=n.position;h!==0&&!St(h);)h=n.input.charCodeAt(++n.position);u.push(n.input.slice(o,n.position))}h!==0&&Ga(n),tr.call(sf,d)?sf[d](n,d,u):bo(n,'unknown document directive "'+d+'"')}if(Be(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,Be(n,!0,-1)):f&&te(n,"directives end mark is expected"),Jr(n,n.lineIndent-1,wo,!1,!0),Be(n,!0,-1),n.checkLineBreaks&&zx.test(n.input.slice(l,n.position))&&bo(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&Do(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,Be(n,!0,-1));return}if(n.position<n.length-1)te(n,"end of the stream or a document separator is expected");else return}function yp(n,l){n=String(n),l=l||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var o=new Vx(n,l),d=n.indexOf("\0");for(d!==-1&&(o.position=d,te(o,"null byte is not allowed in input")),o.input+="\0";o.input.charCodeAt(o.position)===32;)o.lineIndent+=1,o.position+=1;for(;o.position<o.length-1;)ev(o);return o.documents}function tv(n,l,o){l!==null&&typeof l=="object"&&typeof o>"u"&&(o=l,l=null);var d=yp(n,o);if(typeof l!="function")return d;for(var u=0,f=d.length;u<f;u+=1)l(d[u])}function nv(n,l){var o=yp(n,l);if(o.length!==0){if(o.length===1)return o[0];throw new ht("expected a single document in the stream, but found more")}}var rv=tv,lv=nv,wp={loadAll:rv,load:lv},bp=Object.prototype.toString,kp=Object.prototype.hasOwnProperty,qa=65279,iv=9,Xl=10,ov=13,sv=32,av=33,uv=34,La=35,cv=37,dv=38,fv=39,pv=42,Sp=44,hv=45,ko=58,mv=61,gv=62,xv=63,vv=64,jp=91,Np=93,yv=96,Cp=123,wv=124,Ep=125,ct={};ct[0]="\\0";ct[7]="\\a";ct[8]="\\b";ct[9]="\\t";ct[10]="\\n";ct[11]="\\v";ct[12]="\\f";ct[13]="\\r";ct[27]="\\e";ct[34]='\\"';ct[92]="\\\\";ct[133]="\\N";ct[160]="\\_";ct[8232]="\\L";ct[8233]="\\P";var bv=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],kv=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Sv(n,l){var o,d,u,f,h,p,m;if(l===null)return{};for(o={},d=Object.keys(l),u=0,f=d.length;u<f;u+=1)h=d[u],p=String(l[h]),h.slice(0,2)==="!!"&&(h="tag:yaml.org,2002:"+h.slice(2)),m=n.compiledTypeMap.fallback[h],m&&kp.call(m.styleAliases,p)&&(p=m.styleAliases[p]),o[h]=p;return o}function jv(n){var l,o,d;if(l=n.toString(16).toUpperCase(),n<=255)o="x",d=2;else if(n<=65535)o="u",d=4;else if(n<=4294967295)o="U",d=8;else throw new ht("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+o+Ye.repeat("0",d-l.length)+l}var Nv=1,ql=2;function Cv(n){this.schema=n.schema||Qa,this.indent=Math.max(1,n.indent||2),this.noArrayIndent=n.noArrayIndent||!1,this.skipInvalid=n.skipInvalid||!1,this.flowLevel=Ye.isNothing(n.flowLevel)?-1:n.flowLevel,this.styleMap=Sv(this.schema,n.styles||null),this.sortKeys=n.sortKeys||!1,this.lineWidth=n.lineWidth||80,this.noRefs=n.noRefs||!1,this.noCompatMode=n.noCompatMode||!1,this.condenseFlow=n.condenseFlow||!1,this.quotingType=n.quotingType==='"'?ql:Nv,this.forceQuotes=n.forceQuotes||!1,this.replacer=typeof n.replacer=="function"?n.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function cf(n,l){for(var o=Ye.repeat(" ",l),d=0,u=-1,f="",h,p=n.length;d<p;)u=n.indexOf(`
`,d),u===-1?(h=n.slice(d),d=p):(h=n.slice(d,u+1),d=u+1),h.length&&h!==`
`&&(f+=o),f+=h;return f}function Oa(n,l){return`
`+Ye.repeat(" ",n.indent*l)}function Ev(n,l){var o,d,u;for(o=0,d=n.implicitTypes.length;o<d;o+=1)if(u=n.implicitTypes[o],u.resolve(l))return!0;return!1}function So(n){return n===sv||n===iv}function Zl(n){return 32<=n&&n<=126||161<=n&&n<=55295&&n!==8232&&n!==8233||57344<=n&&n<=65533&&n!==qa||65536<=n&&n<=1114111}function df(n){return Zl(n)&&n!==qa&&n!==ov&&n!==Xl}function ff(n,l,o){var d=df(n),u=d&&!So(n);return(o?d:d&&n!==Sp&&n!==jp&&n!==Np&&n!==Cp&&n!==Ep)&&n!==La&&!(l===ko&&!u)||df(l)&&!So(l)&&n===La||l===ko&&u}function _v(n){return Zl(n)&&n!==qa&&!So(n)&&n!==hv&&n!==xv&&n!==ko&&n!==Sp&&n!==jp&&n!==Np&&n!==Cp&&n!==Ep&&n!==La&&n!==dv&&n!==pv&&n!==av&&n!==wv&&n!==mv&&n!==gv&&n!==fv&&n!==uv&&n!==cv&&n!==vv&&n!==yv}function Av(n){return!So(n)&&n!==ko}function Bl(n,l){var o=n.charCodeAt(l),d;return o>=55296&&o<=56319&&l+1<n.length&&(d=n.charCodeAt(l+1),d>=56320&&d<=57343)?(o-55296)*1024+d-56320+65536:o}function _p(n){var l=/^\n* /;return l.test(n)}var Ap=1,Ta=2,Dp=3,Rp=4,Kr=5;function Dv(n,l,o,d,u,f,h,p){var m,y=0,b=null,v=!1,k=!1,x=d!==-1,j=-1,S=_v(Bl(n,0))&&Av(Bl(n,n.length-1));if(l||h)for(m=0;m<n.length;y>=65536?m+=2:m++){if(y=Bl(n,m),!Zl(y))return Kr;S=S&&ff(y,b,p),b=y}else{for(m=0;m<n.length;y>=65536?m+=2:m++){if(y=Bl(n,m),y===Xl)v=!0,x&&(k=k||m-j-1>d&&n[j+1]!==" ",j=m);else if(!Zl(y))return Kr;S=S&&ff(y,b,p),b=y}k=k||x&&m-j-1>d&&n[j+1]!==" "}return!v&&!k?S&&!h&&!u(n)?Ap:f===ql?Kr:Ta:o>9&&_p(n)?Kr:h?f===ql?Kr:Ta:k?Rp:Dp}function Rv(n,l,o,d,u){n.dump=(function(){if(l.length===0)return n.quotingType===ql?'""':"''";if(!n.noCompatMode&&(bv.indexOf(l)!==-1||kv.test(l)))return n.quotingType===ql?'"'+l+'"':"'"+l+"'";var f=n.indent*Math.max(1,o),h=n.lineWidth===-1?-1:Math.max(Math.min(n.lineWidth,40),n.lineWidth-f),p=d||n.flowLevel>-1&&o>=n.flowLevel;function m(y){return Ev(n,y)}switch(Dv(l,p,n.indent,h,m,n.quotingType,n.forceQuotes&&!d,u)){case Ap:return l;case Ta:return"'"+l.replace(/'/g,"''")+"'";case Dp:return"|"+pf(l,n.indent)+hf(cf(l,f));case Rp:return">"+pf(l,n.indent)+hf(cf(Lv(l,h),f));case Kr:return'"'+Ov(l)+'"';default:throw new ht("impossible error: invalid scalar style")}})()}function pf(n,l){var o=_p(n)?String(l):"",d=n[n.length-1]===`
`,u=d&&(n[n.length-2]===`
`||n===`
`),f=u?"+":d?"":"-";return o+f+`
`}function hf(n){return n[n.length-1]===`
`?n.slice(0,-1):n}function Lv(n,l){for(var o=/(\n+)([^\n]*)/g,d=(function(){var y=n.indexOf(`
`);return y=y!==-1?y:n.length,o.lastIndex=y,mf(n.slice(0,y),l)})(),u=n[0]===`
`||n[0]===" ",f,h;h=o.exec(n);){var p=h[1],m=h[2];f=m[0]===" ",d+=p+(!u&&!f&&m!==""?`
`:"")+mf(m,l),u=f}return d}function mf(n,l){if(n===""||n[0]===" ")return n;for(var o=/ [^ ]/g,d,u=0,f,h=0,p=0,m="";d=o.exec(n);)p=d.index,p-u>l&&(f=h>u?h:p,m+=`
`+n.slice(u,f),u=f+1),h=p;return m+=`
`,n.length-u>l&&h>u?m+=n.slice(u,h)+`
`+n.slice(h+1):m+=n.slice(u),m.slice(1)}function Ov(n){for(var l="",o=0,d,u=0;u<n.length;o>=65536?u+=2:u++)o=Bl(n,u),d=ct[o],!d&&Zl(o)?(l+=n[u],o>=65536&&(l+=n[u+1])):l+=d||jv(o);return l}function Tv(n,l,o){var d="",u=n.tag,f,h,p;for(f=0,h=o.length;f<h;f+=1)p=o[f],n.replacer&&(p=n.replacer.call(o,String(f),p)),(En(n,l,p,!1,!1)||typeof p>"u"&&En(n,l,null,!1,!1))&&(d!==""&&(d+=","+(n.condenseFlow?"":" ")),d+=n.dump);n.tag=u,n.dump="["+d+"]"}function gf(n,l,o,d){var u="",f=n.tag,h,p,m;for(h=0,p=o.length;h<p;h+=1)m=o[h],n.replacer&&(m=n.replacer.call(o,String(h),m)),(En(n,l+1,m,!0,!0,!1,!0)||typeof m>"u"&&En(n,l+1,null,!0,!0,!1,!0))&&((!d||u!=="")&&(u+=Oa(n,l)),n.dump&&Xl===n.dump.charCodeAt(0)?u+="-":u+="- ",u+=n.dump);n.tag=f,n.dump=u||"[]"}function Mv(n,l,o){var d="",u=n.tag,f=Object.keys(o),h,p,m,y,b;for(h=0,p=f.length;h<p;h+=1)b="",d!==""&&(b+=", "),n.condenseFlow&&(b+='"'),m=f[h],y=o[m],n.replacer&&(y=n.replacer.call(o,m,y)),En(n,l,m,!1,!1)&&(n.dump.length>1024&&(b+="? "),b+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),En(n,l,y,!1,!1)&&(b+=n.dump,d+=b));n.tag=u,n.dump="{"+d+"}"}function Fv(n,l,o,d){var u="",f=n.tag,h=Object.keys(o),p,m,y,b,v,k;if(n.sortKeys===!0)h.sort();else if(typeof n.sortKeys=="function")h.sort(n.sortKeys);else if(n.sortKeys)throw new ht("sortKeys must be a boolean or a function");for(p=0,m=h.length;p<m;p+=1)k="",(!d||u!=="")&&(k+=Oa(n,l)),y=h[p],b=o[y],n.replacer&&(b=n.replacer.call(o,y,b)),En(n,l+1,y,!0,!0,!0)&&(v=n.tag!==null&&n.tag!=="?"||n.dump&&n.dump.length>1024,v&&(n.dump&&Xl===n.dump.charCodeAt(0)?k+="?":k+="? "),k+=n.dump,v&&(k+=Oa(n,l)),En(n,l+1,b,!0,v)&&(n.dump&&Xl===n.dump.charCodeAt(0)?k+=":":k+=": ",k+=n.dump,u+=k));n.tag=f,n.dump=u||"{}"}function xf(n,l,o){var d,u,f,h,p,m;for(u=o?n.explicitTypes:n.implicitTypes,f=0,h=u.length;f<h;f+=1)if(p=u[f],(p.instanceOf||p.predicate)&&(!p.instanceOf||typeof l=="object"&&l instanceof p.instanceOf)&&(!p.predicate||p.predicate(l))){if(o?p.multi&&p.representName?n.tag=p.representName(l):n.tag=p.tag:n.tag="?",p.represent){if(m=n.styleMap[p.tag]||p.defaultStyle,bp.call(p.represent)==="[object Function]")d=p.represent(l,m);else if(kp.call(p.represent,m))d=p.represent[m](l,m);else throw new ht("!<"+p.tag+'> tag resolver accepts not "'+m+'" style');n.dump=d}return!0}return!1}function En(n,l,o,d,u,f,h){n.tag=null,n.dump=o,xf(n,o,!1)||xf(n,o,!0);var p=bp.call(n.dump),m=d,y;d&&(d=n.flowLevel<0||n.flowLevel>l);var b=p==="[object Object]"||p==="[object Array]",v,k;if(b&&(v=n.duplicates.indexOf(o),k=v!==-1),(n.tag!==null&&n.tag!=="?"||k||n.indent!==2&&l>0)&&(u=!1),k&&n.usedDuplicates[v])n.dump="*ref_"+v;else{if(b&&k&&!n.usedDuplicates[v]&&(n.usedDuplicates[v]=!0),p==="[object Object]")d&&Object.keys(n.dump).length!==0?(Fv(n,l,n.dump,u),k&&(n.dump="&ref_"+v+n.dump)):(Mv(n,l,n.dump),k&&(n.dump="&ref_"+v+" "+n.dump));else if(p==="[object Array]")d&&n.dump.length!==0?(n.noArrayIndent&&!h&&l>0?gf(n,l-1,n.dump,u):gf(n,l,n.dump,u),k&&(n.dump="&ref_"+v+n.dump)):(Tv(n,l,n.dump),k&&(n.dump="&ref_"+v+" "+n.dump));else if(p==="[object String]")n.tag!=="?"&&Rv(n,n.dump,l,f,m);else{if(p==="[object Undefined]")return!1;if(n.skipInvalid)return!1;throw new ht("unacceptable kind of an object to dump "+p)}n.tag!==null&&n.tag!=="?"&&(y=encodeURI(n.tag[0]==="!"?n.tag.slice(1):n.tag).replace(/!/g,"%21"),n.tag[0]==="!"?y="!"+y:y.slice(0,18)==="tag:yaml.org,2002:"?y="!!"+y.slice(18):y="!<"+y+">",n.dump=y+" "+n.dump)}return!0}function Pv(n,l){var o=[],d=[],u,f;for(Ma(n,o,d),u=0,f=d.length;u<f;u+=1)l.duplicates.push(o[d[u]]);l.usedDuplicates=new Array(f)}function Ma(n,l,o){var d,u,f;if(n!==null&&typeof n=="object")if(u=l.indexOf(n),u!==-1)o.indexOf(u)===-1&&o.push(u);else if(l.push(n),Array.isArray(n))for(u=0,f=n.length;u<f;u+=1)Ma(n[u],l,o);else for(d=Object.keys(n),u=0,f=d.length;u<f;u+=1)Ma(n[d[u]],l,o)}function zv(n,l){l=l||{};var o=new Cv(l);o.noRefs||Pv(n,o);var d=n;return o.replacer&&(d=o.replacer.call({"":d},"",d)),En(o,0,d,!0,!0)?o.dump+`
`:""}var Iv=zv,Hv={dump:Iv};function Za(n,l){return function(){throw new Error("Function yaml."+n+" is removed in js-yaml 4. Use yaml."+l+" instead, which is now safe by default.")}}var Uv=Je,Bv=Yf,$v=Xf,Vv=tp,Wv=np,Yv=Qa,Kv=wp.load,Qv=wp.loadAll,Lp=Hv.dump,Gv=ht,Xv={binary:sp,float:ep,map:Gf,null:qf,pairs:up,set:cp,timestamp:ip,bool:Zf,int:Jf,merge:op,omap:ap,seq:Qf,str:Kf},qv=Za("safeLoad","load"),Zv=Za("safeLoadAll","loadAll"),Jv=Za("safeDump","dump"),Op={Type:Uv,Schema:Bv,FAILSAFE_SCHEMA:$v,JSON_SCHEMA:Vv,CORE_SCHEMA:Wv,DEFAULT_SCHEMA:Yv,load:Kv,loadAll:Qv,dump:Lp,YAMLException:Gv,types:Xv,safeLoad:qv,safeLoadAll:Zv,safeDump:Jv};const $l=n=>{if(typeof n=="string")return n;if(Array.isArray(n))return{operator:"OR",conditions:n.map($l)};if(typeof n=="object"&&n!==null){if(n.or)return{operator:"OR",conditions:n.or.map($l)};if(n.and)return{operator:"AND",conditions:n.and.map($l)};if(n.not)return{operator:"NOT",conditions:[$l(n.not)]}}return n},Zr=(n,l=!1)=>{const o=n.pages.map(u=>({id:u.id,rows:u.rows,cols:u.cols,flags:u.flags&&u.flags.length>0?u.flags:void 0,tiles:u.tiles.filter(f=>f.x<u.cols&&f.y<u.rows).map(({id:f,...h})=>{const p={...h};l&&(p.__id=f),Array.isArray(p.display)&&p.display.length,Object.keys(p).forEach(y=>{(p[y]===void 0||p[y]===""||Array.isArray(p[y])&&p[y].length===0)&&delete p[y]}),p.requires_fast_refresh&&(p.requires_fast_refresh=$l(p.requires_fast_refresh)),Array.isArray(p.display)&&(p.display=p.display.map(y=>{if(typeof y=="object"){const b=Object.keys(y)[0],k={...y[b]};return["color","size"].forEach(x=>{if(k[x]){const j=k[x];typeof j=="string"&&!j.startsWith("id(")&&!j.startsWith("Color::")&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(j)&&(k[x]=`id(${j})`)}}),{[b]:k}}return y}));const m=p.type;return delete p.type,{[m]:p}})}));return Op.dump({screens:o},{lineWidth:-1,noCompatMode:!0,sortKeys:!1}).replace(/icon:\s*['"]?(\\U[0-9a-fA-F]+)['"]?/g,`icon: '"$1"'`)},ey=({config:n,activePageId:l,selectedTileId:o,onCopyYaml:d})=>{const u=N.useRef(null),f=N.useRef(null),h=N.useRef(null),{lines:p,activeRange:m,selectedTileRange:y}=N.useMemo(()=>{const v=Zr(n,!0).split(`
`);let k=-1,x=-1;const j=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),S=new RegExp(`^\\s*-\\s*id:\\s*(["']?)${j}\\1\\s*$`);for(let A=0;A<v.length;A++)if(k===-1)S.test(v[A])&&(k=A);else{const P=v[A];if(P.trim().startsWith("- id:")){x=A;break}if(P.length>0&&!P.startsWith(" ")&&!P.startsWith("-")){x=A;break}}k!==-1&&x===-1&&(x=v.length);let D=-1,z=-1;if(o){const A=new RegExp(`^\\s*__id:\\s*(["']?)${o}\\1\\s*$`);for(let P=k;P<x;P++)if(A.test(v[P])){const $=v[P].search(/\S/);for(let V=P;V>=k;V--){const T=v[V].search(/\S/);if(v[V].trim().startsWith("-")&&T<$){D=V;break}}if(D!==-1){const V=v[D].search(/\S/);for(let T=D+1;T<x;T++){if(v[T].trim().length===0)continue;const W=v[T].search(/\S/);if(W<V){z=T;break}if(W===V){z=T;break}}}z===-1&&(z=x);break}}return{lines:v,activeRange:{start:k,end:x},selectedTileRange:{start:D,end:z}}},[n,l,o]);return N.useEffect(()=>{const b=o&&h.current?h.current:f.current;b&&u.current&&setTimeout(()=>{b.scrollIntoView({behavior:"smooth",block:"center"})},100)},[l,o,m.start,y.start]),a.jsxs("div",{className:"absolute inset-0 overflow-hidden bg-slate-50",children:[a.jsx("div",{className:"absolute top-4 right-6 z-10",children:a.jsxs("button",{onClick:d,className:"flex items-center gap-2 bg-slate-900/90 text-white px-3 py-1.5 rounded hover:bg-slate-800 text-xs font-medium transition-colors shadow-lg backdrop-blur-sm",children:[a.jsx(kf,{size:14})," Copy YAML"]})}),a.jsx("div",{className:"h-full p-4 overflow-auto",ref:u,children:a.jsx("div",{className:"font-mono text-sm",children:p.map((b,v)=>{const k=b.trim();if(k.startsWith("__id:")||k.startsWith("- __id:"))return null;const x=v>=m.start&&v<m.end,j=v>=y.start&&v<y.end,S=v===m.start,D=v===y.start;return a.jsx("div",{ref:D?h:S?f:null,className:`${j?"bg-blue-200 border-l-4 border-blue-600 -ml-1":x?"bg-blue-50":""} px-2 whitespace-pre-wrap transition-colors duration-200`,children:b||`
`},v)})})})]})},ty=({activeTab:n,setActiveTab:l,isValidating:o,validationStatus:d,isGenerating:u,activePage:f,config:h,selectedTileId:p,setSelectedTileId:m,handleDragEnd:y,handleDeleteTile:b,activePageId:v,generationOutput:k,onGenerate:x,onCopyYaml:j})=>a.jsxs("div",{className:"flex-1 bg-slate-100 flex flex-col relative min-w-0",children:[a.jsxs("div",{className:"bg-white border-b px-4 flex items-center justify-between h-12 flex-shrink-0",children:[a.jsxs("div",{className:"flex gap-4 h-full",children:[a.jsxs("button",{className:`px-2 text-sm font-medium border-b-2 flex items-center gap-2 h-full ${n==="visual"?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,onClick:()=>l("visual"),children:[a.jsx(ja,{size:16})," Visual Editor"]}),a.jsxs("button",{className:`px-2 text-sm font-medium border-b-2 flex items-center gap-2 h-full ${n==="yaml"?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,onClick:()=>l("yaml"),children:[a.jsx(jo,{size:16})," YAML Preview"]}),a.jsxs("button",{className:`px-2 text-sm font-medium border-b-2 flex items-center gap-2 h-full ${n==="output"?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,onClick:()=>l("output"),children:[a.jsx(Ud,{size:16})," C++ Output"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[o&&a.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-[10px] font-bold uppercase tracking-wider",children:[a.jsx(fo,{size:12,className:"animate-spin"}),"Validating..."]}),d&&a.jsx("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded text-[10px] font-bold uppercase tracking-wider transition-colors ${d.success?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200 cursor-help"}`,title:d.error,onClick:()=>!d.success&&l("output"),children:d.success?a.jsxs(a.Fragment,{children:[a.jsx(Hd,{size:12})," Valid"]}):a.jsxs(a.Fragment,{children:[a.jsx(ga,{size:12})," Invalid"]})})]})]}),a.jsx("div",{className:"flex-1 overflow-hidden relative flex flex-col",children:n==="visual"?a.jsxs(a.Fragment,{children:[d&&!d.success&&a.jsxs("div",{className:"absolute top-0 left-0 right-0 z-50 bg-red-50 border-b border-red-200 px-4 py-2 flex items-center gap-2 text-red-700 text-xs cursor-pointer hover:bg-red-100 transition-colors shadow-sm",onClick:()=>l("output"),children:[a.jsx(ga,{size:14,className:"flex-shrink-0"}),a.jsx("span",{className:"font-bold uppercase tracking-tight",children:"Configuration Error:"}),a.jsx("span",{className:"font-medium",children:d.error}),a.jsx("span",{className:"ml-auto text-[10px] font-bold uppercase opacity-40",children:"Click for full output"})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-8 overflow-auto",children:a.jsx(Mg,{page:f,onSelectTile:S=>m(p===S.id?null:S.id),selectedTileId:p,onDragEnd:y,onDeleteTile:b,rows:f.rows,cols:f.cols})})]}):n==="yaml"?a.jsx(ey,{config:h,activePageId:v,selectedTileId:p,onCopyYaml:j}):a.jsxs("div",{className:"flex-1 p-6 overflow-auto bg-slate-900 text-slate-100 font-mono text-sm",children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-bold text-slate-300",children:"C++ Code Generation"}),a.jsxs("button",{onClick:x,disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg disabled:opacity-50 transition-all shadow-sm",children:[u?a.jsx(fo,{size:18,className:"animate-spin"}):a.jsx(Qm,{size:18,fill:"currentColor"}),a.jsx("span",{className:"font-bold text-sm",children:"Generate Code"})]})]}),!k&&!u&&a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500",children:[a.jsx(Ud,{size:48,className:"mb-4 opacity-20"}),a.jsx("p",{children:'Click "Generate Code" to validate and generate C++ code.'})]}),u&&a.jsxs("div",{className:"flex items-center gap-3 text-blue-400",children:[a.jsx(fo,{size:18,className:"animate-spin"}),a.jsx("span",{children:"Running Python generation script..."})]}),k&&a.jsx("div",{className:"space-y-4",children:k.error?a.jsxs("div",{className:"p-4 bg-red-900/30 border border-red-500/50 rounded-lg text-red-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 font-bold",children:[a.jsx(ga,{size:18}),a.jsx("span",{children:k.type==="validation_error"?"Validation Error":"Error"})]}),a.jsx("pre",{className:"whitespace-pre-wrap",children:k.error})]}):a.jsxs("div",{className:"p-4 bg-green-900/30 border border-green-500/50 rounded-lg text-green-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 font-bold",children:[a.jsx(Hd,{size:18}),a.jsx("span",{children:"Success"})]}),a.jsxs("p",{className:"mb-4",children:["Successfully generated ",k.cpp?.length," initialization blocks."]}),a.jsx("div",{className:"space-y-4",children:k.cpp?.map((S,D)=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-xs text-slate-400 uppercase tracking-wider",children:["Block ",D+1]}),a.jsx("pre",{className:"p-3 bg-black/40 rounded border border-white/10 whitespace-pre-wrap break-all",children:S})]},D))})]})})]})})]}),ny=({haStatus:n,connectionType:l,entityCount:o,onOpenSettings:d,onRefreshHa:u,canUndo:f,canRedo:h,onUndo:p,onRedo:m,onGenerate:y,onOpenFileManagement:b,isGenerating:v,updateAvailable:k})=>{const x=()=>n==="idle"?a.jsx(fo,{size:18,className:"animate-spin text-slate-400"}):n==="error"?a.jsx(Jm,{size:18,className:"text-red-500"}):n==="mock"?a.jsx(bf,{size:18,className:"text-amber-500"}):a.jsx(jf,{size:18,className:"text-emerald-500"}),j=()=>n==="idle"?"Connecting...":n==="error"?"Connection Error":l==="mock"?"Mock Data Mode":l==="local"?"Local HA Connected":"Remote HA Connected";return a.jsxs("div",{className:"h-14 border-b bg-white flex items-center justify-between px-4 flex-shrink-0 z-10 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded flex items-center justify-center text-slate-900 font-bold",children:"CYD"}),a.jsx("span",{className:"font-bold text-slate-700 hidden sm:inline",children:"Tiled Display"})]}),a.jsx("div",{className:"h-8 w-px bg-slate-200 hidden sm:block"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-50 rounded-full border border-slate-100",children:[x(),a.jsx("span",{className:"text-sm font-medium text-slate-600",children:j()}),a.jsx("button",{onClick:u,className:"ml-1 p-1 hover:bg-slate-200 rounded-full transition-colors text-slate-400 hover:text-slate-600",title:"Refresh Entities",children:a.jsx(Ia,{size:14,className:n==="idle"?"animate-spin":""})})]}),a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 rounded-full border border-blue-100 text-blue-700",children:[a.jsx(zm,{size:16}),a.jsxs("span",{className:"text-sm font-bold",children:[o," Entities"]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center bg-slate-100 rounded-lg p-1 mr-2",children:[a.jsx("button",{onClick:p,disabled:!f,className:"p-1.5 rounded hover:bg-white hover:shadow-sm disabled:opacity-30 transition-all",title:"Undo (Ctrl+Z)",children:a.jsx(e0,{size:18,className:"text-slate-600"})}),a.jsx("button",{onClick:m,disabled:!h,className:"p-1.5 rounded hover:bg-white hover:shadow-sm disabled:opacity-30 transition-all",title:"Redo (Ctrl+Y)",children:a.jsx(Gm,{size:18,className:"text-slate-600"})})]}),a.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white hover:bg-slate-50 text-slate-700 border border-slate-200 transition-all shadow-sm",title:"Manage Files (Local & HA)",children:[a.jsx(No,{size:18}),a.jsx("span",{className:"text-sm font-bold",children:"File Management"})]}),a.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-slate-100 text-slate-600 transition-colors relative",children:[a.jsx(Zm,{size:18}),a.jsx("span",{className:"text-sm font-medium hidden md:inline",children:"Settings"}),k&&a.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full border border-white"})]})]})]})},ry=({isOpen:n,onClose:l,connectionType:o,setConnectionType:d,haUrl:u,setHaUrl:f,haToken:h,setHaToken:p,onRefresh:m,onCheckLibStatus:y})=>{const[b,v]=N.useState(o),[k,x]=N.useState(u),[j,S]=N.useState(h),[D,z]=N.useState(null),[A,P]=N.useState(!1);if(N.useEffect(()=>{n&&(v(o),x(u),S(h),P(!1),yr&&Ue("/check_lib_status").then(T=>T.json()).then(T=>{z(T),y(T)}).catch(T=>console.error(T)))},[n,o,u,h]),!n)return null;const $=()=>{d(b),f(k),p(j),m(),l()},V=async()=>{if(confirm("This will update your /config/esphome/lib (with backup) and /config/esphome/custom_components/tile_ui (no backup). Continue?"))try{const T=await Ue("/update_lib",{method:"POST"});if(T.ok)alert("Library files and tile_ui component updated successfully!"),Ue("/check_lib_status").then(M=>M.json()).then(M=>{z(M),y(M),P(!1)}).catch(M=>console.error(M));else{const M=await T.json();alert("Failed to update: "+M.error)}}catch(T){alert("Error updating: "+T)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200 max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-slate-50 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xm,{className:"text-blue-600",size:20}),a.jsx("h2",{className:"font-bold text-slate-800",children:"HA Connection Settings"})]}),a.jsx("button",{onClick:l,className:"p-1 hover:bg-slate-200 rounded-full transition-colors",children:a.jsx(el,{size:20})})]}),a.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Connection Mode"}),a.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[yr&&a.jsxs("button",{onClick:()=>v("local"),className:`flex items-center gap-3 p-3 rounded-lg border-2 transition-all ${b==="local"?"border-blue-600 bg-blue-50 text-blue-700":"border-slate-100 hover:border-slate-200 text-slate-600"}`,children:[a.jsx(jf,{size:20}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-bold text-sm",children:"Local Home Assistant"}),a.jsx("div",{className:"text-[10px] opacity-70",children:"Use Supervisor API (Add-on mode)"})]})]}),a.jsxs("button",{onClick:()=>v("remote"),className:`flex items-center gap-3 p-3 rounded-lg border-2 transition-all ${b==="remote"?"border-blue-600 bg-blue-50 text-blue-700":"border-slate-100 hover:border-slate-200 text-slate-600"}`,children:[a.jsx(Wm,{size:20}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-bold text-sm",children:"Remote Home Assistant"}),a.jsx("div",{className:"text-[10px] opacity-70",children:"Connect via URL and Long-Lived Token"})]})]}),a.jsxs("button",{onClick:()=>v("mock"),className:`flex items-center gap-3 p-3 rounded-lg border-2 transition-all ${b==="mock"?"border-blue-600 bg-blue-50 text-blue-700":"border-slate-100 hover:border-slate-200 text-slate-600"}`,children:[a.jsx(bf,{size:20}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-bold text-sm",children:"Mock Data Mode"}),a.jsx("div",{className:"text-[10px] opacity-70",children:"Use sample entities for testing"})]})]})]})]}),b==="remote"&&a.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-lg border border-slate-100 animate-in slide-in-from-top-2 duration-200",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1.5",children:"HA URL"}),a.jsx("input",{type:"text",value:k,onChange:T=>x(T.target.value),placeholder:"http://homeassistant.local:8123",className:"w-full border-2 border-slate-200 rounded-lg p-2 text-sm focus:border-blue-500 outline-none transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1.5",children:"Long-Lived Token"}),a.jsx("input",{type:"password",value:j,onChange:T=>S(T.target.value),placeholder:"Paste your token here...",className:"w-full border-2 border-slate-200 rounded-lg p-2 text-sm focus:border-blue-500 outline-none transition-colors"})]})]}),yr&&a.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block",children:"Maintenance"}),D&&a.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${D.synced?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:D.synced?"Up to date":"Update Available"})]}),a.jsxs("button",{onClick:V,className:"w-full flex items-center justify-center gap-2 bg-amber-50 text-amber-800 border border-amber-200 p-3 rounded-lg text-sm font-bold hover:bg-amber-100 transition-colors relative",children:[a.jsx(Ia,{size:16})," Update HA Esphome files",D&&!D.synced&&a.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border border-white"})]}),D&&!D.synced&&D.details&&D.details.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsxs("button",{onClick:()=>P(!A),className:"flex items-center gap-1 text-[10px] font-bold text-slate-500 hover:text-slate-700 mx-auto",children:[A?a.jsx(Um,{size:12}):a.jsx(uo,{size:12}),A?"Hide Details":"Show Mismatched Files"]}),A&&a.jsx("div",{className:"mt-2 p-2 bg-slate-100 rounded text-[10px] font-mono text-slate-600 overflow-x-auto max-h-32 overflow-y-auto border border-slate-200",children:D.details.map((T,M)=>a.jsx("div",{className:T.startsWith("  -")?"pl-2 text-red-600":"font-bold text-slate-700 mt-1 first:mt-0",children:T},M))})]}),a.jsx("p",{className:"text-[10px] text-slate-400 mt-1 text-center",children:"Updates shared library files and tile_ui component"})]})]}),a.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-3 shrink-0",children:[a.jsx("button",{onClick:l,className:"px-4 py-2 text-sm font-bold text-slate-600 hover:bg-slate-200 rounded-lg transition-colors",children:"Close"}),a.jsx("button",{onClick:$,className:"px-4 py-2 text-sm font-bold bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-sm transition-all",children:"Apply & Refresh"})]})]})})},ly=({isOpen:n,onClose:l,onLoadLocal:o,onDownloadLocal:d,onOpenScreensFile:u,onSaveDevice:f,onLoadDevice:h,connectionType:p})=>{if(!n)return null;const m=yr;return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-slate-50",children:[a.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(No,{className:"text-blue-600",size:20}),"File Management"]}),a.jsx("button",{onClick:l,className:"p-1 hover:bg-slate-200 rounded-full transition-colors text-slate-500",children:a.jsx(el,{size:20})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:"Local Files"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>{o(),l()},className:"flex flex-col items-center justify-center gap-2 p-4 rounded-lg border-2 border-slate-100 hover:border-blue-500 hover:bg-blue-50 text-slate-600 hover:text-blue-700 transition-all group",children:[a.jsx(ho,{size:24,className:"text-slate-400 group-hover:text-blue-600 transition-colors"}),a.jsx("span",{className:"font-bold text-sm",children:"Load YAML"})]}),a.jsxs("button",{onClick:()=>{d(),l()},className:"flex flex-col items-center justify-center gap-2 p-4 rounded-lg border-2 border-slate-100 hover:border-blue-500 hover:bg-blue-50 text-slate-600 hover:text-blue-700 transition-all group",children:[a.jsx(kf,{size:24,className:"text-slate-400 group-hover:text-blue-600 transition-colors"}),a.jsx("span",{className:"font-bold text-sm",children:"Download YAML"})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"HA Server Files"}),!m&&a.jsx("span",{className:"text-[10px] font-bold bg-slate-100 text-slate-400 px-2 py-0.5 rounded",children:"Not Connected"})]}),a.jsxs("div",{className:`space-y-3 ${m?"":"opacity-50 pointer-events-none grayscale"}`,children:[a.jsxs("button",{onClick:()=>{u(),l()},className:"w-full flex items-center gap-3 p-3 rounded-lg border border-slate-200 hover:border-blue-400 hover:bg-blue-50 text-slate-700 transition-all group text-left",children:[a.jsx("div",{className:"p-2 bg-slate-100 rounded-lg group-hover:bg-white group-hover:shadow-sm transition-all",children:a.jsx(jo,{size:20,className:"text-slate-500 group-hover:text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-sm",children:"Manage Screens File"}),a.jsx("div",{className:"text-xs text-slate-500",children:"Save or load individual screen configurations"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>{f(),l()},className:"flex items-center gap-2 p-3 rounded-lg border border-slate-200 hover:border-indigo-400 hover:bg-indigo-50 text-slate-700 transition-all group text-left",children:[a.jsx("div",{className:"p-1.5 bg-slate-100 rounded group-hover:bg-white group-hover:shadow-sm transition-all",children:a.jsx(za,{size:16,className:"text-slate-500 group-hover:text-indigo-600"})}),a.jsx("span",{className:"font-bold text-xs",children:"Save Device"})]}),a.jsxs("button",{onClick:()=>{h(),l()},className:"flex items-center gap-2 p-3 rounded-lg border border-slate-200 hover:border-indigo-400 hover:bg-indigo-50 text-slate-700 transition-all group text-left",children:[a.jsx("div",{className:"p-1.5 bg-slate-100 rounded group-hover:bg-white group-hover:shadow-sm transition-all",children:a.jsx(ho,{size:16,className:"text-slate-500 group-hover:text-indigo-600"})}),a.jsx("span",{className:"font-bold text-xs",children:"Load Device"})]})]})]})]})]})]})})},Ja=({onSelect:n,onSelectDir:l,currentPath:o="",selectedPath:d="",allowCreateFolder:u=!0,filter:f})=>{const[h,p]=N.useState(o||""),[m,y]=N.useState([]),[b,v]=N.useState(!1),[k,x]=N.useState(null),[j,S]=N.useState(!1),[D,z]=N.useState(""),A=async M=>{v(!0),x(null);try{const W=await Ue(`/files?path=${encodeURIComponent(M)}`);if(W.ok){const Z=await W.json();let ie=Z.items;f&&(ie=ie.filter(f)),y(ie),p(Z.current_path)}else x("Failed to load files")}catch{x("Connection error")}finally{v(!1)}};N.useEffect(()=>{A(h)},[]);const P=async()=>{if(!D)return;const M=h?`${h}/${D}`:D;try{(await Ue("/mkdir",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:M})})).ok?(z(""),S(!1),A(h)):alert("Failed to create directory")}catch{alert("Error creating directory")}},$=M=>{A(M)},V=M=>{n(M)},T=()=>{const M=h.split("/").filter(Boolean);M.pop(),A(M.join("/"))};return a.jsxs("div",{className:"flex flex-col h-full bg-white border rounded-lg overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"bg-slate-50 p-2 border-b flex items-center gap-2 text-xs font-medium text-slate-600",children:[a.jsx("button",{onClick:()=>A(""),className:"p-1 hover:bg-slate-200 rounded transition-colors",children:a.jsx(Ym,{size:14})}),a.jsx("button",{onClick:T,disabled:!h,className:"p-1 hover:bg-slate-200 rounded disabled:opacity-30 transition-colors",children:a.jsx(Hm,{size:14})}),a.jsxs("div",{className:"flex-1 truncate bg-white border px-2 py-1 rounded text-[10px] font-mono",children:["/config/esphome/",h]}),a.jsxs("div",{className:"flex gap-1",children:[u&&a.jsx("button",{onClick:()=>S(!j),className:"p-1 bg-slate-200 text-slate-600 rounded hover:bg-slate-300 transition-colors",title:"New Folder",children:a.jsx($m,{size:14})}),l&&a.jsx("button",{onClick:()=>l(h),className:"px-2 py-1 bg-blue-600 text-white rounded text-[10px] font-bold hover:bg-blue-700 transition-colors",children:"Select Folder"})]})]}),j&&a.jsxs("div",{className:"p-2 border-b bg-blue-50 flex gap-2",children:[a.jsx("input",{type:"text",value:D,onChange:M=>z(M.target.value),placeholder:"Folder name...",className:"flex-1 px-2 py-1 text-xs border rounded outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0,onKeyDown:M=>M.key==="Enter"&&P()}),a.jsx("button",{onClick:P,className:"px-2 py-1 bg-blue-600 text-white rounded text-[10px] font-bold",children:"Create"}),a.jsx("button",{onClick:()=>S(!1),className:"px-2 py-1 bg-slate-200 text-slate-600 rounded text-[10px] font-bold",children:"Cancel"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:b?a.jsx("div",{className:"flex items-center justify-center h-32 text-slate-400 text-xs",children:"Loading..."}):k?a.jsx("div",{className:"p-4 text-red-500 text-xs text-center",children:k}):a.jsxs("div",{className:"space-y-0.5",children:[m.map(M=>a.jsxs("button",{onClick:()=>M.is_dir?$(M.path):V(M.path),className:`w-full flex items-center gap-2 p-2 rounded text-left transition-colors ${M.is_dir?"hover:bg-blue-50 text-slate-700":M.path===d?"bg-blue-100 text-blue-700 border border-blue-200":"hover:bg-slate-100 text-slate-600"}`,children:[M.is_dir?a.jsx(Vm,{size:14,className:"text-blue-500 fill-blue-50"}):a.jsx(Bm,{size:14,className:"text-slate-400"}),a.jsx("span",{className:"text-xs truncate flex-1",children:M.name}),M.is_dir&&a.jsx(co,{size:12,className:"text-slate-300"})]},M.path)),m.length===0&&a.jsx("div",{className:"p-8 text-center text-slate-400 text-xs italic",children:"Empty directory"})]})})]})},iy=({isOpen:n,onClose:l,onBack:o,onSave:d})=>{const[u,f]=N.useState(""),[h,p]=N.useState("2432s028"),[m,y]=N.useState(""),[b,v]=N.useState(""),[k,x]=N.useState(!1),j=()=>{const A=new Uint8Array(32);window.crypto.getRandomValues(A);let P="";for(let $=0;$<A.length;$++)P+=String.fromCharCode(A[$]);v(btoa(P))};if(kt.useEffect(()=>{n&&!b&&j()},[n]),!n)return null;const S=async A=>{try{const P=await Ue(`/load?path=${encodeURIComponent(A)}`);if(P.ok){const $=await P.json();let V=null;const T=$?.packages?.device_base;return typeof T=="string"&&(T.includes("2432s028")?V="2432s028":T.includes("3248s035")&&(V="3248s035")),{key:$?.api?.encryption?.key||null,deviceName:$?.substitutions?.device_name||null,screenType:V}}}catch(P){console.error("Error checking file",P)}return{key:null,deviceName:null,screenType:null}},D=async()=>{if(!u||!m||!b){alert("Please fill in all fields");return}const A=await S(m);if(A.key&&A.key!==b){alert(`Cannot overwrite file "${m}" because the Encryption Key does not match.

Existing key: ${A.key}
Current key: ${b}

Please restore the original key (by re-selecting the file) or choose a different filename.`);return}d(u,u,h,m,b),l()},z=A=>{const P=A.toLowerCase().replace(/[^a-z0-9_]/g,"_");f(P),(!m||m===`${u}.yaml`)&&y(`${P}.yaml`)};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[o&&a.jsx("button",{onClick:o,className:"p-1 hover:bg-slate-200 rounded-full transition-colors mr-1",children:a.jsx(Pa,{size:20,className:"text-slate-500"})}),a.jsx(za,{className:"text-blue-600",size:20}),a.jsx("h2",{className:"font-bold text-slate-800",children:"Save Device Configuration"})]}),a.jsx("button",{onClick:l,className:"p-1 hover:bg-slate-200 rounded-full transition-colors",children:a.jsx(el,{size:20})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1.5",children:"Device Name (ID)"}),a.jsx("input",{type:"text",value:u,onChange:A=>z(A.target.value),placeholder:"e.g. living_room_display",className:"w-full border-2 border-slate-200 rounded-lg p-2 text-sm focus:border-blue-500 outline-none transition-colors font-mono"}),a.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Used for esphome ID. Lowercase, no spaces."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1.5",children:"File Name"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:m,onChange:A=>y(A.target.value),placeholder:"e.g. living_room.yaml",className:"flex-1 border-2 border-slate-200 rounded-lg p-2 text-sm focus:border-blue-500 outline-none transition-colors font-mono"}),a.jsx("button",{onClick:()=>x(!k),className:`p-2 rounded-lg border-2 transition-colors ${k?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,title:"Browse files",children:a.jsx(No,{size:20})})]}),k&&a.jsx("div",{className:"mt-2 h-48 border rounded-lg overflow-hidden bg-white",children:a.jsx(Ja,{currentPath:m.includes("/")?m.split("/").slice(0,-1).join("/"):"",selectedPath:m,onSelect:async A=>{y(A),x(!1);const P=await S(A);P.key&&v(P.key),P.deviceName&&f(P.deviceName),P.screenType&&p(P.screenType)}})}),a.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"The filename to save in /config/esphome"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[a.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase",children:"Encryption Key"}),a.jsxs("button",{onClick:j,className:"text-[10px] text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[a.jsx(Ia,{size:10})," Regenerate"]})]}),a.jsx("input",{type:"text",value:b,onChange:A=>v(A.target.value),className:"w-full border-2 border-slate-200 rounded-lg p-2 text-sm focus:border-blue-500 outline-none transition-colors font-mono text-xs"}),a.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"32-byte base64-encoded key for API encryption"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1.5",children:"Screen Type"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("button",{onClick:()=>p("2432s028"),className:`p-3 rounded-lg border-2 text-left transition-all ${h==="2432s028"?"border-blue-600 bg-blue-50 text-blue-700":"border-slate-100 hover:border-slate-200 text-slate-600"}`,children:[a.jsx("div",{className:"font-bold text-sm",children:'2.8" Display'}),a.jsx("div",{className:"text-[10px] opacity-70",children:"2432s028 (Resistive)"})]}),a.jsxs("button",{onClick:()=>p("3248s035"),className:`p-3 rounded-lg border-2 text-left transition-all ${h==="3248s035"?"border-blue-600 bg-blue-50 text-blue-700":"border-slate-100 hover:border-slate-200 text-slate-600"}`,children:[a.jsx("div",{className:"font-bold text-sm",children:'3.5" Display'}),a.jsx("div",{className:"text-[10px] opacity-70",children:"3248s035 (Capacitive)"})]})]})]})]}),a.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-3",children:[a.jsx("button",{onClick:l,className:"px-4 py-2 text-sm font-bold text-slate-600 hover:bg-slate-200 rounded-lg transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:D,className:"px-4 py-2 text-sm font-bold bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-sm transition-all flex items-center gap-2",children:[a.jsx(Sf,{size:16})," Save Configuration"]})]})]})})},oy=({isOpen:n,onClose:l,onBack:o,onLoad:d})=>{const[u,f]=N.useState("");if(!n)return null;const h=()=>{u&&(d(u),l())};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[o&&a.jsx("button",{onClick:o,className:"p-1 hover:bg-slate-200 rounded-full transition-colors mr-1",children:a.jsx(Pa,{size:20,className:"text-slate-500"})}),a.jsx(za,{className:"text-blue-600",size:20}),a.jsx("h2",{className:"font-bold text-slate-800",children:"Load Device Configuration"})]}),a.jsx("button",{onClick:l,className:"p-1 hover:bg-slate-200 rounded-full transition-colors",children:a.jsx(el,{size:20})})]}),a.jsx("div",{className:"p-4 h-64",children:a.jsx(Ja,{onSelect:p=>f(p),selectedPath:u,allowCreateFolder:!1,filter:p=>!p.is_dir&&(p.name.endsWith(".yaml")||p.name.endsWith(".yml"))})}),a.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-2",children:[a.jsx("button",{onClick:l,className:"px-4 py-2 text-xs font-bold text-slate-600 hover:bg-slate-200 rounded transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:h,disabled:!u,className:"px-4 py-2 text-xs font-bold bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[a.jsx(ho,{size:14})," Load Configuration"]})]})]})})},sy=({isOpen:n,onClose:l,onBack:o,config:d,setConfig:u,onSave:f,onLoad:h})=>{const[p,m]=N.useState(!1);return n?a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[o&&a.jsx("button",{onClick:o,className:"p-1 hover:bg-slate-200 rounded-full transition-colors mr-1",children:a.jsx(Pa,{size:20,className:"text-slate-500"})}),a.jsx(jo,{className:"text-blue-600",size:20}),a.jsx("h2",{className:"font-bold text-slate-800",children:"Manage Screens File"})]}),a.jsx("button",{onClick:l,className:"p-1 hover:bg-slate-200 rounded-full transition-colors",children:a.jsx(el,{size:20})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1.5",children:"File Path"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:d.project_path||"monitor_config/tiles.yaml",onChange:y=>u({...d,project_path:y.target.value}),placeholder:"monitor_config/tiles.yaml",className:"flex-1 border border-slate-200 rounded p-1.5 text-xs font-mono focus:border-blue-500 outline-none transition-colors bg-white"}),a.jsx("button",{onClick:()=>m(!p),className:`p-1.5 rounded border transition-colors ${p?"bg-blue-600 text-white border-blue-700":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,title:"Browse files",children:a.jsx(No,{size:16})})]})]}),p&&a.jsx("div",{className:"h-48 border rounded overflow-hidden bg-white",children:a.jsx(Ja,{currentPath:d.project_path?.split("/").slice(0,-1).join("/"),selectedPath:d.project_path,onSelect:y=>{u({...d,project_path:y})},onSelectDir:y=>{const b=d.project_path?.split("/").pop()||"tiles.yaml",v=y?`${y}/${b}`:b;u({...d,project_path:v})}})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[a.jsxs("button",{onClick:()=>{f(),l()},className:"flex items-center justify-center gap-2 bg-blue-600 text-white border border-blue-700 p-3 rounded-lg text-sm font-bold hover:bg-blue-700 transition-colors shadow-sm",children:[a.jsx(Sf,{size:16})," Save to HA"]}),a.jsxs("button",{onClick:()=>{h(),l()},className:"flex items-center justify-center gap-2 bg-white text-slate-700 border border-slate-200 p-3 rounded-lg text-sm font-bold hover:bg-slate-50 transition-colors shadow-sm",children:[a.jsx(ho,{size:16})," Load from HA"]})]})]})]})}):null};function ay(){const[n,l]=N.useState(()=>{const m=localStorage.getItem("leftSidebarWidth");return m?parseInt(m,10):256}),[o,d]=N.useState(()=>{const m=localStorage.getItem("rightSidebarWidth");return m?parseInt(m,10):320}),[u,f]=N.useState(!1),[h,p]=N.useState(!1);return N.useEffect(()=>{localStorage.setItem("leftSidebarWidth",n.toString())},[n]),N.useEffect(()=>{localStorage.setItem("rightSidebarWidth",o.toString())},[o]),N.useEffect(()=>{const m=b=>{u?l(Math.max(200,Math.min(600,b.clientX))):h&&d(Math.max(200,Math.min(600,window.innerWidth-b.clientX)))},y=()=>{f(!1),p(!1)};return u||h?(document.addEventListener("mousemove",m),document.addEventListener("mouseup",y),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",y),document.body.style.cursor="",document.body.style.userSelect=""}},[u,h]),{leftSidebarWidth:n,rightSidebarWidth:o,setIsDraggingLeft:f,setIsDraggingRight:p,isDraggingLeft:u,isDraggingRight:h}}function uy(){const[n,l]=N.useState(()=>localStorage.getItem("ha_url")||"http://homeassistant.local:8123"),[o,d]=N.useState(()=>localStorage.getItem("ha_token")||""),[u,f]=N.useState(()=>{const x=localStorage.getItem("ha_connection_type");return yr?x==="remote"||x==="mock"?x:"local":x||(localStorage.getItem("ha_use_mock")==="true"?"mock":"remote")}),[h,p]=N.useState([]),[m,y]=N.useState("idle"),[b,v]=N.useState(0);N.useEffect(()=>{localStorage.setItem("ha_url",n),localStorage.setItem("ha_token",o),localStorage.setItem("ha_connection_type",u),localStorage.setItem("ha_use_mock",(u==="mock").toString())},[n,o,u]);const k=N.useCallback(async()=>{y("idle"),p([]);try{const x={};u==="mock"?x["x-ha-mock"]="true":u==="remote"&&(x["x-ha-url"]=n,x["x-ha-token"]=o);const j=await Ue("/ha/states",{headers:x});if(j.ok){const S=await j.json();if(Array.isArray(S)){const D=S.map(z=>({entity_id:z.entity_id,friendly_name:z.attributes?.friendly_name})).sort((z,A)=>z.entity_id.localeCompare(A.entity_id));p(D),y(u==="mock"?"mock":"connected")}else y("error")}else y("error")}catch(x){console.error("Failed to fetch HA entities",x),y("error")}},[n,o,u]);return N.useEffect(()=>{k()},[k,b]),{haUrl:n,setHaUrl:l,haToken:o,setHaToken:d,connectionType:u,setConnectionType:f,haEntities:h,haStatus:m,fetchHaEntities:()=>v(x=>x+1)}}const vf={project_path:"tiles.yaml",pages:[{id:"main_page",tiles:[],rows:2,cols:3}]};function cy(){const[n,l]=N.useState(()=>{const T=localStorage.getItem("tile_config");if(T){const M=JSON.parse(T);return M.rows&&M.cols&&M.pages&&(M.pages=(M.pages||[]).map(W=>({...W,rows:W.rows||M.rows,cols:W.cols||M.cols})),delete M.rows,delete M.cols),M}return vf}),[o,d]=N.useState([]),[u,f]=N.useState([]),h=N.useCallback((T,M=!0)=>{l(W=>{const Z=typeof T=="function"?T(W):T;return M&&(d(ie=>[...ie,W].slice(-50)),f([])),Z})},[]),p=N.useCallback(()=>{if(o.length===0)return;const T=o[o.length-1];d(M=>M.slice(0,-1)),f(M=>[n,...M]),l(T)},[o,n]),m=N.useCallback(()=>{if(u.length===0)return;const T=u[0];f(M=>M.slice(1)),d(M=>[...M,n]),l(T)},[u,n]),[y,b]=N.useState("main_page"),[v,k]=N.useState(null);N.useEffect(()=>{localStorage.setItem("tile_config",JSON.stringify(n))},[n]),N.useEffect(()=>{n.pages&&n.pages.length>0&&(n.pages.find(M=>M.id===y)||b(n.pages[0].id))},[n.pages,y]);const x=N.useMemo(()=>!n.pages||n.pages.length===0?{id:"default",tiles:[],rows:2,cols:3}:n.pages.find(T=>T.id===y)||n.pages[0],[n.pages,y]),j=N.useMemo(()=>x.tiles.find(T=>T.id===v)||null,[x.tiles,v]),S=T=>{let M=0,W=0,Z=!1;for(let ge=0;ge<x.rows;ge++){for(let he=0;he<x.cols;he++)if(!x.tiles.find(Se=>Se.x===he&&Se.y===ge)){M=he,W=ge,Z=!0;break}if(Z)break}Z||(M=-1,W=-1);const ie={id:Math.random().toString(36).substr(2,9),type:T,x:M,y:W,...T==="move_page"?{destination:"home"}:{},...T==="toggle_entity"?{dynamic_entity:"light",entity:"light.example"}:{},...T==="cycle_entity"?{dynamic_entity:"scene",options:[]}:{}},pe={...x,tiles:[...x.tiles,ie]};h({...n,pages:n.pages.map(ge=>ge.id===x.id?pe:ge)}),k(ie.id)},D=T=>{const M={...x,tiles:x.tiles.map(W=>W.id===T.id?T:W)};h({...n,pages:n.pages.map(W=>W.id===x.id?M:W)})},z=T=>{const M=T||v;if(!M)return;const W={...x,tiles:x.tiles.filter(Z=>Z.id!==M)};h({...n,pages:n.pages.map(Z=>Z.id===x.id?W:Z)}),v===M&&k(null)},A=T=>{if(n.pages.length<=1){alert("Cannot delete the last page.");return}if(confirm(`Are you sure you want to delete page "${T}"?`)){const M=n.pages.filter(W=>W.id!==T);h({...n,pages:M}),y===T&&b(M[0].id)}},P=T=>{h({...n,pages:n.pages.map(M=>M.id===T.id?T:M)})},$=()=>{confirm("Are you sure you want to clear the entire configuration? This cannot be undone.")&&(h(vf),b("main_page"),k(null),localStorage.removeItem("tile_config"))},V=T=>{const{active:M,over:W}=T;if(W&&M.id!==W.id){const Z=W.data.current;if(Z){const{x:ie,y:pe}=Z,ge=x.tiles.find(_e=>_e.id===M.id);if(!ge)return;let he=[...x.tiles];he=he.map(_e=>_e.id===ge.id?{..._e,x:ie,y:pe}:_e);const Se={...x,tiles:he};h({...n,pages:n.pages.map(_e=>_e.id===x.id?Se:_e)})}}};return{config:n,setConfig:h,undo:p,redo:m,canUndo:o.length>0,canRedo:u.length>0,activePageId:y,setActivePageId:b,selectedTileId:v,setSelectedTileId:k,activePage:x,selectedTile:j,handleAddTile:S,handleUpdateTile:D,handleDeleteTile:z,handleDeletePage:A,handleUpdatePage:P,handleClearConfig:$,handleDragEnd:V}}function dy(n){const[l,o]=N.useState(!1),[d,u]=N.useState(null),[f,h]=N.useState(!1),[p,m]=N.useState(null);return N.useEffect(()=>{const b=setTimeout(async()=>{o(!0);try{const v=Zr(n),x=await(await Ue("/generate",{method:"POST",headers:{"Content-Type":"application/yaml"},body:v})).json();x.error?u({success:!1,error:x.error}):u({success:!0})}catch{u({success:!1,error:"Connection error"})}finally{o(!1)}},1e3);return()=>clearTimeout(b)},[n]),{isValidating:l,validationStatus:d,isGenerating:f,generationOutput:p,handleGenerate:async b=>{h(!0),m(null),b&&b();try{const v=Zr(n),x=await(await Ue("/generate",{method:"POST",headers:{"Content-Type":"application/yaml"},body:v})).json();m(x)}catch(v){m({error:v.message,type:"network_error"})}finally{h(!1)}},setGenerationOutput:m}}const Tp=n=>{if(typeof n=="string")return n;if(typeof n=="object"&&n!==null&&n.operator&&n.conditions){const l=n.operator.toUpperCase(),o=n.conditions.map(Tp);if(l==="OR")return{or:o};if(l==="AND")return{and:o};if(l==="NOT")return{not:o[0]}}return n},fy=n=>{try{const l=Op.load(n);if(!l||!l.screens||!Array.isArray(l.screens))throw new Error("Invalid YAML: 'screens' array is missing.");const o=l.screens.map(u=>{const f=[];return u.tiles&&Array.isArray(u.tiles)&&u.tiles.forEach(h=>{const p=Object.keys(h)[0],m=h[p];p&&m&&(m.requires_fast_refresh&&(m.requires_fast_refresh=Tp(m.requires_fast_refresh)),Array.isArray(m.display)&&(m.display=m.display.map(y=>{if(typeof y=="object"){const b=Object.keys(y)[0],k={...y[b]};return["color","size"].forEach(x=>{typeof k[x]=="string"&&k[x].startsWith("id(")&&k[x].endsWith(")")&&(k[x]=k[x].substring(3,k[x].length-1))}),typeof k.icon=="string"&&k.icon.startsWith('"')&&k.icon.endsWith('"')&&(k.icon=k.icon.substring(1,k.icon.length-1)),{[b]:k}}return y})),f.push({id:Math.random().toString(36).substr(2,9),type:p,...m}))}),{id:u.id||"unknown",rows:u.rows||2,cols:u.cols||3,flags:u.flags||[],tiles:f}}),d=new Set;return o.forEach(u=>{u.tiles.forEach(f=>{f.dynamic_entity&&d.add(f.dynamic_entity),Array.isArray(f.entities)&&f.entities.forEach(h=>{typeof h=="object"&&h.dynamic_entity&&d.add(h.dynamic_entity)}),f.dynamic_entry&&f.dynamic_entry.dynamic_entity&&d.add(f.dynamic_entry.dynamic_entity)})}),{pages:o,dynamic_entities:Array.from(d)}}catch(l){throw console.error("YAML Parse Error",l),l}};function py(n,l,o,d){const u=N.useRef(null),f=N.useCallback(async()=>{try{const x=n.project_path||"monitor_config/tiles.yaml",j=await Ue("/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:n,path:x})});if(j.ok){const S=await j.json();alert(`Successfully saved to /config/esphome/${S.path}`),d&&d()}else{const S=await j.json();alert(`Failed to save: ${S.error}`)}}catch(x){console.error("Failed to save to HA:",x),alert("Failed to save to Home Assistant. Check console for details.")}},[n]),h=N.useCallback(async x=>{try{const j=x||n.project_path||"monitor_config/tiles.yaml",S=await Ue(`/load?path=${encodeURIComponent(j)}`);if(S.ok){const D=await S.json();if(!D||typeof D!="object"||!Array.isArray(D.pages)){alert("Failed to load: The file does not appear to be a valid tile configuration.");return}l({...D,project_path:j}),D.pages&&D.pages.length>0&&o(D.pages[0].id)}else{const D=await S.json();alert(`Failed to load: ${D.error||"Unknown error"}`)}}catch(j){console.error("Failed to load from HA:",j),alert("Failed to load from Home Assistant. Check console for details.")}},[n.project_path,l,o]),p=async()=>{const x=Zr(n);try{if(window.showSaveFilePicker){const S=await(await window.showSaveFilePicker({suggestedName:"monitor_tiles.yaml",types:[{description:"YAML File",accept:{"text/yaml":[".yaml",".yml"]}}]})).createWritable();await S.write(x),await S.close()}else{const j="data:text/yaml;charset=utf-8,"+encodeURIComponent(x),S=document.createElement("a");S.setAttribute("href",j),S.setAttribute("download","monitor_tiles.yaml"),document.body.appendChild(S),S.click(),S.remove()}}catch(j){console.error("Failed to save file:",j)}},m=async()=>yr?f():p(),y=x=>{const j=x.target.files?.[0];if(!j)return;const S=new FileReader;S.onload=D=>{try{const z=D.target?.result;try{const A=fy(z);l(A),o(A.pages[0]?.id||"main_page");return}catch{try{const P=JSON.parse(z);if(P.pages&&Array.isArray(P.pages))l(P),o(P.pages[0]?.id||"main_page");else throw new Error("Invalid JSON format")}catch{throw new Error("Failed to parse file as YAML or JSON")}}}catch(z){console.error(z),alert("Failed to parse project file. Please ensure it is a valid YAML or JSON file.")}},S.readAsText(j),x.target.value=""},b=()=>{const x=Zr(n);navigator.clipboard.writeText(x).then(()=>{alert("YAML configuration copied to clipboard!")}).catch(j=>{console.error("Failed to copy: ",j),alert("Failed to copy to clipboard. Check console for output.")})},v=N.useCallback(async(x,j,S,D,z)=>{try{let A="";try{const T=await Ue(`/load?path=${encodeURIComponent(D)}`);if(T.ok){const M=await T.json();M.wifi&&(A=Lp({wifi:M.wifi}))}}catch{}const P=Zr(n),$=`substitutions:
  device_name: "${x}"
  friendly_name: ${j}

packages:
  device_base: !include lib/${S}_base.yaml
  lib: !include lib/lib.yaml

esphome:
  name: $device_name
  friendly_name: $friendly_name

api:
  encryption:
    key: "${z}"

${A}
tile_ui:
${P.split("\\n").map(T=>"  "+T).join("\\n")}
`,V=await Ue("/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:$,path:D})});if(V.ok)alert(`Successfully saved device configuration to /config/esphome/${D}`),d&&d();else{const T=await V.json();alert(`Failed to save: ${T.error}`)}}catch(A){console.error("Failed to save device config:",A),alert("Failed to save device configuration. Check console for details.")}},[n]),k=N.useCallback(async x=>{try{const j=await Ue(`/load?path=${encodeURIComponent(x)}`);if(j.ok){const S=await j.json();if(S.tile_ui){const D=S.tile_ui.pages||S.tile_ui.screens;if(!D||!Array.isArray(D)){alert("Failed to load: The device configuration is missing valid tile_ui screens/pages.");return}let z=S.tile_ui;if(S.tile_ui.screens){const A=S.tile_ui.screens.map(P=>{const $=(P.tiles||[]).map(V=>{if(V.type)return V;const T=Object.keys(V)[0],M=V[T];return{id:Math.random().toString(36).substr(2,9),type:T,...M}});return{...P,tiles:$}});z={...S.tile_ui,pages:A},delete z.screens}l(z),z.pages.length>0&&o(z.pages[0].id),alert(`Successfully loaded device configuration from ${x}`)}else{if(!S||typeof S!="object"||!Array.isArray(S.pages)){alert("Failed to load: The file does not appear to be a valid device or tile configuration.");return}l(S),S.pages&&S.pages.length>0&&o(S.pages[0].id),alert(`Successfully loaded configuration from ${x}`)}}else{const S=await j.json();alert(`Failed to load: ${S.error||"Unknown error"}`)}}catch(j){console.error("Failed to load device config:",j),alert("Failed to load device configuration. Check console for details.")}},[l,o]);return{fileInputRef:u,handleSaveYaml:m,handleDownloadYaml:p,handleSaveToHa:f,handleLoadProject:y,handleExport:b,handleLoadFromHa:h,handleSaveDeviceConfig:v,handleLoadDeviceConfig:k}}const hy=n=>{if(n.title)return n.title;if(n.label)return n.label;if(n.presentation_name)return n.presentation_name;if(n.destination)return`To: ${n.destination}`;if(n.type==="ha_action"&&n.entities&&n.entities.length>0){const l=n.entities[0];return typeof l=="string"?l:l.entity||l.dynamic_entity||n.type}return n.type};function my(){const[n,l]=N.useState(null),[o,d]=N.useState("visual"),[u,f]=N.useState(!1),[h,p]=N.useState(!1),[m,y]=N.useState(!1),[b,v]=N.useState(!1),[k,x]=N.useState(!1),[j,S]=N.useState(!1),[D,z]=N.useState(!1),[A,P]=N.useState(!1),[$,V]=N.useState(!1),[T,M]=N.useState(!1),{leftSidebarWidth:W,rightSidebarWidth:Z,setIsDraggingLeft:ie,setIsDraggingRight:pe}=ay(),{haUrl:ge,setHaUrl:he,haToken:Se,setHaToken:_e,connectionType:Pe,setConnectionType:me,haEntities:Y,haStatus:ee,fetchHaEntities:K}=uy(),{config:_,setConfig:F,undo:le,redo:oe,canUndo:ce,canRedo:ae,activePageId:ve,setActivePageId:fe,selectedTileId:we,setSelectedTileId:ke,activePage:Vt,selectedTile:Tt,handleAddTile:mn,handleUpdateTile:Nt,handleDeleteTile:Wt,handleDeletePage:Yt,handleUpdatePage:_n,handleClearConfig:nr,handleDragEnd:gn}=cy(),{isValidating:et,validationStatus:Ct,isGenerating:Kt,generationOutput:rr,handleGenerate:An}=dy(_),Dn=De=>{if(De&&typeof De.synced=="boolean"){S(!De.synced);return}Ue("/check_lib_status").then(Me=>Me.json()).then(Me=>{Me&&typeof Me.synced=="boolean"&&S(!Me.synced)}).catch(Me=>console.error("Failed to check lib status",Me))},{fileInputRef:lr,handleSaveYaml:Mt,handleDownloadYaml:Et,handleLoadProject:on,handleExport:sn,handleLoadFromHa:tt,handleSaveDeviceConfig:br,handleLoadDeviceConfig:kr}=py(_,F,fe,Dn);N.useEffect(()=>{Ue("/schema").then(De=>De.json()).then(De=>l(De)).catch(De=>console.error("Failed to fetch schema",De)),Dn()},[]),N.useEffect(()=>{const De=Me=>{(Me.ctrlKey||Me.metaKey)&&Me.key==="z"?Me.shiftKey?oe():le():(Me.ctrlKey||Me.metaKey)&&Me.key==="y"&&oe()};return window.addEventListener("keydown",De),()=>window.removeEventListener("keydown",De)},[le,oe]);const ir=()=>{o==="output"&&d("visual")};return a.jsxs("div",{className:"flex flex-col h-screen w-full overflow-hidden bg-slate-50",children:[a.jsx(ny,{haStatus:ee,connectionType:Pe,entityCount:Y.length,onOpenSettings:()=>p(!0),onRefreshHa:K,canUndo:ce,canRedo:ae,onUndo:le,onRedo:oe,onGenerate:()=>An(()=>d("output")),onOpenFileManagement:()=>z(!0),isGenerating:Kt,updateAvailable:j}),a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[a.jsx(p0,{width:W,onSidebarClick:ir,isDynamicEntitiesOpen:m,setIsDynamicEntitiesOpen:y,config:_,setConfig:F,isAddTileOpen:b,setIsAddTileOpen:v,schema:n,handleAddTile:mn,isPagesOpen:k,setIsPagesOpen:x,activePageId:ve,setActivePageId:fe,handleDeletePage:Yt,selectedTileId:we,setSelectedTileId:ke,handleDeleteTile:Wt,getTileLabel:hy,setIsPageDialogOpen:f,fileInputRef:lr,handleLoadProject:on,handleClearConfig:nr}),a.jsx("div",{className:"w-1 bg-slate-200 hover:bg-blue-400 cursor-col-resize flex-shrink-0 transition-colors",onMouseDown:()=>ie(!0)}),a.jsx(ty,{activeTab:o,setActiveTab:d,isValidating:et,validationStatus:Ct,isGenerating:Kt,activePage:Vt,config:_,selectedTileId:we,setSelectedTileId:ke,handleDragEnd:gn,handleDeleteTile:Wt,activePageId:ve,generationOutput:rr,onGenerate:()=>An(()=>d("output")),onCopyYaml:sn}),a.jsx("div",{className:"w-1 bg-slate-200 hover:bg-blue-400 cursor-col-resize flex-shrink-0 transition-colors",onMouseDown:()=>pe(!0)}),a.jsx("div",{className:"bg-white border-l flex-shrink-0 h-full",style:{width:Z},onClick:ir,children:a.jsx(d0,{selectedTile:Tt,onUpdate:Nt,onDelete:Wt,config:_,schema:n,activePage:Vt,haEntities:Y,onUpdatePage:_n})})]}),a.jsx(f0,{isOpen:u,onClose:()=>f(!1),onAdd:De=>{F({..._,pages:[..._.pages,{id:De,tiles:[],rows:2,cols:3}]}),fe(De)},existingIds:_.pages.map(De=>De.id)}),a.jsx(ry,{isOpen:h,onClose:()=>p(!1),connectionType:Pe,setConnectionType:me,haUrl:ge,setHaUrl:he,haToken:Se,setHaToken:_e,onRefresh:K,onCheckLibStatus:Dn}),a.jsx(ly,{isOpen:D,onClose:()=>z(!1),onLoadLocal:()=>lr.current?.click(),onDownloadLocal:Et,onOpenScreensFile:()=>{z(!1),M(!0)},onSaveDevice:()=>{z(!1),P(!0)},onLoadDevice:()=>{z(!1),V(!0)},connectionType:Pe}),a.jsx(iy,{isOpen:A,onClose:()=>P(!1),onBack:()=>{P(!1),z(!0)},onSave:br}),a.jsx(oy,{isOpen:$,onClose:()=>V(!1),onBack:()=>{V(!1),z(!0)},onLoad:kr}),a.jsx(sy,{isOpen:T,onClose:()=>M(!1),onBack:()=>{M(!1),z(!0)},config:_,setConfig:F,onSave:Mt,onLoad:()=>tt()})]})}Mm.createRoot(document.getElementById("root")).render(a.jsx(kt.StrictMode,{children:a.jsx(my,{})}));
